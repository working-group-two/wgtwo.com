<!doctype html>
<html lang="jp" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Building software for a telecom core network | Working Group Two</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.wgtwo.com/jp/img/wgtwo-logo.png"><meta data-rh="true" name="twitter:image" content="https://www.wgtwo.com/jp/img/wgtwo-logo.png"><meta data-rh="true" property="og:url" content="https://www.wgtwo.com/jp/blog/building-software-for-a-telecom-core-network/"><meta data-rh="true" name="docusaurus_locale" content="jp"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="jp"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" name="og:description" content="We help mobile operators innovate at scale, reduce cost and dive into new revenue streams - by building a mobile core network from the ground up and delivering it as-a-service."><meta data-rh="true" name="og:image" content="/img/wgtwo-logo.png"><meta data-rh="true" name="keywords" content="mvne, private network, epc, 5G core, mvno, IMS core, mobile core, evolved packet core epc, mvno core, core as a service&#x27;"><meta data-rh="true" property="og:title" content="Building software for a telecom core network | Working Group Two"><meta data-rh="true" name="description" content="One of the goals of wgtwo is to enable operators and third parties to build products and services for the “core network” of the telecom stack. In short, this means providing API access to a subscription’s telecom functionality (messaging, calling, etc). In this article we will show how we built VoiceBox, a Voicemail forwarding application."><meta data-rh="true" property="og:description" content="One of the goals of wgtwo is to enable operators and third parties to build products and services for the “core network” of the telecom stack. In short, this means providing API access to a subscription’s telecom functionality (messaging, calling, etc). In this article we will show how we built VoiceBox, a Voicemail forwarding application."><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2020-08-21T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://linkedin.com/in/davidaase"><meta data-rh="true" property="article:tag" content="telecom,software-development,core-network,app-ecosystem"><link data-rh="true" rel="icon" href="/jp/img/favicons/favicon.ico"><link data-rh="true" rel="canonical" href="https://www.wgtwo.com/jp/blog/building-software-for-a-telecom-core-network/"><link data-rh="true" rel="alternate" href="https://www.wgtwo.com/blog/building-software-for-a-telecom-core-network/" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.wgtwo.com/jp/blog/building-software-for-a-telecom-core-network/" hreflang="jp"><link data-rh="true" rel="alternate" href="https://www.wgtwo.com/blog/building-software-for-a-telecom-core-network/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/jp/blog/rss.xml" title="Working Group Two RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/jp/blog/atom.xml" title="Working Group Two Atom Feed">



<!-- Google Tag Manager -->
    <script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-N4969FH",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>
    <!-- End Google Tag Manager --><link rel="stylesheet" href="/jp/assets/css/styles.559cfa0f.css">
<link rel="preload" href="/jp/assets/js/runtime~main.bdab9a99.js" as="script">
<link rel="preload" href="/jp/assets/js/main.80bd92cd.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#000000;color:#b8b8b8" role="banner"><div class="content_knG7 announcementBarContent_xLdY"><a class="announcementBarLinkContainer" target="_blank" href="https://blogs.cisco.com/news/cisco-announces-intent-to-acquire-working-group-two"><img src="/img/cisco.png"><b>Working Group Two is now part of Cisco</b><span class="separator"> | </span><span>Learn more →</span></a></div></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" target="_self" href="/jp/"><div class="navbar__logo"><img src="/jp/img/logo.svg" alt="wgtwo Logo" class="themedImage_ToTc themedImage--light_HNdA" height="32px" width="191px"><img src="/jp/img/logo_white.svg" alt="wgtwo Logo" class="themedImage_ToTc themedImage--dark_i4oU" height="32px" width="191px"></div></a><a class="navbar__item navbar__link" target="_self" href="/jp/technology/">Technology</a><a class="navbar__item navbar__link" target="_self" href="/jp/product-ecosystem/">Product Ecosystem</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Showcase</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/jp/showcase/mobi/">Mobi (MVNO/MNO)</a></li><li><a class="dropdown__link" href="/jp/showcase/ckh-iod/">CKH IOD (MVNE)</a></li><li><a class="dropdown__link" href="/jp/showcase/telenorconnexion/">Telenor Connexion (IoT)</a></li><li><a class="dropdown__link" href="/jp/showcase/mki/">MKI (Private Networks)</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/jp/blog/">Blog</a><a class="navbar__item navbar__link sign-up" href="/jp/contact/">Talk to us</a><div class="searchBox_ZlJk"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link localeDropdown"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>日本語</a><ul class="dropdown__menu"><li><a href="/blog/building-software-for-a-telecom-core-network/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/jp/blog/building-software-for-a-telecom-core-network/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="jp">日本語</a></li></ul></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 blogBackground_WB8r"><div class="container margin-vert--lg"><div class="row"><main class="col col8_DrcQ colOffset1_fYNX singleBlogPageView_LeVK" itemscope="" itemtype="http://schema.org/Blog"><div style="position:fixed;height:4px;background-color:#edf6fa;z-index:999;width:100%;top:0;left:0"><div style="background-color:#93ddff;transition:all 0.5s ease-out;width:0%;height:100%"></div></div><article class="articleContainer_Rf03" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header class="articleCardHeader_doJu"><h1 class="title_xvU1" itemprop="headline">Building software for a telecom core network</h1><div class="container_iJTo margin-vert--md"><div class="dateContainer_S5xq"><time datetime="2020-08-21T00:00:00.000Z" itemprop="datePublished">August 21, 2020</time> · <!-- -->7 min read</div><div class="iconsContainer_WcqX"><button class="button_jnFd"><svg height="500" width="500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500" class="icon_K6Vf"><path d="M50 0C22.3 0 0 22.3 0 50v400c0 27.7 22.3 50 50 50h400c27.7 0 50-22.3 50-50V50c0-27.7-22.3-50-50-50H50zm89.906 105.781c19.182 0 34.719 15.537 34.719 34.719 0 19.182-15.537 34.75-34.719 34.75-19.182 0-34.719-15.568-34.719-34.75 0-19.182 15.537-34.719 34.72-34.719zm181.875 90.438c3.922.014 7.925.199 13.313.531 26.184 1.615 55.36 22.08 56.219 70.031.706 39.493.5 102.081.5 125.125H332.28c0-23.574.25-72.274.25-106.719 0-15.672-7.035-36.75-32.094-36.75-27.597 0-34.312 25.645-34.312 36.75 0 33.074-.281 85.752-.281 106.72h-59.188c0-35.345.375-156.654.375-190.907 30.568 0 45.191-.063 56.375-.063 0 11.218-.094 18.722-.094 26.907 9.337-18.852 34.832-30.655 45.75-31.219 4.98-.257 8.797-.42 12.72-.406zm-211.594 5.531h59.344v190.063h-59.344V201.75z" style="fill-opacity:1;fill-rule:nonzero"></path></svg></button><button class="button_jnFd"><svg xmlns="http://www.w3.org/2000/svg" height="56.693" width="56.693" viewBox="0 0 56.693 56.693" xml:space="preserve" class="icon_K6Vf"><rect width="100%" height="100%" fill="none"></rect><g class="currentLayer"><title>Layer 1</title><path d="M56.237 11.546a22.859 22.859 0 0 1-6.598 1.809 11.509 11.509 0 0 0 5.051-6.357 22.997 22.997 0 0 1-7.295 2.79 11.473 11.473 0 0 0-8.385-3.629c-6.344 0-11.488 5.144-11.488 11.489 0 .899.101 1.775.298 2.618-9.548-.48-18.014-5.053-23.68-12.004a11.43 11.43 0 0 0-1.555 5.777c0 3.985 2.027 7.502 5.11 9.562a11.456 11.456 0 0 1-5.204-1.438v.145c0 5.565 3.96 10.208 9.215 11.265a11.55 11.55 0 0 1-5.189.195c1.463 4.564 5.705 7.887 10.732 7.979A23.047 23.047 0 0 1 2.98 46.665c-.926 0-1.841-.055-2.74-.161a32.51 32.51 0 0 0 17.61 5.161c21.132 0 32.687-17.505 32.687-32.686 0-.498-.01-.995-.032-1.488a23.268 23.268 0 0 0 5.731-5.945z" class="selected"></path></g></svg></button><button class="button_jnFd"><svg xmlns="http://www.w3.org/2000/svg" width="256" height="256" viewBox="0 0 256 256" class="icon_K6Vf"><rect width="100%" height="100%" fill="none"></rect><g class="currentLayer"><title>Layer 1</title><path fill="none" d="M0 0h256v256H0z"></path><path d="M255.429 115.27a33.99 33.99 0 0 0-56.19-25.705c-17.844-9.453-39.088-15.189-61.287-16.464l5.523-33.14 23.156 3.612a25.705 25.705 0 1 0 2.655-16.783l-31.547-4.886a8.497 8.497 0 0 0-9.666 7.01l-7.329 44.081c-23.155.956-45.46 6.692-64.049 16.57a33.99 33.99 0 0 0-45.249 50.666 65.218 65.218 0 0 0-2.443 17.526c0 23.262 12.746 45.037 36.008 61.076s51.728 23.899 82.956 23.899 60.65-8.498 82.957-23.9 36.007-37.813 36.007-61.075a63.837 63.837 0 0 0-2.443-17.42 34.415 34.415 0 0 0 10.94-25.067zM68.485 145.011a16.995 16.995 0 1 1 16.995 16.995 16.995 16.995 0 0 1-16.995-16.995zm98.464 54.277a85.08 85.08 0 0 1-77.964 0 8.497 8.497 0 0 1 7.754-15.082 68.192 68.192 0 0 0 62.456 0 8.497 8.497 0 0 1 7.754 15.082zm3.505-37.282a16.995 16.995 0 1 1 16.995-16.995 16.995 16.995 0 0 1-16.995 16.995z"></path></g></svg></button><span class="spacer_N6vp">|</span><button class="button_jnFd"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" class="icon_K6Vf iconLink_fFIC"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"></path></svg></button></div></div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_q4o9"><div class="avatar margin-bottom--sm"><a href="https://linkedin.com/in/davidaase" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="/img/author-photos/daa.jpg" alt="David Åse"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://linkedin.com/in/davidaase" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">David Åse</span></a></div><small class="avatar__subtitle" itemprop="description" title="Engineering Manager for Ecosystem">Engineering Manager for Ecosystem</small></div></div></div></div></header><div id="__blog-post-container" class="markdown articleContent_wrOu" itemprop="articleBody"><p>One of the goals of <strong>wgtwo</strong> is to enable operators and third parties to build products and services for the “core network” of the telecom stack. In short, this means providing API access to a subscription’s telecom functionality (messaging, calling, etc). In this article we will show how we built VoiceBox, a Voicemail forwarding application.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-product">The product<a href="#the-product" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>One of the most common complaints people have with their Voicemail service in Europe is that you have to call in to your Voicemail to listen to your messages. In order to play the message, you have to navigate through a slow voice menu using your dialpad. We believed this would be easy to improve.</p><p>Our product idea was simple. When Alice leaves a voicemail message for Bob, Bob receives this message either as an audio file or as a speech-to-text transcript.</p><p><img loading="lazy" alt="VoiceBox splash screen" src="/jp/assets/images/voicebox-splash-6d10dc0d5c9ca95802530f5fd836ef96.png" width="360" height="640" class="img_ev3q">
<img loading="lazy" alt="VoiceBox home screen" src="/jp/assets/images/voicebox-home-068b8f7a8c60ed57cf2d95e6ae99693e.png" width="360" height="640" class="img_ev3q">
<img loading="lazy" alt="Android messaging app" src="/jp/assets/images/message-inbox-88042532d7ac1cfaebdfba3e6afb2509.png" width="360" height="640" class="img_ev3q"></p><p>The product idea isn’t what most people would call revolutionary, but almost all of the world&#x27;s mobile operators have hermetically sealed core networks. This means it would be impossible to build this product without lawyering up and coming to some sort of agreement with one of them. The <strong>wgtwo</strong> core network, however, is open and provides API access to Voicemail, MMS and SMS  (among other things), which is just what we need to build our product.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="developing-on-the-wgtwo-platform">Developing on the <strong>wgtwo</strong> platform<a href="#developing-on-the-wgtwo-platform" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>To create a product on the <strong>wgtwo</strong> platform, the first thing you have to do is create a free developer account at <a href="https://developer.wgtwo.com" target="_blank" rel="noopener noreferrer"><a href="https://developer.wgtwo.com" target="_blank" rel="noopener noreferrer">https://developer.wgtwo.com</a></a>. Once you have signed up, you have to create an Organization and add a Product to that organization.</p><p>You can specify what permissions your product will require in the <code>Product &gt; Scopes</code> tab:</p><p><img loading="lazy" alt="Developer Portal Scopes Screen" src="/jp/assets/images/developer-portal-scopes-ef5c424f0dff92f40ac64b2a4fd748bd.png" width="740" height="709" class="img_ev3q"></p><p>In an ideal world, VoiceBox would work like this:</p><ol><li>The subscriber signs in and enables the desired functionality in VoiceBox.</li><li>The next time the subscriber receives a voicemail, an event is fired by <strong>wgtwo</strong>’s core network, which VoiceBox receives.</li><li>VoiceBox triggers an SMS/MMS send using our APIs.</li><li>The subscriber receives an SMS/MMS from the sender “VoiceBox”.</li></ol><p>In a few months time this ideal world should be reality, but at the time of writing (mid August 2020) we’re missing the events API and the “Send from Product” API. Currently VoiceBox works like this (changes are highlighted):</p><ol><li>The subscriber signs in and enables the desired functionality in VoiceBox.</li><li>The next time the subscriber receives a voicemail, <strong>VoiceBox will discover it by polling</strong>.</li><li>VoiceBox triggers an MMS send using our APIs.</li><li>The subscriber receives an <strong>MMS from their own number</strong>.</li></ol><p>It’s not perfect, but it still demonstrates the potential of the platform. None of this can happen without the subscriber’s consent though, so in the next section we’ll have a look at how that works.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="obtaining-user-consent">Obtaining user consent<a href="#obtaining-user-consent" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>The app we&#x27;re building is touching sensitive data, and we can&#x27;t do that without asking the subscriber if it’s okay. The <strong>wgtwo</strong> platform includes an OAuth implementation with SMS authentication, which means that we can be reasonably sure that the subscriber has consented.</p><p>When a subscriber opens VoiceBox for the first time, they’re met with a login page, and after completing a pin challenge they arrive at an OAuth consent screen. Here they have to accept the terms of VoiceBox, as well as all the required scopes.</p><p>The login is branded to look like the product (notice the pink action button), while the consent screen is branded to look like the operator (in our case this is <a href="https://vimla.se" target="_blank" rel="noopener noreferrer">Vimla</a>, a Swedish operator which uses our platform):
<img loading="lazy" alt="ID login screen" src="/jp/assets/images/msisdn-screen-0938beb47bb12752909ad9b10912f9c4.png" width="360" height="640" class="img_ev3q">
<img loading="lazy" alt="ID pin screen" src="/jp/assets/images/pin-screen-c16025eef0a1d6621d3c29fc54a045fa.png" width="360" height="640" class="img_ev3q">
<img loading="lazy" alt="ID consent screen" src="/jp/assets/images/consent-screen-f6be7afcb64d2bfd259bf029a73a9b16.png" width="360" height="640" class="img_ev3q"></p><p>Our platform has a standard <a href="https://oauth.net/2/" target="_blank" rel="noopener noreferrer">OAuth 2</a> flow. When the subscriber taps “Accept”, <strong>wgtwo</strong> redirects the subscriber to the third-party, which receives an &quot;access token&quot; that allows them to act on behalf of the subscriber. In this case the access token will let the third-party fetch Voicemails and send MMS from the subscriber, so it’s important to keep it safe.
Next we’ll look at using this access token to perform actions on the subscriber&#x27;s behalf.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="connecting-to-the-wgtwo-api">Connecting to the <strong>wgtwo</strong> API<a href="#connecting-to-the-wgtwo-api" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>All <strong>wgtwo</strong> APIs are <a href="https://grpc.io/" target="_blank" rel="noopener noreferrer">gRPC</a>. This can be a bit intimidating if you are used to REST APIs, but luckily we also have official Java clients distributed through Maven/JitPack. If you want to use a different language you can generate your own client using our public proto files. One of the benefits of gRPC is that you don’t have to ever write your own rest adapter for the API.</p><p>Let’s have a look at how you can fetch a Voicemail file:</p><div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">fun getVoicemail(user: User, uuid: String): Voicemail? {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    val getVoicemailRequest = VoicemailProto.GetVoicemailRequest.newBuilder().setVoicemailId(uuid).build()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    val voicemail = try {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        blockingStub</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                .withOAuthTokenFor(user) // this function attaches the access token (from the consent screen)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                .getVoicemail(getVoicemailRequest)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    } catch (e: StatusRuntimeException) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        logger.warn(&quot;Error getting voicemail $uuid; ${e.message}&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        throw e</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    if (voicemail.metadata) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        return Voicemail(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            ... // we map the gRPC voicemail object to a VoiceBox specific object</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        )</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    } else {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        logger.warn(&quot;No voicemail metadata for $uuid&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        return null</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We use the official <strong>wgtwo</strong> API client to fetch a voicemail based on the UUID of the voicemail, which we polled for earlier (code not shown).</p><p>Unlike with REST APIs, we don&#x27;t have to think about writing client code and handling HTTP responses, this is taken care of by the gRPC client library.</p><p>Once we have the voicemail, we send it to the subscriber using their own number as the sender:</p><div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">fun sendMms(user: User, phone: Msisdn, audio: ByteString) = try {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    val request = MmsProto.SendMessageFromSubscriberRequest</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            .newBuilder()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            .addMessageContent(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                MmsProto.MessageContent.newBuilder().setAudio(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    MmsProto.AudioContent.newBuilder().setWav(audio)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                )</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            )</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            .setToE164(phone.toPhoneNumberProto()) // the receiver is the same as the sender</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            .setFromSubscriber(phone.toPhoneNumberProto()) // the sender is the same as the receiver</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            .build()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    val response = blockingStub</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            .withOAuthTokenFor(user) // this function attaches the access token (from the consent screen)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            .sendMessageFromSubscriber(request)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    if (response.status == MmsProto.SendResponse.SendStatus.SEND_OK) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    } else {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        logger.warn(&quot;Unable to send MMS to ${phone.e164}: ${response.description} (${response.status.name})&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">} catch (e: Exception) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    logger.warn(&quot;Unable to send MMS to ${phone.e164}: ${e.message}&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This is also pretty straightforward, except for the part where the sender is also the receiver. In the future this will be a bit less confusing, since we’ll be sending the MMS from the product (“VoiceBox”) instead of the subscriber itself.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>As you can see, we’re still in the early stages of our developer platform. In the coming year, we will be adding a lot more APIs, as well as building an app-store where subscribers can browse products that they want to add to their subscription. We believe opening up the core network in this way will allow third-party developers to build incredible apps that will lead to much happier subscribers, which will in turn lead to subscriber growth for operators on our platform.</p><p>At the time of writing, all apps on the platform have to be free, but we are working on a monetization model similar to that of the Apple and Google app-stores. Our main priority is to come up with a model that is fair to both third-party developers and operators.</p><p>If you’re interested in our platform, please head on over to <a href="https://developer.wgtwo.com" target="_blank" rel="noopener noreferrer"><a href="https://developer.wgtwo.com" target="_blank" rel="noopener noreferrer">https://developer.wgtwo.com</a></a> and create an account. If you have any questions please contact us at <a href="mailto:products@wgtwo.com" target="_blank" rel="noopener noreferrer">products@wgtwo.com</a>.</p></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/jp/blog/tags/telecom/">telecom</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/jp/blog/tags/software-development/">software-development</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/jp/blog/tags/core-network/">core-network</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/jp/blog/tags/app-ecosystem/">app-ecosystem</a></li></ul></div><div class="col sharingSection_o4gn col--3"><button aria-haspopup="true" aria-expanded="false" type="button" class="szh-menu-button sharingButton__GCX"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="sharingIcon_aNi7"><path d="M4 12v8a2 2 0 002 2h12a2 2 0 002-2v-8"></path><polyline points="16 6 12 2 8 6"></polyline><line x1="12" y1="2" x2="12" y2="15"></line></svg></button></div><div class="col margin-top--sm"><a href="https://github.com/working-group-two/wgtwo.com/edit/main/blog/../blog/2020-08-21-building-software-for-a-telecom-core-network.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/jp/blog/a-new-hope-for-products-in-telecom/"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">A new hope for products in telecom</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/jp/blog/choosing-erlang-formatter/"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Choosing an Erlang formatter</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#the-product" class="table-of-contents__link toc-highlight">The product</a></li><li><a href="#developing-on-the-wgtwo-platform" class="table-of-contents__link toc-highlight">Developing on the <strong>wgtwo</strong> platform</a></li><li><a href="#obtaining-user-consent" class="table-of-contents__link toc-highlight">Obtaining user consent</a></li><li><a href="#connecting-to-the-wgtwo-api" class="table-of-contents__link toc-highlight">Connecting to the <strong>wgtwo</strong> API</a></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Product</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://docs.wgtwo.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">API Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://console.wgtwo.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Console Login<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" target="_self" href="/jp/implementation/">Implementation</a></li><li class="footer__item"><a href="https://support.wgtwo.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Customer Support<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" target="_self" href="/jp/privacy/">Privacy Notice</a></li></ul></div><div class="col footer__col"><div class="footer__title">Company</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" target="_self" href="/jp/docs/about/introduction/">About</a></li><li class="footer__item"><a class="footer__link-item" target="_self" href="/jp/blog/">Blog</a></li><li class="footer__item"><a class="footer__link-item" target="_self" href="/jp/docs/case-studies/mvnx/">Case Studies</a></li><li class="footer__item"><a class="footer__link-item" target="_self" href="/jp/team/">Team</a></li><li class="footer__item"><a class="footer__link-item" target="_self" href="/jp/terms-of-use/">Terms of Use</a></li><li class="footer__item"><a href="https://jobs.cisco.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Careers<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.wgtwo.com/jp" target="_blank" rel="noopener noreferrer" class="footer__link-item">wgtwo.com/jp 合同会社<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Security</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" target="_self" href="/jp/security/">Security Overview</a></li><li class="footer__item"><a class="footer__link-item" target="_self" href="/jp/docs/technology/security-whitepaper/">Security Whitepaper</a></li><li class="footer__item"><a class="footer__link-item" target="_self" href="/jp/security/responsible-disclosure/">Responsible Disclosure</a></li><li class="footer__item"><a href="https://trust.wgtwo.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Trust Report<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Connect</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" target="_self" href="/jp/docs/about/media-and-analysts/">Media &amp; Analysts</a></li><li class="footer__item"><a href="https://www.youtube.com/@workinggrouptwo2286" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/workinggrouptwo" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/working-group-two" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://linkedin.com/company/wgtwo" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" target="_self" href="/jp/contact/">Contact Us</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a class="footerLogoLink_BH7S" href="/jp/"><img src="/jp/img/logo_white.svg" alt="wgtwo Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo" width="191px" height="32px"><img src="/jp/img/logo_white.svg" alt="wgtwo Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo" width="191px" height="32px"></a></div><div class="footer__copyright">© 2023 Working Group Two AS</div></div></div></footer></div>
<script src="/jp/assets/js/runtime~main.bdab9a99.js"></script>
<script src="/jp/assets/js/main.80bd92cd.js"></script>
<!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N4969FH" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) --></body>
</html>